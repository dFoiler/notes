% !TEX root = ../notes.tex

\documentclass[../notes.tex]{subfiles}

\begin{document}

\section{April 7}

Please send Professor Olsson a short email of about 1 paragraph to propose a term-paper topic.

\subsection{Heights as Quadratic Forms}
We are going to want the following result.
\begin{theorem}[{\cite[VIII.5.6]{silverman}}] \label{thm:height-move-proj}
	Fix a map $f\colon\PP^N_k\to\PP^M_k$ of degree $d$. Then there are constants $c_1$ and $c_2$ such that
	\[c_1H(P)^d\le H(f(P))\le c_2H(P)^d.\]
	In other words, $\log H(f(P))=d\log H(P)+O(1)$.
\end{theorem}
\begin{proof}
	Omitted for now.
\end{proof}
Now, recall that we defined our height function $h_E$ on $E(\overline K)$ by
\[E(\overline K)\stackrel\pi\to\PP^1_k(\overline K)\xrightarrow{\log H}\RR,\]
where $\pi\colon E\to\PP^1_k$ is the usual double-cover, and $\log H_{\PP^1}$ is defined as we've been working. Last class, we showed that this height function $h_E$ satisfies condition (c) for being a height function. It remains to show (a) and (b).

To warm us up, consider the map $\varphi\colon\PP^1_k\times\PP^1\to\PP^2_k$ by
\[\rho([\alpha_1:\beta_1],[\alpha_2:\beta_2])\coloneqq[\beta_1\beta_2:\alpha_1\beta_2+\alpha_2\beta_1:\alpha_1\alpha_2].\]
One can check by hand that this is base-point-free. The corresponding line bundle here is $\OO(1)\boxtimes\OO(1)=p_1^*\OO(1)\otimes p_2^*\OO(1)$. Global sections of this line bundle after looking affine-locally and appropriately gluing turn out to be
\[\Gamma\left(\PP^1_k,\OO(1)\right)\otimes_k\Gamma\left(\PP^1_k,\OO(1)\right).\]
Now, the three global sections are $v_1\otimes v_2$ and $u_1\otimes v_2+v_2\otimes u_1$ and $u_1\otimes u_2$, where $\PP^1=\Proj k[u_1,v_1]$ and $\PP^1=\Proj k[u_2,v_2]$, respectively. We now have the following computation.
\begin{proposition} \label{prop:height-rho-is-additive}
	Given $R_1,R_2\in\PP^1(\overline K)$, we have
	\[h_{\PP^2}(\rho(R_1,R_2))=h_{\PP^1}(R_1)+h_{\PP^1}(R_2)+O(1).\]
\end{proposition}
\begin{proof}
	If $R_1=[1:0]$, then the formulae directly give $h_{\PP^1}(\rho(R_1))=0$ and
	\[\rho(R_1,R_2)=[0:\beta_2:\alpha_2]\qquad\text{where}\qquad R_2=[\alpha_2:\beta_2].\]
	So we see that $h_{\PP^2}(\rho(R_1,R_2))=h_{\PP^1}(\rho(R_2))$ in this case. A symmetric argument works for $R_2=[1:0]$ as well.

	Otherwise, we may write $R_1=[\alpha_1:1]$ and $R_2=[\alpha_2:1]$, and we find that $\varphi(R_1,R_2)=[1:\alpha_1+\alpha_2:\alpha_1\alpha_2]$. However, this means that $h_{\PP^2}(\rho(R_1,R_2))$ is computing the height of the coefficients of $(T+\alpha_1)(T+\alpha_2)$. On the other hand, $h_{\PP^1}(R_1)+h_{\PP^1}(R_2)$ computes the height of those roots; thus, we are done by \Cref{lem:roots-to-poly-height} combined with the lower bound which we didn't quite prove in full.
\end{proof}
We now return to discuss elliptic curves. Define $G\colon E\times E\to E\times E$ by $(P,Q)\mapsto(P+Q,P-Q)$. Explicitly, on schemes, this map is given by $(\mu,\mu\circ(1,-1))$. We now have the following result.
\begin{proposition} \label{prop:get-magic-g}
	There is a map $g\colon\PP^2_k\to\PP^2_k$ of degree $2$ such that the following diagram commutes.
	% https://q.uiver.app/?q=WzAsNixbMCwwLCJFXFx0aW1lcyBFIl0sWzAsMSwiRVxcdGltZXMgRSJdLFsxLDAsIlxcUFBeMVxcdGltZXNcXFBQXjEiXSxbMSwxLCJcXFBQXjFcXHRpbWVzXFxQUF4xIl0sWzIsMCwiXFxQUF4yIl0sWzIsMSwiXFxQUF4yIl0sWzAsMiwiKFxccGksXFxwaSkiXSxbMiw0LCJcXHJobyJdLFsxLDMsIihcXHBpLFxccGkpIl0sWzMsNSwiXFxyaG8iXSxbMCwxXSxbNCw1LCJnIl1d&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		{E\times E} & {\PP^1\times\PP^1} & {\PP^2} \\
		{E\times E} & {\PP^1\times\PP^1} & {\PP^2}
		\arrow["{(\pi,\pi)}", from=1-1, to=1-2]
		\arrow["\rho", from=1-2, to=1-3]
		\arrow["{(\pi,\pi)}", from=2-1, to=2-2]
		\arrow["\rho", from=2-2, to=2-3]
		\arrow[from=1-1, to=2-1]
		\arrow["g", from=1-3, to=2-3]
	\end{tikzcd}\]
\end{proposition}
Let's explain why this will finish our height computation. Define $\sigma\colon E\times E\to\PP^2$ by $\rho\circ(\pi,\pi)$. Note that
\[h_{\PP^2}(\sigma(P+Q,P-Q))=h_{\PP^2}(\sigma\circ G(P,Q))=h_{\PP^2}(g\circ\sigma(P,Q))=2h_{\PP^2}(\sigma(P,Q))+O(1),\]
where we have used \Cref{thm:height-move-proj} in the last equality. Continuing, \Cref{prop:height-rho-is-additive} tells us that
\[2h_{\PP^2}(\sigma(P,Q))+O(1)=2(h_{\PP^1}(\pi P)+h_{\PP^1}(\pi Q))+O(1).\]
On the other hand, $h_{\PP^2}(\sigma(P+Q,P-Q))=h_{\PP^1}(\pi(P+Q))+h_{\PP^1}(\pi(P-Q))$ by \Cref{prop:height-rho-is-additive} again, so combining yields
\begin{equation}
	h_E(P+Q)+h_E(P-Q)=2h_E(P)+2h_E(Q)+O(1). \label{eq:ec-height-parallelogram}
\end{equation}
This is more or less a fuzzy parallelogram law.
\begin{corollary} \label{cor:finishing-height}
	Fix an elliptic curve $E$ over a number field $K$.
	\begin{listalph}
		\item Given $Q\in E(K)$, we have $h_E(P+Q)\le 2h_E(P)+O_Q(1)$ for any $P\in E(K)$.
		\item For any $m\ge0$, we have $h_E(mP)=m^2h_E(P)+O(m)$.
	\end{listalph}
\end{corollary}
\begin{proof}
	For (a), we see that \eqref{eq:ec-height-parallelogram} tells us that
	\[h_E(P+Q)\le h_E(P+Q)+h_E(P-Q)=2h_E(P)+2h_E(Q)+O(1)=2h_E(P)+O_Q(1).\]
	Lastly, for (b), we induct on $m$. For $m=0$ and $m=1$, there is nothing to say. To induct, we suppose $m$ and $m+1$, so we compute
	\[h_E((m+2)P)=-h_E(mP)+2h_E((m+1)P)+2h_E(P)+O(m)\]
	from \eqref{eq:ec-height-parallelogram}. By the inductive hypothesis, we achieve
	\[h_E((m+2)P)=\left(-m^2+2(m+1)^2+2\right)h_E(P)+O_m(1)=(m+2)^2h_E(P)+O(m),\]
	which completes the proof.
\end{proof}
\begin{remark}
	The N\'eron--Tate ``canonical'' height takes \eqref{eq:ec-height-parallelogram} and fixes this into a bona fide quadratic form. Explicitly, one expects that
	\[h_E(P)=\frac1{4^r}h_E\left(2^rP\right)+O\left(2^{-r}\right)\]
	should not really have a big-$O$ term, so we define
	\[\hat h_E(P)\coloneqq\lim_{r\to\infty}\frac1{4^r}h_E\left(2^rP\right),\]
	which does indeed converge.
\end{remark}
Thus, \Cref{cor:finishing-height} will complete showing that $h_E$ is a height function.

\end{document}