% !TEX root = ../notes.tex

\documentclass[../notes.tex]{subfiles}

\begin{document}

We continue to discuss various Ext things.

\subsection{Ext for Locally Free Sheaves}
We now upgrade \Cref{rem:locally-free-move-hom} as follows.
\begin{proposition} \label{prop:ext-locally-free}
	Fix a locally free $\OO_X$-module $\mc E$ on the ringed space $(X,\OO_X)$. Then
	\[\mathrm{Ext}^\bullet(\mc F\otimes\mc E,\mc G)\cong\mathrm{Ext}^\bullet(\mc F,\mc E^\lor\otimes\mc G)\qquad\text{and}\qquad\mc Ext^\bullet(\mc F\otimes\mc E,\mc G)\cong\mc Ext^\bullet(\mc F,\mc E^\lor\otimes\mc G)\]
	for any $\OO_X$-modules $\mc F$ and $\mc G$.
\end{proposition}
\begin{proof}
	Fix an injective resolution $0\to\mc G\to\mc I^\bullet$ of $\mc G$. Then note that tensoring with $\mc E^\lor$ is exact because $\mc E^\lor$ is locally free (indeed, simply check this on stalks), so we may compute
	\begin{align*}
		\mathrm{Ext}^\bullet(\mc F\otimes\mc E,\mc G) &= h^\bullet(\op{Hom}(\mc F\otimes\mc E,\mc I^\bullet)) \\
		&\stackrel*\cong h^i(\op{Hom}(\mc F,\mc E^\lor\otimes\mc G)) \\
		&=\mathrm{Ext}^\bullet(\mc F,\mc E^\lor\otimes\mc G).
	\end{align*}
	Notably, $\stackrel*\cong$ has used \Cref{rem:locally-free-move-hom}. Similarly,
	\begin{align*}
		\mc Ext^\bullet(\mc F,\mc E^\lor\otimes\mc G) &= h^\bullet(\mc Hom(\mc F,\mc E^\lor\otimes\mc I^\bullet)) \\
		&= h^i(\mc Hom(\mc F\otimes\mc E,\mc I^\bullet)) \\
		&= \mc Ext^\bullet(\mc F\otimes\mc E,\mc G),
	\end{align*}
	and
	\begin{align*}
		\mc Ext^\bullet(\mc F,\mc E^\lor\otimes\mc G) &= h^\bullet(\mc Hom(\mc F,\mc E^\lor\otimes\mc I^\bullet)) \\
		&= h^i(\mc Hom(\mc F,\mc I^\bullet)\otimes\mc E) \\
		&\stackrel*= h^i(\mc Hom(\mc F,\mc I^\bullet))\otimes\mc E \\
		&= \mc Ext^\bullet(\mc F\otimes\mc E,\mc G)\otimes\mc E,
	\end{align*}
	where $\stackrel*=$ holds by exactness of $-\otimes\mc E$.
\end{proof}
We now discuss the other entry for $\mc Ext$.
\begin{proposition}
	Fix a short exact sequence
	\[0\to\mc F'\to\mc F\to\mc F'\to0\]
	of $\OO_X$-modules on the locally ringed space $(X,\OO_X)$. Then for any $\OO_X$-module $\mc G$, there is a long exact sequence
	\[0\to\mc Hom(\mc F'',\mc G)\to\mc Hom(\mc F,\mc G)\to\mc Hom(\mc F',\mc G)\to\mc Ext^1(\mc F'',\mc G)\to\cdots.\]
\end{proposition}
\begin{proof}
	Fix an injective resolution $0\to\mc G\to\mc I^\bullet$ of $\mc G$. Then any open $U\subseteq X$ produces a short exact sequence of complexes
	\[0\to\op{Hom}(\mc F''|_U,\mc I^\bullet|_U)\to\op{Hom}(\mc F|_U,\mc I^\bullet|_U)\to\op{Hom}(\mc F'|_U,\mc I^\bullet)\to0\]
	because each $\mc I^\bullet|_U$ is injective by \Cref{lem:restrict-injective-open}. Thus, we get an exact sequence
	\[0\to\mc Hom(\mc F'',\mc I^\bullet)\to\mc Hom(\mc F,\mc I^\bullet)\to\mc Hom(\mc F',\mc I^\bullet)\to0,\]
	so \Cref{prop:get-les-complex} provides the desired long exact sequence.
\end{proof}
\begin{remark}
	The same proof shows the analogous result for $\op{Hom}$ and $\op{Ext}$. Namely, we simply take $U=X$ in our first short exact sequence and then apply \Cref{prop:get-les-complex}.
\end{remark}
\begin{remark} \label{rem:resolve-for-left-ext}
	Using spectral sequences, one can show that a resolution $\mc E_\bullet\to\mc F\to0$ of $\mc F$ by locally free sheaves of finite rank gives rise to canonical isomorphisms
	\[\mc Ext^\bullet(\mc F,\mc G)\cong h^\bullet(\mc Hom(\mc E_\bullet,\mc G)).\]
\end{remark}

\subsection{More on \texorpdfstring{$\mc Ext$}{ Ext}}
We take a moment to discuss how to take stalks of $\mc Ext$.
\begin{proposition} \label{prop:stalk-of-ext}
	Fix a Noetherian scheme $X$, and let $\mc F$ be coherent on $X$, and let $\mc G$ be any sheaf of $\OO_X$-modules. For any $x\in X$, we have
	\[\mc Ext^\bullet(\mc F,\mc G)_x\cong\mathrm{Ext}^\bullet_{\OO_{X,x}}(\mc F_x,\mc G_x).\]
\end{proposition}
Note that we have already discussed how to make sense of $\mathrm{Ext}^\bullet_{\OO_{X,x}}$ because this is just $\mathrm{Ext}$ on the locally ringed space $(x,\OO_{X,x})$.
\begin{proof}
	\Cref{prop:restrict-ext} explains that both sides of our computation are local on $X$, so we may assume that $X$ is affine; say $X=\Spec A$. Being coherent means that $\mc F=\widetilde M$ where $M$ is a finitely generated $A$-module. Because we are in a Noetherian ring, we may this give $M$ is a resolution $E_\bullet\to M\to 0$ by free $A$-modules $E_\bullet$ of finite rank. Thus, \Cref{rem:resolve-for-left-ext} lets us compute
	\[\mc Ext^\bullet(\mc F,\mc G)_x = h^\bullet(\mc Hom(\widetilde{\mc E}_\bullet,\mc G))_x \stackrel*= h^\bullet\left(\mc Hom(\widetilde{ E}_\bullet,\mc G)_x\right) = h^\bullet\left((\widetilde{ E}^\lor_\bullet\otimes\mc G)_x\right),\]
	where $\stackrel*=$ holds by exactness of taking stalks. On the other hand, using \Cref{rem:resolve-for-left-ext} again, we see
	\[\mathrm{Ext}^\bullet_{\OO_{X,x}}(\mc F_x,\mc E_x)=h^\bullet(\op{Hom}_{\OO_{X,x}}((\widetilde E_\bullet)_x,\mc G_x))=h^\bullet\left((\widetilde E^\lor_\bullet)_x\otimes_{\OO_{X,x}}\mc G_x\right).\]
	(Observe that we are frequently and silently using \Cref{rem:locally-free-move-hom}.) We now note that our two computations have gotten the same answer because the stalk of a tensor product is the tensor product of the stalks.
\end{proof}
Next up, we discuss $\mc Ext$ on projective schemes.
\begin{proposition} \label{prop:twist-ext-vanishes}
	Fix a projective scheme $X$ over a Noetherian ring $A$, and let $\OO_X(1)$ be a very ample line bundle on $X$. Given coherent sheaves $\mc F$ and $\mc G$ on $X$, there is an integer $n_0\coloneqq n_0(\mc F,\mc G,\OO_X(1))$ such that
	\[\Gamma(X,\mc Ext^\bullet(\mc F,\mc G(n)))\cong\mathrm{Ext}^\bullet(\mc F,\mc G(n))\]
	for all $n\ge n_0$.
\end{proposition}
\begin{proof}
	We proceed in steps.
	\begin{enumerate}
		\item We deal with some easy cases. If $i=0$, then the result holds simply by definition of $\mc Hom$ (namely, global sections is $\op{Hom}$). Also, if $\mc F$ is locally free, then we use \Cref{prop:ext-locally-free} and \Cref{ex:ext-and-h} to see
		\[\op{Ext}^i(\mc F,\mc G(n))\cong\op{Ext}^\bullet(\OO_X,\mc F^\lor\otimes\mc G(n))\cong H^i(X,(\mc F^\lor\otimes\mc G)(n))\]
		vanishes for $i>0$ and $n$ sufficiently large by \Cref{thm:coh-cohom-proj-space}. Similarly, combining \Cref{prop:ext-locally-free} and \Cref{ex:ext-and-h}, we see
		\[\Gamma(X,\mc Ext^i(\mc F,\mc G(n)))\cong\Gamma(X,\mc Ext^i(\OO_X,\mc F^\lor\otimes\mc G(n)))=\Gamma(X,0)\]
		for any $i>0$ and any integer $n$.
		\item We now handle the general case. We induct on $i$. For $i=0$, there is nothing to say. Now, for any coherent $\mc F$, we can find a locally free coherent sheaf $\mc E$ surjecting onto $\mc F$ by some kind of local argument.\footnote{The point is that $\mc F(n)$ is globally generated for sufficiently large $n$, so one can take $\mc E$ to be some power of $\OO_X(-n)$.} This gives rise to a short exact sequence
		\[0\to\mc K\to\mc E\to\mc F\to0\]
		of coherent $\OO_X$-modules. Now, because $\mc E$ is locally free, we know that $\mathrm{Ext}^i(\mc E,\mc G(n))=0$ for large enough $n$ and $\mc Ext^i(\mc E,\mc F(n))=0$ for all integers $n$. For $i>1$, the long exact sequence now provides isomorphisms
		\[\mathrm{Ext}^i(\mc K,\mc G(n))\cong\mathrm{Ext}^{i+1}(\mc F,\mc G(n))\qquad\text{and}\qquad\mc Ext^i(\mc K,\mc G(n))\cong\mc Ext^{i+1}(\mc F,\mc G(n)),\]
		for $n$ sufficiently large, from which taking global sections reveals
		\[\Gamma\left(X,\mc Ext^i(\mc K,\mc G(n))\right)\cong\Gamma\left(X,\mc Ext^{i+1}(\mc F,\mc G(n))\right),\]
		so we are done by the inductive hypothesis applied to $\mc K$.

		For $i=1$, we must do more work. Here, we get the exact sequences
		\[0\to\op{Hom}(\mc F,\mc G(n))\to\op{Hom}(\mc E,\mc G(n))\to\op{Hom}(\mc K,\mc G(n))\to\op{Ext}^1(\mc F,\mc G(n))\to0,\]
		and
		\[0\to\mc Hom(\mc F,\mc G(n))\to\mc Hom(\mc E,\mc G(n))\to\mc Hom(\mc K,\mc G(n))\to\mc Ext^1(\mc F,\mc G(n))\to0,\]
		where these final terms are vanishing by moving $\mc E$ around and using \Cref{ex:ext-and-h}. Now, taking global sections of the last sequence produces the sequence
		\[0\to\Gamma(X,\mc Hom(\mc F,\mc G(n)))\to\Gamma(X,\mc Hom(\mc E,\mc G(n)))\to\Gamma(X,\mc Hom(\mc K,\mc G(n)))\to\Gamma\left(X,\mc Ext^1(\mc F,\mc G(n))\right)\to0,\]
		which we now check is exact for $n$ sufficiently large: exactness on the left is free, and we purchase exactness on the right by Exercise~III.5.10. The point is that we get isomorphisms
		\[\op{Ext}^1(\mc F,\mc G(n))\cong\coker(\op{Hom}(\mc E,\mc G(n))\to\op{Hom}(\mc K,\mc G(n)))\cong\op{coker}\Gamma(\mc Hom(\mc E,\mc G(n))\to\mc Hom(\mc K,\mc G(n))\cong\Gamma\left(X,\mc Ext^1(\mc F,\mc G(n))\right).\]

		Technically, have not yet checked that $n_0$ is independent of $n$. Well, because $\OO_X(1)$, it comes from a closed embedding $X\to\PP^r_A$. So using \v Cech cohomology, we see that
		\[\op{Ext}^i(\mc E,\mc G(n))\cong\op{Ext}(\OO_X,\mc E^\lor\otimes\mc G(n))\cong H^i(X,(\mc E^\lor\otimes\mc G(n))=0\]
		for $i>r$ and any $n$, $\mc E$, and $\mc G$. By computing at stalks via \Cref{prop:stalk-of-ext}, we also see that $\mc Ext^i(\mc E,\mc G(n))=0$ for $i>r$. The point is that $n_0$ can be independent of $i$ because there are only finitely many $i$ to choose from, so we can just take $n_0(\mc F,\mc G,\OO_X(1))$ to be the largest of our constructed $n_0(\mc F,\mc G,\OO_X(1),i)$.
		\qedhere
	\end{enumerate}
\end{proof}

\end{document}