% !TEX root = ../notes.tex

\documentclass[../notes.tex]{subfiles}

\begin{document}

Here we go. Today we will define an abelian variety in general, but we will stay focused on the analytic theory.

\subsection{Defining Abelian Varieties}
Abelian varieties are special kinds of group objects.
\begin{definition}[group scheme]
	Fix a base scheme $S$. Then a \textit{group $S$-scheme} is a group object $G$ in the category $\mathrm{Sch}_S$ of $S$-schemes. In other words, there exist $S$-morphisms $m\colon G\times_S G\to G$ (for multiplication) and $i\colon G\to G$ (for inversion) and $e\colon S\to G$ (for identity) making the following diagrams commute.
	\begin{itemize}
		\item Associativity:
		% https://q.uiver.app/#q=WzAsNCxbMCwwLCJHXFx0aW1lcyBHXFx0aW1lcyBHIl0sWzEsMCwiR1xcdGltZXMgRyJdLFswLDEsIkdcXHRpbWVzIEciXSxbMSwxLCJHIl0sWzAsMSwibVxcdGltZXNcXGlkX0ciXSxbMCwyLCJ7XFxpZF9HfVxcdGltZXMgbSIsMl0sWzIsMywibSJdLFsxLDMsIm0iXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
		\[\begin{tikzcd}
			{G\times_S G\times_S G} & {G\times_S G} \\
			{G\times_S G} & G
			\arrow["{m\times\id_G}", from=1-1, to=1-2]
			\arrow["{{\id_G}\times m}"', from=1-1, to=2-1]
			\arrow["m", from=2-1, to=2-2]
			\arrow["m", from=1-2, to=2-2]
		\end{tikzcd}\]
		\item Identity: 
		% https://q.uiver.app/#q=WzAsNixbMCwxLCJHIl0sWzEsMCwiR1xcdGltZXNfU1MiXSxbMSwyLCJTXFx0aW1lc19TRyJdLFsyLDAsIkdcXHRpbWVzX1NHIl0sWzIsMiwiR1xcdGltZXNfU0ciXSxbMywxLCJHIl0sWzAsMV0sWzAsMl0sWzEsMywie1xcaWRfR31cXHRpbWVzIGUiXSxbMiw0LCJlXFx0aW1lc1xcaWRfRyJdLFszLDUsIiBtIl0sWzQsNSwibSJdLFswLDUsIiIsMSx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV1d&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
		\[\begin{tikzcd}
			& {G\times_SS} & {G\times_SG} \\
			G &&& G \\
			& {S\times_SG} & {G\times_SG}
			\arrow[from=2-1, to=1-2]
			\arrow[from=2-1, to=3-2]
			\arrow["{{\id_G}\times e}", from=1-2, to=1-3]
			\arrow["{e\times\id_G}", from=3-2, to=3-3]
			\arrow["{ m}", from=1-3, to=2-4]
			\arrow["m", from=3-3, to=2-4]
			\arrow[Rightarrow, no head, from=2-1, to=2-4]
		\end{tikzcd}\]
		\item Inversion: % https://q.uiver.app/#q=WzAsNSxbMSwwLCJHXFx0aW1lcyBHIl0sWzEsMiwiR1xcdGltZXMgRyJdLFswLDEsIkciXSxbMSwxLCJTIl0sWzIsMSwiRyJdLFsyLDAsIntcXGlkX0d9XFx0aW1lcyBpIl0sWzIsMSwiaVxcdGltZXN7XFxpZF9HfSIsMl0sWzIsM10sWzMsNCwiZSJdLFswLDQsIm0iXSxbMSw0LCJtIiwyXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
		\[\begin{tikzcd}
			& {G\times_S G} \\
			G & S & G \\
			& {G\times_S G}
			\arrow["{{\id_G}\times i}", from=2-1, to=1-2]
			\arrow["{i\times{\id_G}}"', from=2-1, to=3-2]
			\arrow[from=2-1, to=2-2]
			\arrow["e", from=2-2, to=2-3]
			\arrow["m", from=1-2, to=2-3]
			\arrow["m"', from=3-2, to=2-3]
		\end{tikzcd}\]
	\end{itemize}
\end{definition}
\begin{remark}
	Equality of morphisms of $k$-varieties can be checked on geometric points, so we could just check the above commutativity on $G(\ov k)$.
\end{remark}
In particular, we want to be a variety.
\begin{definition}[group variety]
	Fix a base field $k$. Then a \textit{group $k$-variety} is a group scheme which is also a $k$-variety (i.e., reduced and separated).
\end{definition}
\begin{remark}
	By way of analogy, we also note that a Lie group is a group object in the category $\mathrm{Man}$ of smooth manifolds.
\end{remark}
Abelian varieties are special kinds of group varieties.
\begin{definition}[abelian variety]
	Fix a field $k$. Then an \textit{abelian $k$-variety} is a group $k$-variety which is smooth, connected, and proper.
\end{definition}
Here, smoothness is something like requiring that we are a manifold, and proper is something like requiring that we are projective. (It turns out that the conditions imply that $A$ is projective, though this is not obvious.)
\begin{remark}
	One can even replace ``$k$-variety'' with ``$k$-scheme'' because being smooth over a scheme implies being regular, which implies reduced.
\end{remark}
\begin{remark}
	It turns out that being geometrically integral is equivalent to being connected, by some argument involving the connected component.
\end{remark}
\begin{remark} \label{rem:ab-var-is-ab}
	It turns out that being proper implies that the group law on $A$ is abelian, which we have notably not included in the hypotheses.
\end{remark}
While we're here, we go ahead and define abelian schemes; these will be desirable because we may (perhaps) want to define varieties via equations in a ring which is not a field (like $\ZZ$) and then reduce to a field (like $\FF_p$) later.
\begin{definition}[abelian scheme]
	Fix a base scheme $S$. An \textit{abelian $S$-scheme} is a group $S$-scheme $A$ which is proper and smooth over $S$ such that the structure map $\pi\colon A\to S$ has connected geometric fibers. (This last condition means that any geometric point $\ov s\to S$ makes $A_{\ov s}$ connected.)
\end{definition}
\begin{remark}
	Here, smoothness can be verified by something like a Jacobian criterion, analogous to smoothness for embedded manifolds.
\end{remark}
\begin{remark}
	Notably, by the hypotheses, the geometric fibers $A_{\ov s}$ are abelian varieties.
\end{remark}

\subsection{Working over \texorpdfstring{$\CC$}{C}}
We now return to working over $k=\CC$. We quickly compare with \Cref{def:ab-var-c}: being an abelian variety over $\CC$ as defined in the previous subsection implies that $A(\CC)$ is a smooth complex analytic manifold which is connected and compact, simply by reading off the adjectives. Now, this means that $A(\CC)$ is connected and compact, so we have a connected compact complex Lie group $A(\CC)$, which one can show is always of the form $V/\Lambda$ where $V$ is a finite-dimensional $\CC$-vector space and $\Lambda\subseteq\CC$ is a lattice of full rank, as sketched in \Cref{rem:ab-var-is-torus}. From there, being algebraic does imply one of the equivalent conditions of \Cref{thm:torus-to-ab-var}, and the converse is similar.

Anyway, for a taste of the analytic theory, we show the following for $k=\CC$.
\begin{proposition} \label{prop:ab-var-is-ab}
	Fix an abelian $k$-variety $A$. Then the group law for $A$ is commutative.
\end{proposition}
\begin{proof}[Sketch for $k=\CC$]
	For brevity, set $g\coloneqq\dim A$. Consider the tangent space at the identity $e\in A$, which we will label $T_eA$; it is a $g$-dimensional $\CC$-vector space. Now, for $e\in A(\CC)$, we have a holomorphic map $c_x\colon A(\CC)\to A(\CC)$ given by conjugation $y\mapsto xyx^{-1}$, and then this induces a linear map $dc_x\colon T_eA\to T_eA$. This construction $x\mapsto dc_x$ produces a holomorphic map
	\[A(\CC)\to\op{GL}(T_eA).\]
	Indeed, this is holomorphic because $dc_x$, on an open subset of $A(\CC)$ holomorphic to $\CC^{g}$, is simply a matrix made of the derivatives of $c$, each of which continue to be holomorphic functions.
	
	Now, the key point is that properness of $A$ implies that $A(\CC)$ is compact, but $\op{GL}(T_eA)$ is an open submanifold, so the map $A(\CC)\to\op{GL}(T_eA)$ must be bounded (by the compactness) and hence constant: $A(\CC)$ is connected, so it is enough to show that we are locally constant, and in particular, it is enough to show that we are locally constant on trivializing open covers for $A(\CC)$ and $\op{GL}(T_eA)$. But then we are looking at some bounded holomorphic map $\CC^g\to\CC^{g^2}$, which must be constant by using Liouville's theorem on suitable projections. 
	
	Finishing up, we note that $de_x=\id_{T_eA}$, we see that actually $dc_e=\id_{T_eA}$ (conjugating by $e$ does nothing), which implies that $c_x$ must be the identity for any $x\in A(\CC)$, so the group law is commutative. To move this up to the level of the scheme group law being commutative, we note that we want the diagram
	% https://q.uiver.app/#q=WzAsMyxbMCwwLCJBXFx0aW1lcyBBIl0sWzEsMCwiQVxcdGltZXMgQSJdLFsxLDEsIkEiXSxbMCwxLCJcXG9we3N3YXB9Il0sWzEsMiwibSJdLFswLDIsIm0iLDJdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		{A\times A} & {A\times A} \\
		& A
		\arrow["{\op{swap}}", from=1-1, to=1-2]
		\arrow["m", from=1-2, to=2-2]
		\arrow["m"', from=1-1, to=2-2]
	\end{tikzcd}\]
	to commute, but we already know that it commutes on $\CC$-points, which is enough for $\CC$-varieties \cite[Exercise~11.4.B]{rising-sea}.
\end{proof}
\begin{remark} \label{rem:ab-var-is-torus}
	Continuing with $k=\CC$, we note that the theory of complex Lie groups produces a group homomorphism $\exp\colon T_eA\to A(\CC)$, which one can show is a covering space map. So $A(\CC)$ must then be a compact quotient of $T_eA$, and actually it is a quotient by something discrete, meaning that $A(\CC)\cong V/\Lambda$ as above.
\end{remark}
Here are some nice corollaries of realizing abelian varieties as complex tori.
\begin{corollary} \label{cor:mul-by-n-iso}
	Fix an abelian $\CC$-variety $A$ of dimension $g$. For any positive integer $n$, the multiplication-by-$n$ map $[n]\colon A(\CC)\to A(\CC)$ is a surjective group homomorphism, and its kernel is isomorphic to $(\ZZ/n\ZZ)^{2g}$.
\end{corollary}
\begin{proof}
	Note $[n]$ is a group homomorphism because $A(\CC)$ is abelian. For the other claims, write $A=V/\Lambda$ for $V$ a $g$-dimensional $\CC$-vector space. In particular, $V/\Lambda$ is a divisible group, so $[n]$ is surjective, and the kernel is isomorphic to
	\[\frac1n\Lambda/\Lambda\cong\frac1n\ZZ^{2g}/\ZZ^{2g}\cong(\ZZ/n\ZZ)^{2g},\]
	essentially by choosing a basis for $\Lambda$.
\end{proof}
\begin{corollary} \label{cor:pi1-ab-var}
	Fix an abelian $\CC$-variety $A$ of dimension $g$. Then
	\[\pi_1(A(\CC))\cong H_1(A(\CC),\ZZ)\cong\Lambda\cong\ZZ^{2g}.\]
\end{corollary}
\begin{proof}
	Again, write $A=V/\Lambda$ for $V$ a $g$-dimensional $\CC$-vector space. Then $V$ is the universal covering space for $V/\Lambda$ (indeed, it's a simply connected covering space), so $\pi_1(A(\CC))\cong\Lambda$, from which the rest of the isomorphisms follow quickly. For example, the abelianization of $\pi_1(A(\CC))$ is still $\Lambda$, so $H_1(A(\CC),\ZZ)\cong\Lambda$ too. Lastly, $\Lambda\cong\ZZ^{2g}$ by choosing a basis.
\end{proof}

\subsection{Isogenies}
While we're here, we define isogenies, which are ``squishy'' isomorphisms.
\begin{definition}[isogenies]
	Fix abelian $k$-varieties $A$ and $B$. A $k$-morphism $f\colon A\to B$ is a surjective homomorphism with finite kernel.
\end{definition}
\begin{example}
	For any positive integer $n$, the map $[n]\colon A\to A$ is an isogeny. We will prove this in general later, but over $\CC$, it follows from \Cref{cor:mul-by-n-iso}. In particular, we know $[n]$ is a homomorphism. Also, the kernel has finitely many $\CC$-points, so it must be zero-dimensional and thus finite because it is a closed subscheme of $A$.
	
	Lastly, surjectivity is seen on $\CC$-points, but it also follows purely formally because the domain and codomain of $[n]\colon A\to A$ have the same dimension; see \cite[Proposition~I.7.1]{milne-av}. We will discuss this later in the course, so I won't bother being formal here.
\end{example}
We would like to describe isogenies (over $\CC$) from the perspective of the complex tori. So we pick up the following proposition.
\begin{proposition} \label{prop:map-of-complex-torus}
	Fix complex tori $V/\Lambda$ and $V'/\Lambda'$. Then holomorphic maps $V/\Lambda\to V'/\Lambda'$ fixing $0$ are in bijection with $\CC$-linear maps $V\to V'$ sending $\Lambda\to\Lambda'$.
\end{proposition}
\begin{proof}
	The backward map simply sends the $\CC$-linear map to the quotient map $V/\Lambda\to V'/\Lambda'$.

	For the forward map, we are given a holomorphic map $\overline\varphi\colon V/\Lambda\to V'/\Lambda'$ sending $\varphi\colon[0]\mapsto[0]$. As in the proof of \Cref{cor:pi1-ab-var}, we note that $V$ and $V'$ are the universal covers of $V/\Lambda$ and $V'/\Lambda'$, respectively, because $V$ and $V'$ are simply connected. Thus, the quotient map $\ov\varphi$ will induce a unique map $\varphi\colon V\to V$  on the universal covering spaces upon fixing a single point, and we must send $\varphi(0)\coloneqq0$ to be linear. In particular, the diagram
	% https://q.uiver.app/#q=WzAsOCxbMCwwLCJWIl0sWzEsMCwiViciXSxbMCwxLCJWL1xcTGFtYmRhIl0sWzEsMSwiVicvXFxMYW1iZGEnIl0sWzIsMCwiMCJdLFszLDAsIjAiXSxbMiwxLCIwK1xcTGFtYmRhIl0sWzMsMSwiMCtcXExhbWJkYSciXSxbMCwxLCJcXHZhcnBoaSJdLFsyLDMsIlxcb3ZcXHZhcnBoaSJdLFswLDIsIiIsMSx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFsxLDMsIiIsMSx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs0LDYsIiIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XSxbNiw3LCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtYXBzIHRvIn19fV0sWzQsNSwiIiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibWFwcyB0byJ9fX1dLFs1LDcsIiIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		V & {V'} & 0 & 0 \\
		{V/\Lambda} & {V'/\Lambda'} & {0+\Lambda} & {0+\Lambda'}
		\arrow["\varphi", from=1-1, to=1-2]
		\arrow["\ov\varphi", from=2-1, to=2-2]
		\arrow[two heads, from=1-1, to=2-1]
		\arrow[two heads, from=1-2, to=2-2]
		\arrow[maps to, from=1-3, to=2-3]
		\arrow[maps to, from=2-3, to=2-4]
		\arrow[maps to, from=1-3, to=1-4]
		\arrow[maps to, from=1-4, to=2-4]
	\end{tikzcd}\]
	commutes, and the relevant map $\varphi$ is unique. So thus far we have shown that maps holomorphic $V/\Lambda\to V'/\Lambda'$ fixing $0$ are in bijection with holomorphic maps $V\to V$ fixing $0$ and sending $\Lambda\to\Lambda'$.

	It remains to show that any such $\varphi$ is linear. Note that it is holomorphic because it is locally given by the holomorphic map $V/\Lambda\to V'/\Lambda'$. Because $\varphi(0)=0$, it is enough to show that the derivative $d\varphi_v\colon T_vV\to T_{\varphi(v)}V'$ does not depend on $v\in V$. In other words, we would like the map
	\[V\to\op{Hom}_\CC(T_vV,T_{\varphi(v)}V'),\]
	given by $v\mapsto d\varphi_v$, to be constant. Well, we use the same trick as in \Cref{prop:ab-var-is-ab}: note that this map actually only depends on the class of $v\in V$ modulo $\Lambda$, so we really have a holomorphic map
	\[V/\Lambda\to\op{Hom}_\CC(T_vV,T_{\varphi(v)}V')\cong\CC^{(\dim V)(\dim V')},\]
	which is bounded because $V/\Lambda$ is compact and hence compact by using Liouville's theorem on suitable projections.
\end{proof}
\begin{remark}
	Basically, we can see that being an isogeny means that the underlying linear map will be a surjective linear map with finite kernel; in particular, $\dim_\CC V=\dim_\CC V'$. This motivates us thinking about isogenies as ``squishy'' isomorphisms.
\end{remark}

\end{document}