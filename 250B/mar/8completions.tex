% !TEX root = ../notes.tex

We now shift gears in class to talk about completions.

\subsection{Completions, Algebraically}
We shift gears to talk about completion. The idea is to give a ring a topology by more or less by thinking about a filtration like a fundamental system of neighborhoods around the identity.
\begin{definition}[Completion, rings]
	Fix $R$ with a filtration $\mathcal J$ given by
	\[R=I_0\supseteq I_1\supseteq I_2\supseteq\cdots.\]
	Then we define the \textit{completion $\widehat R_\mathcal J$} as a subring of $\prod_{s\in\NN}R/I_s$ by
	\[\widehat R_\mathcal J=\left\{(r_0,r_1,\ldots)\in\prod_{s\in\NN}R/I_s:r_i\equiv r_j\pmod{I_j}\text{ for }i>j\right\}.\]
\end{definition}
\begin{remark}[Nir]
	This construction is also denoted
	\[\limit_sR/I_s.\]
\end{remark}
As usual, the most interesting filtrations for us will be the $I$-adic filtrations, especially when $I$ is a maximal ideal.

We have the following check.
\begin{lemma}
	Fix $R$ with a filtration $\mathcal J$. Then $\widehat R_\mathcal J$ is a ring.
\end{lemma}
\begin{proof}
	For concreteness, label our filtration $\mathcal J$ by
	\[R=I_0\supseteq I_1\supseteq I_2\supseteq\cdots.\]
	The ring structure of $\widehat R_\mathcal J$ is inherited from the product $\prod_{s\in\NN}R/\mf I_s$, so we merely have to run checks for being a subring.
	\begin{itemize}
		\item We note that the identity element of $\prod_{s\in\NN}R/I_s$ is $\{[1]_{I_s}\}_{s\in\NN}$. To see that this is in $\widehat R_\mathcal J$, we see that
		\[[1]_{I_n}\equiv[1]_{I_m}\pmod{I_m}\]
		for $n>m$.
		\item We show closure under addition and multiplication. Indeed, if $\{r_n\}_{n\in\NN},\{s_n\}_{n\in\NN}\in\widehat R_\mathcal J$, then the sum is
		\[\{r_n+s_n\}_{n\in\NN}\]
		To see that this lives in $\widehat R_\mathcal J$, we see that $n>m$ has $r_s\equiv r_m\pmod{I_m}$ and $s_n\equiv s_m\pmod{I_m}$, so
		\[r_n+s_n\equiv r_m+s_m\pmod{I_m}\qquad r_ss_n\equiv r_ms_m\pmod{I_m},\]
		which finishes.
		\item We show closure under negation. Indeed, if $\{r_n\}_{n\in\NN}\in\widehat R_\mathcal J$, then $r_n\equiv r_m\pmod{I_m}$ for $n>m$, so
		\[-r_n\equiv-r_m\pmod{I_m},\]
		so $\{-r_n\}_{n\in\NN}$ lives in $\widehat R_\mathcal J$. This is our negative element in $\prod_{s\in\NN}R/I_s$, so we are done.
	\end{itemize}
	The above checks show that we have a subring.
\end{proof}

Let's see some examples.
\begin{exe}
	Fix $R:=k[x]$ and $\mf m:=(x)$ a maximal ideal. We claim $\widehat R_\mf m\cong k\bb{x}$.
\end{exe}
\begin{proof}
	We see $\widehat R_\mf m$ consists of sequences of polynomials $\{p_n(x)\}_{n\in\NN}$ such that
	\[p_n\equiv p_m\pmod{x^m}\]
	for $n>m$. To be explicit, we set
	\[p_n(x):=\sum_{k=0}^\infty a_{n,k}x^k\]
	so that we know
	\[\sum_{k=0}^\infty a_{n,k}x^k=p_n(x)\equiv p_m(x)=\sum_{k=0}^\infty a_{m,k}x^k\pmod{x^m}.\]
	In particular, we see that are forced to have $a_{n,k}=a_{m,k}$ for $k<m$ because the above equation tells us that $x^m$ divides
	\[\sum_{k=0}^{m-1}(a_{n,k}-a_{m,k})x^k,\]
	which can only be possible if all these coefficients vanish by degree arguments.

	We are ready to construct our isomorphism $\widehat R_\mf m\cong k\bb{x}$: we take the above sequence $\{p_n(x)\}_{n\in\NN}$. We set
	\[\varphi\left(\{p_n(x)\}_{x\in\NN}\right):=\sum_{k=0}^\infty a_{k+1,k}x^k.\]
	This map is of course well-defined. Our inverse map is
	\[\psi\left(\sum_{k=0}^\infty a_kx^k\right)=\left\{\sum_{k=0}^{n-1}a_kx^k\right\}_{n\in\NN}.\]
	We run the following checks.
	\begin{itemize}
		\item We check that $\psi$ is well-defined. Indeed, if $n>m$, then we see
		\[\sum_{k=0}^{n-1}a_kx^k\equiv\sum_{k=0}^{m-1}a_kx^k\pmod{x^m},\]
		which is what we need to live $\widehat R_\mf m$.
		\item We check $\varphi\circ\psi$ is the identity. Indeed, we see that
		\[\varphi\left(\psi\left(\sum_{k=0}^\infty a_kx^k\right)\right)=\varphi\Bigg(\Bigg\{\sum_{k=0}^{n-1}a_kx^k\Bigg\}_{n\in\NN}\Bigg)=\sum_{k=0}^\infty a_{k,k+1}x^k,\]
		but $a_{k,k+1}=a_k$ by construction, so we are done.
		\item We check $\psi\circ\varphi$ is the identity. Indeed, we see that
		\[\psi\left(\varphi\left(\Bigg\{\sum_{k=0}^\infty a_{n,k}x^k\Bigg\}_{n\in\NN}\right)\right)=\psi\left(\sum_{k=0}^\infty a_{k+1,k}x^k\right)=\left\{\sum_{k=0}^{n-1}a_{k+1,k}x^k\right\}_{n\in\NN}.\]
		To see that this is identity, we need to show that
		\[\sum_{k=0}^\infty a_{n,k}x^k\equiv\sum_{k=0}^{n-1}a_{k+1,k}x^k\pmod{x^n},\]
		for which we have to show that $a_{n,k}=a_{k+1,k}$ for $k<n$. But by definition of $\widehat R_\mf m$, we see that
		\[\sum_{k=0}^\infty a_{n,k}x^k\equiv\sum_{k=0}^\infty a_{k+1,k}x^k\pmod{x^{k+1}},\]
		so we get the desired result upon comparing the $x^k$ term above.
		\item We check that $\psi$ preserves addition. This is a matter of force. We write
		\begin{align*}
			\varphi\left(\sum_{k=0}^\infty a_kx^k+\sum_{k=0}^\infty b_kx^k\right) &= \varphi\left(\sum_{k=0}^\infty(a_k+b_k)x^k\right) \\
			&= \left\{\sum_{k=0}^{n-1}(a_k+b_k)x^k\right\}_{n\in\NN} \\
			&= \left\{\sum_{k=0}^{n-1}a_kx^k\right\}_{n\in\NN}+\left\{\sum_{k=0}^{n-1}b_kx^k\right\}_{n\in\NN} \\
			&= \varphi\left(\sum_{k=0}^\infty a_kx^k\right)+\varphi\left(\sum_{k=0}^\infty b_kx^k\right).
		\end{align*}
		\item We check that $\psi$ preserves multiplication. Again, this is a matter of force. We write
		\begin{align*}
			\varphi\left(\sum_{k=0}^\infty a_kx^k\cdot\sum_{k=0}^\infty b_kx^k\right) &= \varphi\left(\sum_{m=0}^\infty\sum_{k+\ell=m}(a_kb_\ell)x^m\right) \\
			&= \left\{\sum_{m=0}^{n-1}\sum_{k+\ell=m}(a_kb_\ell)x^m\right\}_{n\in\NN} \\
			&= \left\{\sum_{m=0}^{n-1}a_kx^k\cdot\sum_{\ell=0}^{n-1}a_\ell x^\ell\right\}_{n\in\NN},
		\end{align*}
		where in the last equality we have used the fact that the terms of degree at least $x^n$ will vanish in the $n$th term. Continuing we see
		\begin{align*}
			\varphi\left(\sum_{k=0}^\infty a_kx^k\cdot\sum_{k=0}^\infty b_kx^k\right) &= \left\{\sum_{k=0}^{n-1}a_kx^k\right\}_{n\in\NN}\cdot\left\{\sum_{k=0}^{n-1}b_kx^k\right\}_{n\in\NN} \\
			&= \varphi\left(\sum_{k=0}^\infty a_kx^k\right)\varphi\left(\sum_{k=0}^\infty b_kx^k\right).
		\end{align*}
		\item We check that $\psi$ preserves identities. Well, we note $\psi(1)=\{1\}_{n\in\NN}$.
	\end{itemize}
	The first three checks shows that $\psi$ is bijective, and the last three checks show that $\psi$ is a homomorphism. So we are done.
\end{proof}
% \begin{example}
% 	Fix $R:=k[x]$ with $\mf m:=(x)$ a maximal ideal. Then 
% 	for $n>m$. These sequences just define formal power series, where the last $n$ terms of the power series are determined by $p_n$, and the coherence above guarantees that this is well-defined.
% \end{example}
\begin{example}
	Fix $R:=\ZZ$ with $\mf m:=(p)$. Then the ring $\widehat R_\mf m$ is called the $p$-adic integers, more commonly denoted $\ZZ_p$. This ring consists of sequences $\{b_n\}_{n\in\NN}$ which behave as ``formal power series'' in $p$ in the following way. Note $b_{n+1}-b_n\equiv0\pmod{p^n}$, so we can set $a_n:=\frac{b_{n+1}-b_n}{p^n}\in\ZZ/p\ZZ$; in particular, we see that
	\[b_n=\sum_{k=0}^{n-1}(b_{k+1}-b_k)=\sum_{k=0}^{n-1}a_kp^k.\]
	Taking $n\to\infty$ recovers a power series in $p$.
\end{example}
\begin{example}
	The $2$-adic integer $u\in\ZZ_2$ given by
	\[u:=1+2+2^2+2^3+\cdots\]
	is actually just $-1$. To be explicit, we set
	\[u_n\equiv\sum_{k=0}^{n-1}2^k\pmod{2^n}\]
	and consider the sequence $\{u_k\}_{k\in\NN}$; notably, $u_n\equiv u_m\pmod{2^m}$ for $n>m$ by simply expanding out $u_n$ and $u_m$. Now, if we multiply $(1-2)u$, then we see that
	\[(1-2)u_n=(1-2)\left(\sum_{k=0}^{n-1}2^k\right)=1-2^n\equiv1\pmod{2^n}.\]
	Thus, $\{(1-2)u_n\}_{n\in\NN}=\{1\}_{n\in\NN}$, so $(1-2)u=1$. After rearranging, we see that $u=-1$.
\end{example}

\subsection{Complete Rings}
In the previous examples, we might have noticed that there are natural inclusions $k[x]\subseteq k\bb{x}$ and $\ZZ\subseteq\ZZ_2$. More generally, we have the following.
\begin{lemma} \label{lem:naturalcompletionmap}
	Fix $R$ a ring and $\mathcal J$ a filtration. Then there is a natural map $R\to\widehat R_\mathcal J$ by $r\mapsto\{r\}_{n\in\NN}$. If $\mathcal J$ is the $I$-adic filtration for a proper ideal $I$, and $R$ is local or a domain, then this map is injective.
\end{lemma}
\begin{proof}
	For now, denote the filtration $\mathcal J$ by
	\[R=I_0\supseteq I_1\supseteq I_2\supseteq\cdots.\]
	Let $\iota:R\to\widehat R_\mathcal J$ by $r\mapsto\{r\}_{n\in\NN}$. To see that $\iota$ is well-defined, we note that
	\[r\equiv r\pmod {I_s}\]
	for any ideal $I_s$ in the filtration $\mathcal J$, so we are done. To see that $\iota$ is a ring homomorphism, note that we have small ring homomorphisms
	\[\pi_s:R\onto R/I_s\]
	by $r\mapsto[r]_{I_s}$, which will glue into a larger map
	\[\pi:R\to\prod_{s\in\NN}R/I_s\]
	by $r\mapsto\{r\}_{s\in\NN}$. In particular, we see that $\iota=\pi$, and we are promised that $\pi$ is a ring homomorphism by universal property, so we are done.

	Now take $I$ to be a proper ideal and fix $I_s:=I^s$ so that $\mathcal J$ is the $I$-adic filtration. We show that $\iota$ is injective. Indeed, if $\iota(r)=0$, then we have that
	\[r\equiv0\pmod{I^s}\]
	for all $s$. In particular,
	\[r\in\bigcap_{s\in\NN}I^s.\]
	Thus, if $R$ is local or a domain, we see that \autoref{cor:krullintersect} forces $r=0$, so indeed, $\ker\iota$ is trivial, making $\iota$ injective.
\end{proof}
Notably, the image of an ideal need not be an ideal; for example, the inclusion $\ZZ\into\QQ$ does not map the ideal $\ZZ\subseteq\ZZ$ to an ideal of $\QQ$.

The above inclusion gives rise to the following definition, which is our motivation for the word ``completion.''
\begin{definition}[Complete]
	Fix a filtration $\mathcal J$ and a ring $R$. Then the ring $R$ is \textit{complete with respect to $\mathcal J$} if and only if $\widehat R_\mathcal J=R$, in that the natural map $\iota:R\to\widehat R_\mathcal J$ is an isomorphism.
\end{definition}
Before actually showing that the completion is complete, we need to talk about which filtration we are complete with respect to.
\begin{notation}
	Fix $R$ a ring and $\mathcal J$ a filtration. Then, given an ideal $I\subseteq R$ of the filtration $\mathcal J$, we let $\widehat I$ denote the kernel of the projection map (onto the $I$th coordinate) $\widehat R_\mathcal J\onto R/I$.
\end{notation}
Note that $\widehat R_\mathcal J\onto R$ is indeed surjective because $\iota(r)$ maps to $r$ under this projection.
\begin{remark} \label{rem:wantbetterinducedfiltration}
	One might wish that we had used the ideal generated by $I$ under the natural map $R\to\widehat R_\mathcal J$ instead. We will show these notions coincide under the $I$-adic filtration when $R$ is Noetherian later in \autoref{prop:getbetterinducedfiltration}.
\end{remark}
Anyways, here is our result.
\begin{prop} \label{prop:completeiscomplete}
	Fix $R$ a ring and $\mathcal J$ a filtration denoted by
	\[R=I_0\supseteq I_1\supseteq I_2\supseteq\cdots.\]
	Then the completion $\widehat R:=\widehat R_\mathcal J$ is a complete ring with respect to the induced filtration $\widehat{\mathcal J}$ given by
	\[\widehat R=\widehat{I_0}\supseteq \widehat{I_1}\supseteq \widehat{I_2}\supseteq\cdots.\]
\end{prop}
\begin{proof}
	We very quickly check that $n>m$ implies $I_n\subseteq I_m$, so the kernel of $\widehat R\to R/I_n$ is smaller than the kernel of $\widehat R\to R/I_m$, so $\widehat{I_n}\subseteq\widehat{I_m}$. So indeed, $\widehat{\mathcal J}$ is indeed a filtration.

	Now, for notational ease, set $S:=\widehat R$ and $\widehat S:=\widehat S_{\widehat{\mathcal J}}$ its completion so that  we are showing that the map $\widehat\iota:S\to\widehat S$ is an isomorphism. We already know that $\widehat\iota$ is a ring homomorphism by \autoref{lem:naturalcompletionmap}, so it suffices to show that $\widehat\iota$ is a bijection.

	Well, by definition of $\widehat{I_s}$, we see that
	\[\pi_s:\widehat R/\widehat{I_s}\to R/I_s\]
	by $\{r_n\}_{n\in\NN}\mapsto[r_s]_{I_s}$ is an isomorphism. On the other hand, the map $\iota:R\to\widehat R/\widehat{I_s}$ takes $r$ to $\{[r]\}_{n\in\NN}$. In particular,
	\[\pi_s(\iota(r))=[r]_{I_s},\]
	so $I_s\subseteq\ker(\pi_s\circ\iota)$, so $\pi_s\circ\iota$ will induce a map $R/I_s\to R/I_s$ which is the identity. Because $\pi_s$ is an isomorphism, we see that $\ker\iota$ must be $I_s$, so we get an induced map $\iota_s:R/I_s\to\widehat R/\widehat{I_s}$ which is inverse to $\pi_s$ and therefore an isomorphism.

	We now glue the $\iota_s$ together to show $\widehat\iota$ is a bijection. Notably, they glue together to give us a bijection
	\[\varphi:\prod_{s\in\NN}R/I_s\to\prod_{s\in\NN}\widehat R/\widehat{I_s}\]
	by $\varphi:\{[r_s]\}_{s\in\NN}\mapsto\{[\iota(r_s)]_{\widehat{I_s}}\}_{s\in\NN}$. In particular, restricting to $\widehat R$, we see that the $n$th component comes out to
	\[\iota(r_n)\stackrel*\equiv\{[r_s]\}_{s\in\NN}=\left(\widehat\iota\left(\{[r_s]\}_{s\in\NN}\right)\right)_n\pmod{\widehat{I_n}},\]
	where we have to check $\stackrel*\equiv$ by hand on coordinates: for $m<n$, we have $r_n\equiv r_m\pmod{I_m}$, so $[r_n]=[r_m]$ here. For $m=n$, there is nothing to say, and for $m>n$, we note that $\iota(r_n)-\{[r_s]\}_{s\in\NN}$ now has a zero component in the $I_n$ term, so it lives in the kernel of the map $\widehat R\to R/I_n$, so we get our equivalence$\pmod{\widehat{I_n}}$.

	In particular, the glued map $\varphi$ is equal to $\widehat\iota$. Because $\varphi$ was injective, it follows that $\widehat\iota$ is also injective. We now show that $\widehat\iota$ is surjective. Well, given an element of
	\[\widehat S\subseteq\prod_{s\in\NN}\widehat R/\widehat{I_s},\]
	we note that it will have exactly one pull-back along $\varphi$, and $\varphi|_{\widehat R}=\widehat\iota$ as shown above, so it suffices to show that this pull-back is an element of $\widehat R$.
	
	Well, fix our element $\{\hat r_s\}_{s\in\NN}\in\widehat S$, where $\hat r_s=\{r_{s,q}\}_{q\in\NN}\in\widehat R$. The inverse map of $\varphi$ is made by gluing together the inverse maps of $\iota_s$, but we know these maps as $\pi_s$. Thus,
	\[\varphi^{-1}\left(\{\hat r_s\}_{s\in\NN}\right)=\{\iota_s^{-1}(\hat r_s)\}_{s\in\NN}=\{\pi_s(\hat r_s)\}_{s\in\NN}=\{r_{s,s}\}_{s\in\NN}\]
	To show that this is a well-defined element of $\widehat R$, it remains to show that $n>m$ has $r_{n,n}\equiv r_{m,m}\pmod{I_m}$. Well, at the very least we know that
	\[\{r_{n,q}\}_{n\in\NN}-\{r_{m,q}\}_{m\in\NN}\in\widehat{I_m}\]
	because $\{\hat r_s\}_{s\in\NN}\in\widehat S$, so we project $\{r_{n,q}\}_{n\in\NN}-\{r_{m,q}\}_{m\in\NN}$ onto the $m$th coordinate to be forced to have
	\[r_{n,m}\equiv r_{m,m}\pmod{I_m}\]
	by definition of $\widehat{I_m}$. However, $r_{n,n}\equiv r_{n,m}\pmod{I_n}$ because $\hat r_n\in\widehat R$, so we are done.
	% \begin{lemma}
	% 	Fix $R$ a ring and $\mathcal J$ a filtration denoted by
	% 	\[R=I_0\supeteq I_1\supseteq I_2\supseteq\cdots.\]
	% 	Then the natural map $\iota:R\to\widehat R_\mathcal J$ induces an isomorphism $\iota_s:R/I_s\to\widehat R_\mathcal J/\widehat{I_s}$ for any $s\in\NN$.
	% \end{lemma}
	% \begin{proof}
	% 	Set $\pi$ to be the composite
	% 	\[R\to\widehat R_\mathcal J/\widehat{I_s}.\]
	% 	We need to show that $\pi$ is surjective and has kernel $I_s$.
	% 	\begin{itemize}
	% 		\item We show that $\pi$ is surjective. Indeed, fix some $\{r_n\}_{n\in\NN}\in\widehat R_\mathcal J$ whose coset we want to represent. Well, we simply fix $r:=r_{s-1}$. Notably,
	% 		\[r=r_{s-1}\equiv r_k\pmod{I_k}\]
	% 		for each $k<s$, so we match in the first $s$ coordinates. It remains to show that $\{r_n\}_{n\in\NN}-\iota(r)\in\widehat{I_s}$.
	% 	\end{itemize}
	% \end{proof}
	% Fix some $a$ in the completion of $\widehat R_{\widehat {\mathcal J}}$.
\end{proof}

\subsection{The Krull Topology}
Let's have a little fun with our completions.
\begin{warn}
	The following two subsections (on the Krull topology and the topological interpretation of completion) are very topological in nature and were not covered in class. They appear in these notes because they are fun.
\end{warn}
\begin{defi}[Krull topology]
	Fix $R$ a ring and $\mathcal J$ a filtration. Then we define the \textit{Krull topology} on $R$ to have a basis consisting of $\emp$ as well as the open sets $a+I$ for any $a\in R$ and $I\in\mathcal J$.
\end{defi}
Here is our key example.
\begin{example}
	The standard topology on the $p$-adic integers $\ZZ_p$ is the Krull topology induced by the $(p)$-adic filtration.
\end{example}
We run some checks on this topology.
\begin{lemma}
	Fix $R$ a ring and $\mathcal J$ a filtration. Then the Krull topology is a topology.
\end{lemma}
\begin{proof}
	We merely have to check that the claimed open sets do in fact form a basis for a topology.
	\begin{itemize}
		\item We show that our basis covers $R$. Fixing any $I\in\mathcal J$, we note that
		\[\bigcup_{a\in R}(a+I)=R,\]
		so our open sets do cover $R$.
		\item We show that our basis is closed under intersection. Fix any two basis elements $a+I$ and $b+J$. Because $\mathcal J$ is a filtration, either $I\subseteq J$ or $J\subseteq I$; without loss of generality, take the former case.

		Now, if $b\equiv a\pmod J$, then $(a+I)\subseteq(b+J)$ because $I\subseteq J$. So here, we have $(a+I)\cap(b+J)=(a+I)$, implying that we are closed intersection.

		Otherwise, $b\not\equiv a\pmod J$, in which case $x\in a+I\subseteq a+J$ implies $x\notin b+J$, so $(a+I)\cap(b+J)=\emp$, finishing.
		\qedhere
	\end{itemize}
\end{proof}
\begin{lemma} \label{lem:krulltoporing}
	Fix $R$ a ring and $\mathcal J$ a filtration. Then the Krull topology makes $R$ into a topological ring; i.e., the addition and multiplication maps $R\times R\to R$ are both continuous.
\end{lemma}
\begin{proof}
	We run our checks separately.
	\begin{itemize}
		\item We show that the addition map $R\times R\to R$ is continuous. For brevity, name this map $f:R\times R\to R$ by $f(a,b)=a+b$. We need to show that the pre-image of any open set $U\subseteq R$ has $f^{-1}(U)\subseteq R\times R$ still open. Because we have a basis, it suffices to take $U$ to be a basis element.

		If $U=\emp$, then $f^{-1}(\emp)=\emp$, which is open. Otherwise, we are looking at $f^{-1}(x+I)$ for some open set $x+I$. Well,
		\begin{align*}
			f^{-1}(x+I)=\{(a,b):a+b\in x+I\} &= \bigcup_{(r+I)\in R/I}\{(a,b):a\in (r+I),b\in((x-a)+I)\} \\
			&= \bigcup_{(r+I)\in R/I}(r+I)\times((x-r)+I).
		\end{align*}
		Now, each of the sets $(r+I)\times((x-r)+I)$ are in fact open in the product topology $R\times R$, so we are done.

		\item We show that the multiplication map $R\times R\to R$ is continuous. Again, we set $g:R\times R\to R$ by $g(a,b):=ab$ to be our multiplication map. As with last time, it suffices to show that the pre-image of any basis element under $g$ is an open set in $R\times R$.

		If $U=\emp$, then $g^{-1}(\emp)=\emp$, which is open. Otherwise, we are looking at $g^{-1}(x+I)$ for some open set $x+I$. For this, we compute
		\[g^{-1}(x+I)=\{(a,b):ab\in x+I\}=\bigcup_{(r+I),(s+I)\in R/I}\{(a,b):a\in(r+I).b\in (s+I),ab\in (x+I)\}.\]
		At this point, we see $a\in r+I$ and $b\in s+I$ implies that $ab\in x+I$ if and only if $rs\in x+I$. Thus, we can move this condition outside and write
		\[g^{-1}(x+I)=\bigcup_{\substack{(r+I),(s+I)\in R/I\\rs\in x+I}}\{(a,b):a\in (r+I),b\in (s+I)\}=\bigcup_{\substack{(r+I),(s+I)\in R/I\\rs\in x+I}}(r+I)\times(s+I),\]
		which we can see is the union of basis of elements in $R\times R$.
		\qedhere
	\end{itemize}
\end{proof}
\begin{remark} \label{rem:krulladdandmultcont}
	Fix any $a\in R$. Because the map $x\mapsto(a,x)$ is a continuous map $R\to R\times R$ (it is the product of continuous maps), we see that the composites
	\[x\mapsto(a,x)\mapsto a+x\qquad\text{and}\qquad x\mapsto(a,x)\mapsto ax\]
	are also both continuous.
\end{remark}
The Krull topology need not always be Hausdorff, but it is Hausdorff for many well-behaved rings and filtrations.
\begin{example}
	Fix the ring $R:=\ZZ\times\ZZ$ and the proper ideal $I:=(2)\times\ZZ$, and endow $R$ with the Krull topology induced by the $I$-adic filtration. We claim that $\{0\}$ is not closed. 
\end{example}
\begin{lemma}
	Fix a Noetherian ring $R$ and a proper ideal $I\subsetneq R$, and endow $R$ with the Krull topology induced by the $I$-adic filtration. If $R$ is local or a domain, then $R$ is Hausdorff.
\end{lemma}
\begin{proof}
	The point is to use the Krull intersection theorem. Namely, we need to show that the sets $\{a\}\subseteq R$ are closed for any $a\in R$. Well, we note that, by \autoref{cor:krullintersect}, we have
	\[R\setminus\{0\}=R\mathbin{\bigg\backslash}\bigcap_{s\ge0}I^s=\bigcup_{s\ge0}\left(R\setminus I^s\right)=\bigcup_{s\ge0}\bigcup_{a\notin I^s}\left(a+I^s\right).\]
	So $R\setminus\{0\}$ is open, thus making $\{0\}$ closed.

	To finish, we cop out and use the fact that we live in a topological ring. Fixing any $a\in R$, note that \autoref{rem:krulladdandmultcont} tells us that the map $\mu_a:x\mapsto x-a$ is continuous. Thus, because $\{0\}$ is closed, we see that
	\[\mu_a^{-1}(\{0\})=\{a\}\]
	is also closed, finishing.
\end{proof}
So we see that the Krull topology is reasonably nice.

\subsection{Completions, Topologically}
For the discussion that follows, fix a ring $R$ with a filtration $\mathcal J$ given by
\[R=I_0\supseteq I_1\supseteq I_2\subseteq\cdots.\]
Now, in the example $\ZZ_p$, we see that we can define
\[d(a,b):=p^{-\max\left\{k\in\NN:a-b\in\left(p^k\right)\right\}},\]
which we can check forms a metric on $\ZZ_p$. In fact, this restricts to a metric on $\ZZ$, for which $\ZZ_p$ is the completion. (We will be able to justify this claim shortly.) This is our first hint of that the name ``completion'' should be a topological notion. In particular, it will turn out that a ring being ``complete'' with respect to a filtration means that every Cauchy sequence converges to some limit.

To generalize the case of $\ZZ_p$, we can still fix some $c>1$ and define the function
\[d(a,b):=c^{-\max\{k\in\NN:a-b\in I_k\}},\]
where $a,b\in R$. For our edge case, if $a-b\in I_k$ for arbitrarily large $k$, then $a-b\in I_k$ for each $k$, so we might as well set $d(a,b)=0$.

This edge case, ultimately, is where we are going to have problems: it is possible for the intersection of all the $I_k$ to be nonzero, in which case any element
\[r\in\bigcap_{k\ge0}I_k\]
would have $d(r,0)=0$, so $d$ cannot be a metric. However, this is the only obstruction.
\begin{lemma} \label{lem:krullmetric}
	Fix a ring $R$ with a filtration $\mathcal J$, notated
	\[R=I_0\supseteq I_1\supseteq I_2\supseteq\cdots.\]
	Further, suppose that $x\in I$ for each $I\in\mathcal J$ implies $x=0$. Then, fixing a real number $c>1$, the function $d:R^2\to\RR$ defined by
	\[d(a,b):=\begin{cases}
		c^{-\max\{k\in\NN:a-b\in I_k\}} & a-b\notin I_n\text{ for some }n, \\
		0 & \text{else},
	\end{cases}\]
	is a metric on $R$.
\end{lemma}
\begin{proof}
	Observe that the function $d$ is well-defined because $a-b\notin I_k$ for some $n$ implies that $a-b\notin I_m$ for any $m\ge n$ because $I_m\subseteq I_n$, so this means that the set $\{k\in\NN:a-b\in I_k\}$ does indeed have a maximum.
	
	We have the following checks on $d$.
	\begin{itemize}
		\item Identity: fix $a,b\in R$. Note that $d(a,b)=0$ if and only if $a-b\in I_k$ for each $I_k\in\mathcal J$, so $a-b=0$ by hypothesis on $\mathcal J$, so $a=b$. Conversely, if $a=b$, then $a-b\in I_k$ for each $k$, so $d(a,b)=0$.
		\item Symmetry: fix $a,b\in R$. Then $a-b\in I_k$ if and only if $-1(a-b)=b-a\in I_k$, so
		\[\{k\in\NN:a-b\in I_k\}=\{k\in\NN:b-a\in I_k\}.\]
		If both of these sets are $\NN$, then $d(a,b)=d(b,a)=0$. Otherwise, these sets have maximums, which must be the same $M\in\NN$, so $d(a,b)=c^{-M}=d(b,a)$.
		\item Triangle inequality: fix $a,b,c\in R$. We need to show that
		\[d(a,b)+d(b,c)\ge d(a,c).\]
		If $a=b$ or $b=c$, then this inequality collapses to $d(x,y)\ge d(x,y)$.

		The point is that if $a-b\in I_k$ and $b-c\in I_\ell$, then $a-c=a-b+b-c\in I_{\min\{k,\ell\}}$. In particular, fix
		\[m:=\max\{k\in\NN:a-b\in I_k\}\qquad\text{and}\qquad n:=\max\{\ell\in\NN:b-c\in I_\ell\}.\]
		Without loss of generality, we take $m\le n$, which implies that $a-c=(a-b)+(b-c)\in I_m+I_n\subseteq I_m$, so
		\[d(a,c)\le c^{-m}\le c^{-m}+c^{-n}=d(a,b)+d(b,c).\]
		This is what we wanted.
	\end{itemize}
	These checks finish showing that $d$ is a metric on $R$.
\end{proof}
Continuing with our story, as with $\ZZ_p$, we see that elements of $R$ are considered ``close'' if and only if their difference lies in the same ``small'' open set. In particular, for any $x\in R$ and $r\in\RR^+$, some $a\in R$ has
\begin{align*}
	d(a,x)<r &\iff c^{-\max\{k\in\NN:a-x\in I_k\}}<r \\
	&\iff -\max\{k\in\NN:a-x\in I_k\}<\log_cr \\
	&\iff \max\{k\in\NN:a-x\in I_k\}>-\log_cr \\
	&\iff a-x\in I_k\text{ for some }k>-\log_cr \\
	&\iff a\in x+I_{\ceil{-\log_cr}}.
\end{align*}
Thus, any $r>0$ will make $\{a\in R:d(a,x)<r\}=x+I_{\ceil{-\log_cr}}$ into some open set (where $I_k=R$ for $k<0$); conversely, any open basis element $x+I_k$ arises in this way by choosing $r=c^{-k}$.

So it looks like our function $d$ correctly induces the Krull topology as a metric. Of course, we need to overcome the Hausdorff obstruction for this to make sense, but we do have the following lemma.
\begin{lemma}
	Work in the context of \autoref{lem:krullmetric}. Then the metric topology induced by $d$ is the Krull topology induced by $\mathcal J$.
\end{lemma}
\begin{proof}
	We get that $d$ is a metric from \autoref{lem:krullmetric}. Further, $d$ induces the Krull topology from the computation above.
\end{proof}
With all of this set-up, it makes sense to think about the Krull topology as a metric space, which is the context where ``completions'' actually make topological sense: we want every Cauchy sequence to have a limit. In order to stop talking about topology (and worrying about the Hausdorff condition), we would like to translate these notions back to algebra.

Let's start with limits. An element $a\in R$ is a limit of the sequence $\{a_n\}_{n\in\NN}\subseteq R$ (with respect to  $d$) means that
\[\lim_{n\to\infty}d(a,a_n)=0.\]
By definition of $d$, this is the same as requiring
\[\lim_{n\to\infty}\max\{k\in\NN:a-a_n\in I_k\}=\infty.\]
This means that, for any bound $m\in\NN$, there exists some $N$ such that $n>N$ implies $\max\{k\in\NN:a-a_n\in I_k\}>m$. However, this last condition is equivalent to $a-a_n\in I_m$ because $\mathcal J$ is a filtration. So we have the following definition.
\begin{definition}[Limit]
	Fix a ring $R$ with a filtration $\mathcal J=\{I_k\}_{k\in\NN}$. Then we say that an element $a\in\widehat R$ is the \textit{limit} of a sequence $\{a_n\}_{n\in\NN}$ if and only if, for each $m$, there exists $N$ such that $a_n-a\in I_m$ for each $n>N$.
\end{definition}
Now let's move to Cauchy sequences. A sequence $\{a_n\}_{n\in\NN}\subseteq R$ is Cauchy (with respect to $d$) if and only if, for any $\varepsilon>0$, there exists $n$ such that $k,\ell>N$ implies
\[d(a_k,a_\ell)<\varepsilon.\]
By replacing $\varepsilon$ with $-\log_c\varepsilon$, this is equivalent to saying that, for any $m\in\NN$, there exists $N$ such that $k,\ell>N$ implies
\[\max\{n\in\NN:a_k-a_\ell\in I_n\}\ge m,\]
or equivalently, $a_k-a_\ell\in I_m$. So we have the following definition.
\begin{definition}[Cauchy sequence]
	Fix a ring $R$ with a filtration $\mathcal J=\{I_k\}_{k\in\NN}$. Then we say that a sequence $\{a_k\}_{k\in\NN}$ is \textit{Cauchy} if and only if, for each $m$, there exists $N$ such that $a_k-a_\ell\in I_m$ for each $k,\ell>N$.
\end{definition}
We are finally able to unite our two notions of completion.
\begin{prop} \label{prop:unitecompletion}
	Fix a ring $R$ with a filtration $\mathcal J$ such that $x\in I$ for each $I\in\mathcal J$ implies $I=0$. Then $\widehat R_\mathcal J$ is the completion of $R$ with respect to the Krull (metric) topology, where the needed inclusion $R\to\widehat R_\mathcal J$ is the canonical one.
\end{prop}
\begin{proof}
	We already have that $R$ is a metric space from \autoref{lem:krullmetric}. We will construct $\widehat R$ as the completion of the metric space for $R$ and then show that $\widehat R\cong\widehat R_\mathcal J$ as topological rings.

	The completion $\widehat R$ consists of equivalence classes of Cauchy sequences of $R$, where two Cauchy sequences $\{a_n\}_{n\in\NN}\sim\{b_n\}_{n\in\NN}$ if and only if
	\[d(a,b):=\lim_{n\to\infty}d(a_n,b_n)=0.\]
	Very quickly, we let $S$ be the set of Cauchy sequences of $R$, and we note that we can give $S\subseteq R^\NN$ a subring structure, with operations given by
	\[\{a_n\}_{n\in\NN}+\{b_n\}_{n\in\NN}:=\{a_n+b_n\}_{n\in\NN}\qquad\text{and}\qquad\{a_n\}_{n\in\NN}\cdot\{b_n\}_{n\in\NN}:=\{a_nb_n\}_{n\in\NN}.\]
	We quickly check that $S$ is closed under these operations: for any bound $m\in\NN$, there exists $N$ such that $k,\ell>N$ implies $a_k-a_\ell,b_k-b_\ell\in I_m$, so
	\[(a_k+b_k)-(a_\ell+b_\ell)\in I_m\qquad\text{and}\qquad a_kb_k-a_\ell b_\ell\in I_m\]
	follows. To finish checking that $S$ is a subring, we merely note that $\{1_R\}_{n\in\NN}$ is a Cauchy sequence.
	
	Now, $\widehat R$ is $S$ modded out by the equivalence relation $\sim$ described above. To make this notion more ring-theoretic, we set
	\[I:=\{a\in S:a\sim0\}.\]
	In particular $\{a_n\}_{n\in\NN}\sim\{b_n\}_{n\in\NN}$ if and only if
	\[0=\lim_{n\to\infty}d(a_n,b_n)=\lim_{n\to\infty}d(a_n-b_n,0)\]
	if and only if $\{a_n\}_{n\in\NN}-\{b_n\}_{n\in\NN}\in I$. Thus, we see that $\widehat R=S/I$, as sets. However, we in fact claim that $I$ is an ideal: if $\{a_n\}_{n\in\NN},\{b_n\}_{n\in\NN}\in I$ and $\{r_n\}_{n\in\NN},\{s_n\}_{n\in\NN}\in S$, then we need to show that
	\[\{r_na_n+s_nb_n\}_{n\in\NN}\in I.\]
	Well, $d(a_n,0)\to0$ and $d(b_n,0)\to0$ as $n\to\infty$, so for any $m$, there exists $N$ such that $n>N$ implies $a_n,b_n\in I_m$, so $r_na_n+s_nb_n\in I_m$. Thus, $d(r_na_n+s_nb_n,0)\to0$ as $n\to\infty$.

	Thus, we have given $\widehat R:=S/I$ a ring structure as well as a topology. We claim that $S/I\cong\widehat R_J$; it will happen that this is also an isomorphism of topological rings, but we won't check the topological aspects of this isomorphism. We start by defining
	\[\varphi:S\to\widehat R_J.\]
	For this, we take some Cauchy sequence $\{a_n\}_{n\in\NN}$. Then, for any index $m\in\NN$, there exists $N_m$ such that $k,\ell\ge N_m$ implies $a_k-a_\ell\in I_m$. As such, we define
	\[\varphi\left(\{a_n\}_{n\in\NN}\right):=\left\{[a_{N_m}]_{I_m}\right\}_{n\in\NN}.\]
	We have the following checks on $\varphi$.
	\begin{itemize}
		\item To start, we see that $[a_{N_m}]_{I_m}$ is well-defined: if $N_m'$ is another constant such that $k,\ell\ge N_m'$ implies $a_k-a_\ell\in I_m$, then without loss of generality $N_m\ge N_m'$ so that $a_{N_m}-a_{N_m'}\in I_m$, so $[a_{N_m}]_{I_m}=[a_{N_m'}]_{I_m}$.
	
		\item Further, $\varphi$ does actually output an element of $\widehat R_J$. We need to show that $a_{N_{m+1}}\equiv a_{N_m}\pmod{I_m}$ for any $m\in\NN$. Well, $N_{m+1}$ satisfies $k,\ell\ge N_{m+1}$ implies $a_k-a_\ell\in I_{m+1}\subseteq I_m$, so the argument from the previous point shows that
		\[[a_{N_{m+1}}]_{I_m}=[a_{N_m}]_{I_m},\]
		which is what we wanted.
	
		\item We show $\varphi$ is surjective. Well, suppose that we have an element
		\[\{[a_m]_{I_m}\}\in\widehat R_\mathcal J.\]
		Well, we claim that $\{a_m\}_{m\in\NN}$ is itself a Cauchy sequence, which will be our pre-image element. To see that this is a Cauchy sequence, we note that any $m\in\NN$ has $k,\ell>m$ has
		\[a_k-a_\ell\in I_{\min\{k,\ell\}}\subseteq I_m.\]
		In fact, this computation shows that, in our definition of $\varphi(\{a_n\}_{n\in\NN})$, we can set $m:=N_m$ so that
		\[\varphi(\{a_n\}_{n\in\NN})=\{[a_{N_m}]_{I_m}\}_{m\in\NN}=\{[a_m]_{I_m}\}_{m\in\NN},\]
		which is what we wanted.

		\item We show $\varphi$ has kernel $I$. In one direction, if $\{a_n\}_{n\in\NN}\in I$, we see that, for any $m\in\NN$, there exists $N_m$ for which $a_n\in I_m$ for each $n\ge N_m$. Thus, $k,\ell\ge N_m$ will have $a_k-a_\ell\in I_m$, so we can set
		\[\varphi\left(\{a_n\}_{n\in\NN}\right)=\{[a_{N_m}]_{I_m}\}_{m\in\NN}=\{[0]\}_{m\in\NN},\]
		which is what we wanted.
		
		Conversely, suppose that $\{a_n\}_{n\in\NN}$ goes to $0$ under $\varphi$. This means that, for any $m\in\NN$, there exists $N_m$ such that $k,\ell\ge N_m$ will have $a_k-a_\ell\in I_m$ and
		\[a_{N_m}\in I_m.\]
		In particular, we see that any $k\ge N_m$ will have $a_k\in a_{N_m}+I_m=I_m$. So indeed, $a_n\to0$ as $n\to\infty$.
	\end{itemize}
	The above checks finish showing our isomorphism of rings. We could show that $\varphi$ is continuous as well (but won't do so here); the third point explicitly constructs our inverse, which we could also show is continuous (but again won't do it here).

	We close the proof by remarking that, because the canonical maps $R\to\widehat R_\mathcal J$ and $R\to\widehat R$ above both simply take $r\in R$ to the constant sequence $\{[r_n]\}_{n\in\NN}\in\widehat R_\mathcal J$ and $\{r_n\}_{n\in\NN}+I\in\widehat R$ (respectively), we see that the following diagram commutes.
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJSIl0sWzEsMCwiXFx3aWRlaGF0IFIiXSxbMSwxLCJcXHdpZGVoYXQgUl9cXG1hdGhjYWwgSiJdLFswLDEsIlIiXSxbMCwxXSxbMywyXSxbMSwyLCJcXHZhcnBoaSJdLFswLDMsIiIsMSx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV1d
	\[\begin{tikzcd}
		R & {\widehat R} \\
		R & {\widehat R_\mathcal J}
		\arrow[from=1-1, to=1-2]
		\arrow[from=2-1, to=2-2]
		\arrow["\varphi", from=1-2, to=2-2]
		\arrow[Rightarrow, no head, from=1-1, to=2-1]
	\end{tikzcd}\]
	Indeed, going along the top, we take $r\in R$ to $\{r\}_{n\in\NN}$ to $\{[r]\}_{n\in\NN}$, which is the same as we get along the bottom. This shows that we can make $\widehat R_\mathcal J$ is not only isomorphic to the metric completion $\widehat R$, but in fact, the canonical inclusion $R\to\widehat R_\mathcal J$ is the inclusion needed by the completion.
\end{proof}
And just for fun, let's unite our notions of complete.
\begin{corollary}
	Fix a ring $R$ and a filtration $\mathcal J=\{I_k\}_{k\in\NN}$ such that $x\in I$ for all $I\in\mathcal J$ implies $x=0$. Then $R$ is complete with respect to the filtration $\mathcal J$ if and only if $R$ is complete with respect to the Krull (metric) topology.
\end{corollary}
\begin{proof}
	Note $R$ is complete with respect to the Krull (metric) topology if and only if $R$ is homeomorphic to its completion. But by \autoref{prop:unitecompletion}, we see that the metric completion of $R$ is $\widehat R_\mathcal J$ with the canonical inclusion $\iota:R\to\widehat R_\mathcal J$.

	We already know that $\iota$ is injective because $x\in I$ for each $I\in\mathcal J$ implies $x=0$. Thus, the only thing to worry about is that $\iota$ is surjective. Well, $\iota$ is surjective if and only if $\iota$ is an isomorphism of rings (because $\iota$ is a priori an injective homomorphism of rings), so $R$ is metrically complete if and only if $\iota:R\to\widehat R_\mathcal J$ is an isomorphism. This finishes.
\end{proof}
% As an aside, we note that, if we have a sequence $a:=\{a_k\}_{k\in\NN}\in\widehat R_\mathcal J$, then we have $a_{i+1}-a_i\in\mf I_n$, so we can write
% \[a=\sum_{j=1}^\infty(a_{j+1}-a_j)\]
% to be an infinite convergent series; in particular, the partial sums converge.

\subsection{Completions are Local}
Taking the completion also tends to look like localization. For example, taking the completion at a maximal ideal will also give a local ring.
\begin{proposition} \label{prop:completelocalize}
	Fix a ring $R$ complete with respect to an $I$-adic filtration. Then any element $1-a$ with $a\in I$ is a unit.
\end{proposition}
\begin{proof}
	The point is to rigorize
	\[\frac1{1-a}=1+a+a^2+\cdots.\]
	In particular, we set
	\[b_m:=\sum_{k=0}^{m-1}a^k\]
	so that $(1-a)b_m=1-a^m\equiv1\pmod{I^m}$. Thus, we would like the ``limit'' of $\{b_m\}_{m\in\NN}$ to be the inverse for $(1-a)$.
	
	Because $R$ is complete, let $\iota:R\to\widehat R_\mathcal J$ be the canonical inclusion, which we know to be an isomorphism. We note that $n\ge m$ implies that
	\[b_n=\sum_{k=0}^{n-1}a^k\equiv\sum_{k=0}^{m-1}a^k=b_m\pmod{I^m}\]
	because all higher terms of the sum vanish; thus, $\{b_m\}_{m\in\NN}\in\widehat R_\mathcal J$. So we may set $b:=\iota^{-1}\left(\{[b_m]_{I^m}\}_{m\in\NN}\right)$, which will have
	\[\iota((1-a)b)=\iota(1-a)\iota(b)=\{[1-a]_{I^m}\}_{m\in\NN}\cdot\{[b_m]_{I^m}\}_{m\in\NN}=\{[(1-a)b_m]_{I^m}\}_{m\in\NN}=\{[1]\}_{m\in\NN},\]
	so $(1-a)b=1$ follows because $\iota$ is ring isomorphism.
\end{proof}
\begin{corollary} \label{lem:completeislocal}
	Fix $R$ a ring and $\mf m$ a maximal ideal. Then $\widehat R_\mf m$ is a local ring with maximal ideal $\widehat{\mf m}$.
\end{corollary}
\begin{proof}
	It suffices to check that $a\notin\widehat{\mf m}$ implies that $a$ is a unit. To start, we note that $a\not\equiv0\pmod{\widehat{\mf m}}$, so because $\widehat R_\mf m/\widehat{\mf m}\cong R/\mf m$ is a field, there exists $b\in\widehat R_\mf m$ such that
	\[ab\equiv1\pmod{\widehat{\mf m}}.\]
	In particular, $ab-1\equiv0\pmod{\widehat{\mf m}}$, so $ab-1\in\widehat{\widehat{\mf m}}$. Thus, we set $-c:=ab-1\in\widehat{\mf m}$ so that $c\in\widehat{\mf m}$ and $ab=1-c$.
	
	Now, we note from \autoref{prop:completeiscomplete} that $\widehat R_\mf m$ is complete with respect to the $\widehat{\mf m}$-adic filtration, so \autoref{prop:completelocalize} tells us that $1-c$ is a unit in $\widehat R_{\mf m}$. Thus, we find our $d$ such that $(1-c)d=1$, so
	\[a(bd)=(ab)d=(1-c)d=1,\]
	which shows that $a$ is indeed a unit.
\end{proof}
\begin{remark}[Nir]
	If $I\subseteq R$ is not a maximal ideal, we need not have $\widehat R_I$ be a local ring. For example, $\widehat\ZZ_{(n)}$ is not local if $n>1$ is not prime: for any $p\mid n$, we see that we have a surjection
	\[\widehat\ZZ_{(n)}\onto\widehat\ZZ_{(n)}/\widehat{(n)}\cong\ZZ/n\ZZ\onto\ZZ/p\ZZ,\]
	and the kernel of this surjection will be maximal because the codomain is a field. But each of these codomains are non-isomorphic (because we are choosing different characteristics $p$), so they give rise to separate maximal ideals.
\end{remark}

\subsection{Completions via the Associated Graded Ring}
As usual, life is better (for completions) in the Noetherian case. To see this, we will want to keep track of all components of $\widehat R_\mathcal J$ simultaneously, for which we will use the associated graded ring.

Here is the key lemma we will use.
\begin{lemma} \label{lem:generateinitideal}
	Fix a ring $R$ complete with respect to the filtration $\mathcal J=\{I_k\}_{k\in\NN}$. Given an ideal $I$ with elements $a_1,\ldots,a_n\in I$, if 
	\[(\op{in}I)=(\op{in}a_1,\ldots,\op{in}a_n)\subseteq\op{gr}_\mathcal JR,\]
	then $I=(a_1,\ldots,a_n)$.
\end{lemma}
\begin{proof}
	Fix some $f\in I$ so that we want to show $f\in(a_1,\ldots,a_n)$. We start by getting rid of zeroes so that we can properly talk about degrees. If $f=0$, then we are done. Similarly, if any of the $a_i$ are zero, then $\op{in}a_i=0$ as well, so it doesn't help us generate $(\op{in}I)$ or $I$, so we can safely discard the element.
	
	Otherwise, because $R$ is complete with respect to $\mathcal J$, the natural map $R\to\widehat R_\mathcal J$ is injective, so $r\in I$ for each $I\in\mathcal J$ implies that $r=0$. So by the contrapositive, $f\ne0$ implies that $\op{in}f\ne0$ and in particular $d:=\deg(\op{in}f)$ makes sense. Similarly, $d_i:=\deg(\op{in}a_i)$ makes sense for each $i$.
	
	The key to the proof is the following process. We start by writing
	\[\op{in}f=\sum_{i=1}^ng_i(\op{in}a_i)\]
	for some $g_i\in\op{gr}_\mathcal JR$. By focusing on the degree $d=\deg f$, we see that we can assume each $g_i$ is either $0$ or homogeneous of degree $\deg(\op{in}f)-\deg(\op{in}a_i)=d-d_i$. For each $g_i$ with $g_i\ne0$, we have $g_i=[f_i]_{I_{d-d_i+1}}\in I_{d-d_i}/I_{d-d_i+1}$ where $f_i\in I_{d-d_i}\setminus I_{d-d_i+1}$ (for some $d_i\in\NN$) so that $g_i=\op{in}f_i$. In particular, we see that
	\[[f]_{I_{d+1}}=\op{in}f=\sum_{i=1}^ng_i(\op{in}a_i)=\sum_{i=1}^n[f_i]_{I_{d-d_i+1}}\cdot[a_i]_{I_{d_i+1}}=\sum_{i=1}^n[f_ia_i]_{I_{d+1}}\]
	Now, to show $f\in(a_1,\ldots,a_n)$, we see that it will suffice to show
	\[f-\sum_{i=1}^na_if_i\stackrel?\in(a_1,\ldots,a_n),\]
	which has the bonus that $f-\sum_{i=1}^na_if_i$ lives in $I_{d+1}$ now.
	
	In this way, we can push our problem to arbitrarily large degrees, allowing us to arbitrarily approximate $f$. Our hope is to show to the completion in order to make ``arbitrarily close'' into an actual equality. For psychological reasons, we will start by pushing $f$ upwards so that $\deg f\ge d_i$ for each $i$ so that $I_{d-d_i}$ always makes sense. Namely, in the above process, when we say that $g_i$ has $g_i=0$ or $g_i=\op{in}f_i$ with $f_i\in I_{d-d_i}\setminus I_{d-d_i+1}$, we can now always say that $g_i=[f_i]_{I_{d-d_i+1}}$ for some $f_i\in I_{d-d_i}$.

	In particular, suppose that $\op{in}f$ has some fixed degree $d$. Applying the process once, we are able to write
	\[\underbrace{f-\sum_{i=1}^nf_{d,i}a_i}_{f_{d+1}}\in I_{d+1},\]
	for some $f_{d,i}\in I_{d-d_i}$. Repeating this process, we claim that we can write
	\[\underbrace{f-\sum_{e=0}^m\sum_{i=1}^nf_{d+e,i}a_i}_{f_{d+e+1}}\in I_{d+e+1}\]
	such that $f_{d+e,i}\in I_{d+e-d_i}$. Indeed, for $e=0$, we have just discussed how to do this. Then to increment, if $f_{d+e+1}\in I_{d+e+2}$ already, then we just set $f_{d+e+1,i}=0$ for each $i$. Otherwise, $f_{d+e+1}\in I_{d+e+1}\setminus I_{d+e}$, so we are able to apply the process to write
	\[f-\sum_{e=0}^m\sum_{i=1}^nf_{d+e,i}a_i-\sum_{i=1}^nf_{d+e+1,i}a_i\in I_{d+e+2},\]
	where $f_{d+e+1,i}\in I_{d+e-d_i+1}$, which is what we wanted.

	So to finish, we fix some $i$ and set
	\[h_{i,k}:=\sum_{e=0}^kf_{d+e,i}.\]
	Because $R$ is complete, these partial sums will converge. In particular, if $k>\ell$, then
	\[h_{i,k}-h_{i,\ell}=\sum_{e=\ell+1}^kf_{d+e,i}\in I_{d-d_i+\ell}\subseteq I_\ell,\]
	so $\{[h_{i,k}]_{I_k}\}_{k\in\NN}\in\widehat R_\mathcal J$. But $R$ is complete (!), so we can find $h_i\in R$ such that $\iota(h)=\{[h_{i,k}]_{I_k}\}_{k\in\NN}$. In particular, for any $m\in\NN$, we see that
	\[f-\sum_{i=1}^nh_ia_i\equiv f-\sum_{i=1}^nh_{i,m}a_i\equiv0\pmod{I_m}\]
	by construction of the $h_i$. So because $\iota$ must also be injective, we conclude that
	\[f=\sum_{i=1}^nh_ia_i,\]
	which finishes.
\end{proof}
Here is a nice application, which begins to explain why we want the Noetherian condition.
\begin{theorem}
	Fix a Noetherian ring $R$ and an ideal $I\subseteq R$. Then $\widehat R_I$ is Noetherian.
\end{theorem}
\begin{proof}
	For concreteness, let $\mathcal J$ be the $I$-adic filtration for $R$, and let $\widehat{\mathcal J}$ be the filtration for $\widehat R_I$ (given by $\{\widehat{I^k}\}_{k\in\NN}$).
	
	Now, pick up any ideal $I\subseteq\widehat R_I$. We will find finitely many generators for $I$ by finding finitely many generators of $(\op{in}I)\subseteq\op{gr}_{\widehat{\mathcal J}}\widehat R_I$, which will be enough by \autoref{lem:generateinitideal}. In fact, we claim that $\op{gr}_{\widehat{\mathcal J}}\widehat R_I$ is Noetherian, which will guarantee that $(\op{in}I)$ is finitely generated for free. For this, we have the following lemma.
	\begin{lemma} \label{lem:assgradedcomplete}
		Fix a ring $R$ with filtration $\mathcal J=\{I_k\}_{k\in\NN}$, and give $\widehat R_{\mathcal J}$ the filtration $\widehat{\mathcal J}$ by
		\[\widehat R_{\mathcal J}=\widehat{I_0}\supseteq\widehat{I_1}\supseteq\widehat{I_2}\supseteq\cdots.\]
		Then $\op{gr}_{\mathcal J}R\cong\op{gr}_{\widehat{\mathcal J}}\widehat R_{\mathcal J}$. 
	\end{lemma}
	\begin{proof}
		The point is to glue together isomorphisms $\widehat I_k/\widehat I_{k+1}\cong I_k/I_{k+1}$. We begin by exhibiting the needed isomorphisms. By definition, we have $\widehat R_{\mathcal J}/\widehat I_k\cong R/I$. Thus, we set up the following diagram.
		% https://q.uiver.app/?q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIlxcZnJhY3tcXHdpZGVoYXQgSV9rfXtcXHdpZGVoYXQgSV97aysxfX0iXSxbMiwwLCJcXGZyYWN7XFx3aWRlaGF0IFJfe1xcbWF0aGNhbCBKfX17XFx3aWRlaGF0IElfe2srMX19Il0sWzMsMCwiXFxmcmFje1xcd2lkZWhhdCBSX3tcXG1hdGhjYWwgSn19e1xcd2lkZWhhdCBJX2t9Il0sWzQsMCwiMCJdLFswLDEsIjAiXSxbMSwxLCJcXGZyYWN7SV9rfXtJX3trKzF9fSJdLFsyLDEsIlxcZnJhY3tSfXtJX3trKzF9fSJdLFszLDEsIlxcZnJhY3tSfXtJX3trfX0iXSxbNCwxLCIwIl0sWzAsMV0sWzEsMl0sWzIsM10sWzMsNF0sWzIsN10sWzMsOF0sWzgsOV0sWzcsOF0sWzYsN10sWzUsNl0sWzEsNiwiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
		\[\begin{tikzcd}
			0 & {\displaystyle\frac{\widehat I_k}{\widehat I_{k+1}}} & {\displaystyle\frac{\widehat R_{\mathcal J}}{\widehat I_{k+1}}} & {\displaystyle\frac{\widehat R_{\mathcal J}}{\widehat I_k}} & 0 \\
			0 & {\displaystyle\frac{I_k}{I_{k+1}}} & {\displaystyle\frac{R}{I_{k+1}}} & {\displaystyle\frac{R}{I_{k}}} & 0
			\arrow[from=1-1, to=1-2]
			\arrow[from=1-2, to=1-3]
			\arrow[from=1-3, to=1-4]
			\arrow[from=1-4, to=1-5]
			\arrow[from=1-3, to=2-3]
			\arrow[from=1-4, to=2-4]
			\arrow[from=2-4, to=2-5]
			\arrow[from=2-3, to=2-4]
			\arrow[from=2-2, to=2-3]
			\arrow[from=2-1, to=2-2]
			\arrow[dashed, from=1-2, to=2-2]
		\end{tikzcd}\]
		We know that the rows are exact by a direct computation. Additionally, the two maps on the right are isomorphisms. Now, this right square commutes: along the top, some $\{[r_s]\}_{s\in\NN}+\widehat{I}_k$ goes to $\{[r_s]\}_{s\in\NN}+\widehat I_{k+1}$ goes to $r_k+I_k$; along the bottom, we go to $r_{k+1}+I_{k+1}$ and then $r_{k+1}+I_k$, which is equal by definition of $\widehat R_{\mathcal J}$.

		Thus, the diagram induces an isomorphism
		\[\varphi_k:\frac{\widehat I_k}{\widehat I_{k+1}}\cong\frac{I_k}{I_{k+1}}.\]
		To be explicit, this isomorphism merely follows the left square around: we take $\{[r_k]\}_{k\in\NN}+\widehat I_{k+1}\in\widehat I_k/\widehat I_{k+1}$ to $\{[r_k]\}_{k\in\NN}+\widehat I_{k+1}\widehat R_{\mathcal J}/\widehat I_{k+1}$ down to $r_{k+1}+I_{k+1}\in R/I_{k+1}$ and back to $r_{k+1}+I_{k+1}\in I_k/I_{k+1}$. This map is well-defined and an isomorphism by the above argument.

		Now, we can glue our isomorphisms together to give an isomorphism
		\[\op{gr}_{\widehat{\mathcal J}}\widehat R_{\mathcal J}=\bigoplus_{k\ge0}\frac{\widehat I_k}{\widehat I_{k+1}}\cong\bigoplus_{k\ge0}\frac{I_k}{I_{k+1}}=\op{gr}_{\mathcal J}R\]
		of $R$-modules. To make this an isomorphism of rings, we need to check that we preserve multiplicative structure. Let $\varphi$ be the above composite so that we need to show $\varphi(1)=1$ and $\varphi(fg)=\varphi(f)\varphi(g)$. For the first, we see that
		\[\varphi([1],[0],[0],\ldots)=([1],[0],[0],\ldots)\]
		by definition of $\varphi$. For the second, we already know that $\varphi$ is additive, so by decomposing $f$ and $g$ into homogeneous components, it suffices to check for $f$ and $g$ homogeneous. That is, we take $f=[r]_{\widehat I_{k+1}}$ and $g=[s]_{\widehat I_{\ell+1}}$. Then
		\[\varphi\left([r]_{\widehat I_{k+1}}\cdot[s]_{\widehat I_{\ell+1}}\right)=\varphi\left([rs]_{\widehat I_{k+\ell+1}}\right)=[rs]_{I_{k+\ell+1}}=[r]_{I_{k+1}}\cdot[s]_{I_{\ell+1}}=\varphi\left([r]_{\widehat I_{k+1}}\right)\varphi\left([s]_{\widehat I_{\ell+1}}\right),\]
		which finishes.
	\end{proof}
	Thus, we finish by noting that
	\[\op{gr}_{\widehat{\mathcal J}}\widehat R_I=\op{gr}_IR\]
	is Noetherian by \autoref{lem:assgradedringnoetherian}. This finishes.
\end{proof}
\begin{remark}[Nir]
	One might complain that this proof seems needless hard, but there is in fact some obstacle to overcome. For example, when one wants to show that $k\bb{x}$ is Noetherian (which is the completion of $k[x]$ at $(x)$), one usually has to use Weierstrass preparation, which is also a difficult technique.
\end{remark}

\subsection{Nice Special Cases}
As another consequence, we can manifest \autoref{rem:wantbetterinducedfiltration} under fairly restrictive hypotheses.
\begin{prop} \label{prop:getbetterinducedfiltration}
	Fix a Noetherian ring $R$ and an ideal $I\subseteq R$, and endow $R$ with the $I$-adic filtration. Then $\widehat{I^n}=I^n\widehat R_I$.
\end{prop}
\begin{proof}
	Let $\mathcal J$ be the $I$-adic filtration for $R$, and let $\widehat{\mathcal J}$ be the induced filtration of $\widehat R_I$ (given by $\{\widehat{I^k}\}_{k\in\NN}$).

	As before, the key trick is to look in $\op{gr}_{\widehat{\mathcal J}}\widehat R_I$. By \autoref{lem:assgradedcomplete}, this ring is isomorphic to $\op{gr}_IR$ and hence Noetherian by \autoref{lem:assgradedringnoetherian}. In particular, $(\op{in}\widehat{I^n})$ and $(\op{in}I^n\widehat R_I)$ will both be finitely generated.
	
	By decomposing the generators into homogeneous parts, we can assume that all relevant generators are homogeneous and nonzero and therefore of the form $f+\widehat{I^{k+1}}\in\widehat{I^k}/\widehat{I^{k+1}}$, which is simply $\op{in}f$ when nonzero. Thus, $(\op{in}\widehat{I^k})$ and $(\op{in}I^k\widehat R_I)$ are both finitely generated by initial forms.

	With this in mind, we show that $\widehat{I^n}$ and $I^n\widehat R_I$ give rise to the same set of initial forms. Namely, we claim that these initial forms are exactly the ones of degree at least $n$ (and $0$).
	\begin{itemize}
		\item We work with $\widehat{I^n}$. In one direction, pick up some $\{[r_k]\}_{k\in\NN}\in\widehat{I^n}$ so that $[r_n]_{I^n}=[0]_{I^n}$. Then, for any $k\le n$, we have $r_k\equiv r_n\equiv0\pmod{I^n}$, so the initial form for $\{[r_k]\}_{k\in\NN}\in\widehat{I^n}$ is either $0$ or of degree at least $n$.

		In the other direction, of course $0$ is an initial form, so pick up some nonzero initial form $\{[r_k]\}_{k\in\NN}+\widehat{I^{m+1}}$ of degree $m\ge n$ so that $\{[r_k]\}_{k\in\NN}\in\widehat{I^m}\subseteq\widehat{I^n}$. In this case, we note that $\{[r_k]\}_{k\in\NN}\notin\widehat{I^{m+1}}$ follows, so $\op{in}\{[r_k]\}_{k\in\NN}$ is exactly the initial form we wanted to exhibit.

		\item We work with $I^n\widehat R_I$. In one direction, pick up some element
		\[\sum_{i=1}^mf_i\{[r_{i,k}]\}_{k\in\NN}=\left\{\left[\sum_{i=1}^nf_ir_{i,k}\right]\right\}_{k\in\NN}\in I^n\widehat{R_I},\]
		where the $f_i$ live in $I^n$. Thus, we see that then $n$th coordinate is $\sum_if_ir_{i,n}\in I^n$, so this element lives in $\widehat{I^n}$, so the above work shows that this element gives an initial form which is zero or of degree at least $n$.

		In the other direction, pick up some initial form $\{[r_k]\}_{k\in\NN}+\widehat{I^{m+1}}$ of degree $m\ge n$. Then we see
		\[\{[r_k]\}_{k\in\NN}-\{[r_{m+1}]\}_{k\in\NN}\]
		will vanish in the $m+1$ coordinate, so this difference lives in $\widehat{I^{m+1}}$. So our initial form is actually $\{[r_{m+1}]\}_{k\in\NN}+\widehat{I^{m+1}}$. If this is $0$, then of course we can get $0$ from $I^n\widehat R_I$. Otherwise, $r_{m+1}\notin I^{m+1}$, so
		\[\{[r_{m+1}]\}_{k\in\NN}+\widehat{I^{m+1}}=\op{in}\{[r_{m+1}]\}_{k\in\NN}.\]
		However, we now note that $\{[r_{m+1}]\}_{k\in\NN}=r_{m+1}\cdot\{[1]\}_{k\in\NN}$ lives in $I^n\widehat R_I$ because $r_{m+1}\in I^m\subseteq I^n$. This finishes the check.
	\end{itemize}
	Now, if $(\op{in}\widehat{I^n})$ is generated by some initial forms $\op{in}a_1,\ldots,\op{in}a_m$, then these initial forms also arise from $(\op{in}I^n\widehat R_I)$, so $(\op{in}\widehat{I^n})\subseteq(\op{in}I^n\widehat R_I)$; running this argument in reverse gives the equality, so we see that
	\[(\op{in}\widehat{I^n})=(\op{in}a_1,\ldots,\op{in}a_m)=(\op{in}I^n\widehat R_I),\]
	so
	\[\widehat{I^n}=(a_1,\ldots,a_m)=I^n\widehat R_I\]
	by \autoref{lem:generateinitideal}. This finishes.
\end{proof}
\begin{corollary}
	Fix a Noetherian ring $R$ and an ideal $I\subseteq R$, and endow $R$ with the $I$-adic filtration. Then $\op{gr}_IR\cong\op{gr}_{I\widehat R_I}\widehat R_I$.
\end{corollary}
\begin{proof}
	We string together our isomorphisms. Let $\widehat{\mathcal J}$ be the filtration on $\widehat R_I$ induced by the $I$-adic filtration on $R$; that is, $\mathcal J=\{\widehat{I^k}\}_{k\in\NN}$. Note \autoref{lem:assgradedcomplete} gives
	\[\op{gr}_IR\cong\op{gr}_{\widehat{\mathcal J}}\widehat R_I=\bigoplus_{s\ge0}\frac{\widehat{I^s}}{\widehat{I^{s+1}}}.\]
	Now, using \autoref{prop:getbetterinducedfiltration}, we see this is
	\[\bigoplus_{s\ge0}\frac{\widehat{I^s}}{\widehat{I^{s+1}}}=\bigoplus_{s\ge0}\frac{I^s\widehat R_I}{I^{s+1}\widehat R_I}.\]
	We thus claim that $I^s\widehat R_I=(I\widehat R_I)^s$. By fully distributing an element of $(I\widehat R_I)^s$ as
	\[\prod_{k=1}^s\sum_{i=1}^{n_k}a_ir_i,\]
	we see that the $a_i$ will collect to give us a term in $I^s\widehat R_I$. And conversely, an element
	\[\sum_{i=1}^n\Bigg(\prod_{k=1}^sa_{i,k}\Bigg)r_i\]
	in $I^s\widehat R_I$ can be written as
	\[\sum_{i=1}^nr_k\Bigg(\prod_{k=1}^na_{i,k}\cdot1_{\widehat R_I}\Bigg),\]
	which now lives in $(I\widehat R_I)^s$ term-wise.

	Thus, we have the equality
	\[\bigoplus_{s\ge0}\frac{I^s\widehat R_I}{I^{s+1}\widehat R_I}=\bigoplus_{s\ge0}\frac{(I\widehat R_I)^s}{(I\widehat R_I)^{s+1}}=\op{gr}_{I\widehat R_I}\widehat R_I,\]
	which is what we wanted. Notably, the multiplicative structure is simply carried through the equalities as a multiplication endowed by the grading.
\end{proof}

\subsection{Completion for Modules}
We close class by quickly stating the story of completions for modules.
\begin{restatable}[Completion, modules]{defi}{modcomplete}
	Fix a ring $R$ and filtration $\mathcal J=\{I_k\}_{k\in\NN}$. Further, given an $R$-module $M$, there is an induced filtration (which we also name $\mathcal J$) given by
	\[M=I_0M\supseteq I_1M\supseteq I_2M\supseteq\cdots.\]
	Then we define
	\[\widehat M_\mathcal J=\left\{(m_0,m_1,\ldots)\in\prod_{s\in\NN}M/I_sM:m_i\equiv m_j\pmod{I_jM}\text{ for }i>j\right\}\]
\end{restatable}
\begin{remark}[Nir]
	Again, we might also denote this by
	\[\limit_sM/I_sM.\]
\end{remark}
We can quickly check that $\widehat M_\mathcal J$ is at least an $R$-submodule of $\prod_{s\in\NN}M/I_sM$: for any $r$, $s\in R$ and $\{[m_k]\}_{k\in\NN}$, $\{[s_k]\}_{k\in\NN}\in\widehat M_\mathcal J$, we see that our action gives
\[r\cdot\{[m_k]\}_{k\in\NN}+s\cdot\{[n_k]\}_{k\in\NN}=\{[rm_k+sn_k]\}_{k\in\NN}.\]
Now, for $i>j$, we see that $m_i\equiv m_j\pmod{I_jM}$ and $n_i\equiv n_j\pmod{I_jM}$, so
\[rm_i+sn_i\equiv rm_j+sn_j\pmod{I_j},\]
so $r\cdot\{[m_k]\}_{k\in\NN}+s\cdot\{[n_k]\}_{k\in\NN}\in\widehat M_\mathcal J$ follows.

In fact, we have a little stronger structure.
\begin{lemma} \label{lem:completemodovercompletering}
	Fix a ring $R$ and filtration $\mathcal J$. Then $\widehat M_\mathcal J$ is an $\widehat R_\mathcal J$-submodule.
\end{lemma}
\begin{proof}
	The $\widehat R_\mathcal J$-action on $\widehat M_\mathcal J$ will be given by
	\[\{[r_k]_{I_k}\}_{k\in\NN}\cdot\{[m_k]_{I_kM}\}_{k\in\NN}=\{[r_km_k]_{I_kM}\}_{k\in\NN}.\]
	Notably, the action of $R/I_k$ on $M/I_kM$ is well-defined because $r\equiv s\pmod{I_k}$ and $m\equiv n\pmod{I_kM}$ will have
	\[rm-sn=r(m-n)+(r-s)n\in I_kM.\]
	Further, $\widehat M_\mathcal J$ is closed under this action: again fix $\{[r_k]\}_{k\in\NN}\in\widehat R_\mathcal J$ and $\{[m_k]\}_{k\in\NN}\in\widehat M_\mathcal J$. Then, if $i>j$, then we see that $r_i\equiv r_j\pmod{I_j}$ and $m_i\equiv m_j\pmod{I_jM}$, so
	\[r_im_i\equiv r_jm_j\pmod{I_jM}\]
	by the exact same check as above.

	So we have provided a well-defined action. To show that we actually have a module structure, we pick up two pairs of elements $\{[r_k]\}_{k\in\NN},\{[s_k]\}_{k\in\NN}\in\widehat R_\mathcal J$ and $\{[m_k]\}_{k\in\NN},\{[s_k]\}_{k\in\NN}\in\widehat M_\mathcal J$ and run the following checks.
	\begin{itemize}
		\item Associativity: we see
		\[\{[r_k]\}_{k\in\NN}\cdot\left(\{[s_k]\}_{k\in\NN}\cdot\{[m_k]\}_{k\in\NN}\right)=\{[r_ks_km_k]\}_{k\in\NN}=\left(\{[r_k]\}_{k\in\NN}\cdot\{[s_k]\}_{k\in\NN}\right)\cdot\{[m_k]\}_{k\in\NN}.\]
		\item Distributivity: we see
		\begin{align*}
			\left(\{[r_k]\}_{k\in\NN}+\{[s_k]\}_{k\in\NN}\right)\cdot\{[m_k]\}_{k\in\NN} &= \{[r_km_k+s_km_k]\}_{k\in\NN} \\
			&= \left(\{[r_k]\}_{k\in\NN}\cdot\{[m_k]\}_{k\in\NN}\right)+\left(\{[s_k]\}_{k\in\NN}\cdot\{[m_k]\}_{k\in\NN}\right).
		\end{align*}
		\item Distributivity: we see
		\begin{align*}
			\{[r_k]\}_{k\in\NN}\left(\{[m_k]\}_{k\in\NN}+\{[n_k]\}_{k\in\NN}\right) &= \{[r_km_k+r_kn_k]\}_{k\in\NN} \\
			&= \left(\{[r_k]\}_{k\in\NN}\cdot\{[m_k]\}_{k\in\NN}\right)+\left(\{[r_k]\}_{k\in\NN}\cdot\{[n_k]\}_{k\in\NN}\right).
		\end{align*}
		\item Identity: we see
		\[\{[1]\}_{k\in\NN}\cdot\{[m_k]\}_{k\in\NN}=\{[m_k]\}_{k\in\NN}.\]
	\end{itemize}
	These checks finish.
\end{proof}

To finish class, we have the following result, in analogy with the case of localization (namely, \autoref{prop:localizeistensor} and \autoref{cor:localflat}).
\begin{restatable}{theorem}{completetensor} \label{thm:completetensor}
	Fix $R$ a Noetherian ring with an ideal $I\subseteq R$ and $M$ a finitely generated $R$-module.
	\begin{listalph}
		\item We have that $\widehat M_I\cong\widehat R_I\otimes_RM$, and this isomorphism is natural in $M$.
		\item We have that $\widehat R_I$ is a flat $R$-module.
	\end{listalph}
\end{restatable}
\begin{proof}
	This will be proven next class.
\end{proof}