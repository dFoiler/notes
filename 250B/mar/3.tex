% !TEX root = ../notes.tex

Welcome back everybody.

\subsection{Projective Resolutions}
Today we will discuss homological methods to determine flatness. As mentioned last class, we will want to introduce the functor $\op{Tor}$, so we want to be able to talk about left-derived functors.

We will make left-derived functors out of projective resolutions, so that is where we will start.
\begin{definition}[Resolution] \label{def:resolution}
	Given an $R$-module $M$ a \textit{resolution of $M$} is a chain complex $(P,\del)$ such that
	\[P_i=0\qquad\text{for }i<0.\]
	Additionally, we require an augmentation map $\varepsilon:P_0\onto M$ so that
	\[\cdots\stackrel{\del_3}\to P_2\stackrel{\del_2}\to P_1\stackrel{\del_1}\to P_0\stackrel{\varepsilon}\to M\to 0\]
	is an exact sequence. We call the above complex the \textit{augmented resolution}, and we notate it by $P\to M$.
\end{definition}
\begin{remark}
	Alternatively, we can just look at the complex
	\[\cdots\stackrel{\del_3}\to P_2\stackrel{\del_2}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to 0\]
	and ask to be exact at all terms except at $P_0$, where we require $H_0(P)=\ker\del_0/\im\del_1=M$. In particular, we note $\ker\del_0=P_0$ because $\del_0:P_0\to0$, so $\del_0$ induces a surjection $P\onto M$ with kernel $\im\del_1$. So we can insert $M$ to make an exact sequence
	\[\cdots\stackrel{\del_3}\to P_2\stackrel{\del_2}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to M\to 0.\]
\end{remark}
\begin{defi}[Projective, free resolutions]
	Fix an $R$-module $M$ with a resolution $(P,\del)$.
	\begin{itemize}
		\item The resolution is \textit{projective} if and only if $P_i$ is projective for $i\ge0$.
		\item The resolution is \textit{free} if any only if $P_i$ is free over $i\ge0$.
	\end{itemize}
\end{defi}
\begin{remark}
	Because free modules are projective (see \autoref{lem:projgrabbag} part (c), for example), it follows that a free resolution is a projective resolution.
\end{remark}
% \begin{remark}[Nir]
% 	The last exactness condition is asking for $\im\del_{i-1}=\ker\del_i$ for each $i$; looping over all indices $i$, this is equivalent to requiring $\im\del=\ker\del$.
% \end{remark}
To start, we give every module a projective resolution.
\begin{lemma} \label{lem:enoughprojectives}
	Every $R$-module $M$ has a free resolution and therefore a projective resolution.
\end{lemma}
\begin{proof}
	We build the augmented resolution $P\to M$, which we callously call $P$ (so that $P_{-1}=M$). The point is to use \autoref{lem:getenoughprojectives}. We produce our injective resolution inductively. To start our resolution $(P,\del)$, we start as required with
	\[P_i=\begin{cases}
		M & i=-1, \\
		0 & i<-1,
	\end{cases}\]
	and $\del_i=0$ for $i\le-1$. We now claim that, for any $n\in\NN$, we can construct projective modules $\{P_i\}_{i=0}^n$ with maps $\del_i:P_i\to P_{i-1}$ such that
	\[P_n\stackrel{\del_n}\to P_{n-1}\stackrel{\del_{n-1}}\to\cdots\stackrel{\del_{2}}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to M\to 0\]
	is an exact sequence. This induction will finish the proof.\footnote{Technically, one might want to use something like Zorn's lemma to actually go get the projective resolution with infinitely many terms, but we won't do this here.}
	
	For $n=0$, we use \autoref{lem:getenoughprojectives} to find a free module $P_0$ which surjects onto $M$ as $\del_0:P_0\onto M$. Thus,
	\[P_0\stackrel{\del_0}\to M\to0\]
	is exact at $M$ because the kernel of $0:M\to 0$ is all of $M$, which is precisely the image of $\del_0:P_0\onto M$.
	
	For the inductive step, we begin with our exact sequence
	\[P_n\stackrel{\del_n}\to P_{n-1}\stackrel{\del_{n-1}}\to\cdots\stackrel{\del_{2}}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to M\to 0\]
	and extend it by $P_{n+1}$. Indeed, by \autoref{lem:getenoughprojectives}, we can find a free module $P_{n+1}$ with a surjection $\del_{n+1}:P_{n+1}\onto\ker\del_n$. Tacking this on the front, we have the sequence
	\[P_{n+1}\stackrel{\del_{n+1}}\to P_n\stackrel{\del_n}\to P_{n-1}\stackrel{\del_{n-1}}\to\cdots\stackrel{\del_{2}}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to M\to 0.\]
	It remains to show that this sequence is exact. Well, by the inductive hypothesis, we already have exactness at everyone in $\{P_{n-1},P_{n-2},\ldots,P_1,P_0,M\}$. It remains to show exactness at $P_n$. Well, by construction of $\del_{n+1}$, we see that
	\[\im\del_{n+1}=\ker\del_n,\]
	which is exactly the exactness condition at $P_n$.
\end{proof}
\begin{remark}[Nir] \label{rem:fingenprojresolution}
	There is a complaint that \autoref{lem:getenoughprojectives} products huge free modules to project. However, if $R$ is Noetherian and $M$ is finitely generated, then we can choose a resolution of free and finitely generated modules.
	
	To see this, we proceed inductively: $M$ is finitely generated, so we can choose $P_0$ to be free of finite rank surjecting onto $M$. Then, for the inductive step, $P_n$ is free of finite rank, and $\ker\del_n\subseteq P_n$ is a submodule of the Noetherian module $P_n$, so $\ker\del_n$ is finitely generated, so we can surject onto it with a free module $P_{n+1}$ of finite rank.
\end{remark}
\begin{example}
	Fix $R:=k[x]/\left(x^2\right)$. Then $k$ is an $R$-module, where the $x$ acts by $0$: we can induce a map $k[x]\to k$ by lifting $\id_k:k\to k$ by $x\mapsto0$, and then we can mod out $k[x]$ by $x^2\mapsto0$, which gives us our map $\pi:R\to k$. Note $ax+b\in\ker\pi$ if and only if $bx=x(ax+b)=0$, so $\ker\pi=kx$.
	
	To start our projective resolution, we note we have a surjection
	\[R\stackrel\pi\to k\to 0\]
	with kernel $kx$; in particular, $\pi$ is surjective because $\pi$ lifts $\id_k:k\to k$. But now, we see that $\ker\pi=kx\cong k$ by $ax\mapsto a$, so we can project onto this kernel from $R$ by $ax+b\mapsto b\mapsto bx=x(ax+b)$. Thus, employing the algorithm in \autoref{lem:enoughprojectives}, we can create a free resolution
	\[\cdots\stackrel x\to R\stackrel x\to R\stackrel x\to R\to k\to 0.\]
\end{example}

\subsection{Creating Chain Morphisms}
\begin{warn}[Nir]
	The proofs in the next two subsections were written for augmented resolutions and then edited later to accommodate the correct definition of a projective resolution. There might be typos and are many elided details in this transition.
\end{warn}
One complaint is that our proof of \autoref{lem:enoughprojectives} did not produce a unique projective resolution. However, projective resolutions are unique in the following way.
\begin{lemma} \label{lem:uniqprojresolution}
	Suppose that $P:=\overline P\to M$ and $Q:=\overline Q\to M$ are augmented projective resolutions for an $R$-module $M$. Then there are chain morphisms $\alpha:P\to Q$ and $\beta:Q\to B$ such that $\alpha\beta\sim\id_Q$ and $\beta\alpha\sim\id_P$.
\end{lemma}
For this, it will be convenient to talk about how to induce chain morphisms for projective resolutions.
\begin{lemma} \label{lem:inducechainmorphism}
	Suppose that $P:=\overline P\to M$ and $Q:=\overline Q\to N$ are projective resolutions for the $R$-modules $M$ and $N$, respectively. Then an $R$-module homomorphism $\varphi:M\to N$ can be extended to a chain morphism $\varphi:P\to Q$.
\end{lemma}
\begin{proof}
	The point is to use the fact our modules are projective to extend the morphism $\varphi_{-1}:P_{-1}\to Q_{-1}$ backwards. In particular, for $i<-1$, we set $\varphi_i=0$ so that the following diagram commutes for any $i\le-1$.
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJQX2kiXSxbMSwwLCJQX3tpLTF9Il0sWzAsMSwiUV9pIl0sWzEsMSwiUV97aS0xfSJdLFswLDIsIlxcdmFycGhpX2kiLDJdLFsxLDMsIlxcdmFycGhpX3tpLTF9Il0sWzAsMSwiXFxkZWxeUF9pIl0sWzIsMywiXFxkZWxfaV5RIiwyXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		{P_i} & {P_{i-1}} \\
		{Q_i} & {Q_{i-1}}
		\arrow["{\varphi_i}"', from=1-1, to=2-1]
		\arrow["{\varphi_{i-1}}", from=1-2, to=2-2]
		\arrow["{\del^P_i}", from=1-1, to=1-2]
		\arrow["{\del_i^Q}"', from=2-1, to=2-2]
	\end{tikzcd}\]
	Namely, the top and bottom arrows are both $0$s, so the diagram commutes for free.

	Because we have $\varphi_i$ for $i\le-1$, it suffices exhibit the $\varphi_i$ for $i\ge0$ inductively, assuming that we have $\varphi_{i-1}$; this will finish by muttering something about Zorn's lemma. Namely, we need to induce $\varphi_i$ to make the following diagram commute.
	% https://q.uiver.app/?q=WzAsNixbMCwwLCJQX2kiXSxbMSwwLCJQX3tpLTF9Il0sWzAsMSwiUV9pIl0sWzEsMSwiUV97aS0xfSJdLFsyLDAsIlBfe2ktMn0iXSxbMiwxLCJRX3tpLTJ9Il0sWzAsMiwiXFx2YXJwaGlfaSIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsxLDMsIlxcdmFycGhpX3tpLTF9Il0sWzAsMSwiXFxkZWxeUF9pIl0sWzIsMywiXFxkZWxfaV5RIiwyXSxbNCw1LCJcXHZhcnBoaV97aS0yfSJdLFsxLDQsIlxcZGVsX3tpLTF9XlAiXSxbMyw1LCJcXGRlbF97aS0xfV5RIiwyXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		{P_i} & {P_{i-1}} & {P_{i-2}} \\
		{Q_i} & {Q_{i-1}} & {Q_{i-2}}
		\arrow["{\varphi_i}"', dashed, from=1-1, to=2-1]
		\arrow["{\varphi_{i-1}}", from=1-2, to=2-2]
		\arrow["{\del^P_i}", from=1-1, to=1-2]
		\arrow["{\del_i^Q}"', from=2-1, to=2-2]
		\arrow["{\varphi_{i-2}}", from=1-3, to=2-3]
		\arrow["{\del_{i-1}^P}", from=1-2, to=1-3]
		\arrow["{\del_{i-1}^Q}"', from=2-2, to=2-3]
	\end{tikzcd}\]
	We would like the fact that $P_i$ is projective in order to induce this arrow, but $\del_i^Q$ is not a surjection. However, $\del_i^Q$ does surject onto $\im\del_i^Q=\ker\del_{i-1}^Q$ (by exactness), so we would like $\varphi_{i-1}\circ\del_i^P$ to map into this kernel. Well, we can use the commutativity of the right square to write
	\[\del_{i-1}^Q\circ\varphi_{i-1}\circ\del_i^P=\varphi_{i-2}\circ\del_{i-1}^P\circ\del_i^P=\varphi_{i-2}\circ0=0,\]
	so $\im(\varphi_{i-1}\circ\del_i^P)\subseteq\ker\del_{i-1}^Q=\im\del_i^Q$. Thus, the following diagram is well-defined.
	% https://q.uiver.app/?q=WzAsMyxbMCwwLCJQX2kiXSxbMCwxLCJRX2kiXSxbMSwxLCJcXGltIFxcZGVsX2leUSJdLFswLDEsIlxcdmFycGhpX2kiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSwyLCJcXGRlbF9pXlEiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMCwyLCJcXHZhcnBoaV97aS0xfVxcY2lyY1xcZGVsX2leUCJdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		{P_i} \\
		{Q_i} & {\im \del_i^Q}
		\arrow["{\varphi_i}"', dashed, from=1-1, to=2-1]
		\arrow["{\del_i^Q}"', two heads, from=2-1, to=2-2]
		\arrow["{\varphi_{i-1}\circ\del_i^P}", from=1-1, to=2-2]
	\end{tikzcd}\]
	So, because $P_i$ is projective, we are promised an induced morphism $\varphi_i:P_i\to Q_i$ such that $\del_i^Q\circ\varphi_i=\varphi_{i-1}\circ\del_i^P$, which is what we wanted.
\end{proof}
Now, these induced chain morphisms do not look unique either (namely, the arrow provided by the projective condition need not be unique), but they are unique in the following sense.
\begin{lemma} \label{lem:uniqchainmorphism}
	Suppose that $P:=\overline P\to M$ and $Q:=\overline Q\to N$ are augmented projective resolutions for the $R$-modules $M$ and $N$, respectively. Further, fix two chain morphisms $\alpha,\beta:P\to Q$ such that $\alpha_{-1}=\beta_{-1}$; i.e., the restrictions of $\alpha$ and $\beta$ to $M\to N$ are equal. Then $\alpha$ and $\beta$ are homotopic.
\end{lemma}
\begin{proof}
	By \autoref{lem:rlinearchainhomotopy}, it suffices to show that $\alpha-\beta\sim0$, so set $\varphi:=\alpha-\beta$. In particular, we know that $\varphi_{-1}=\alpha_{-1}-\beta_{-1}=0$, and we would like to extend this to $\varphi\sim0$.

	Unsurprisingly, we construct our chain homotopy $h$ to witness $\varphi\sim0$ inductively; i.e., we want $\varphi_i=h_{i-1}\del_i^P+\del_{i+1}^Qh_i$ for each $i$. To start off, we set $h_i=0$ for $i\le-1$ because this is a morphism $h_i:P_i\to Q_{i+1}$, which must be the zero morphism anyways. Observe that $i\le-1$ will then have
	\[\varphi_i=0=h_{i-1}\del_i^P+\del_{i+1}^Qh_i\]
	because everything involved is $0$. For the inductive step, we have $i\ge0$ and are trying to induce the arrow $h_i$ in the following diagram which does not commute.
	% https://q.uiver.app/?q=WzAsNCxbMSwwLCJQX2kiXSxbMSwxLCJRX2kiXSxbMCwxLCJRX3tpKzF9Il0sWzIsMCwiUF97aS0xfSJdLFswLDIsImhfaSIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDEsImhfe2ktMX0iXSxbMCwzLCJcXGRlbF9pXlAiXSxbMCwxLCJcXHZhcnBoaV9pIiwxXSxbMiwxLCJcXGRlbF97aSsxfV5RIiwyXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		& {P_i} & {P_{i-1}} \\
		{Q_{i+1}} & {Q_i}
		\arrow["{h_i}"', dashed, from=1-2, to=2-1]
		\arrow["{h_{i-1}}", from=1-3, to=2-2]
		\arrow["{\del_i^P}", from=1-2, to=1-3]
		\arrow["{\varphi_i}"{description}, from=1-2, to=2-2]
		\arrow["{\del_{i+1}^Q}"', from=2-1, to=2-2]
	\end{tikzcd}\]
	As usual, we would like to induce $h_i$ using the fact that $P_i$ is projective. The main point is to show that $\varphi_i-h_{i-1}\del_i^P$ maps into $\im\del_{i+1}^Q=\ker\del_i^Q$. Well, because $\varphi_{i-1}=h_{i-2}\del_{i-1}^P+\del_i^Qh_{i-1}$ already, we compute
	\begin{align*}
		\del_i^Q\left(\varphi_i-h_{i-1}\del_i^P\right) &= \del_i^Q\varphi_i-\del_i^Qh_{i-1}\del_i^P \\
		&= \del_i^Q\varphi_i-\left(\varphi_{i-1}-h_{i-2}\del_{i-1}^P\right)\del_i^P \\
		&= \left(\del_i^Q\varphi_i-\varphi_{i-1}\del_i^P\right)+h_{i-2}\del_{i-1}^P\del_i^P.
	\end{align*}
	The left term here is zero because $\varphi$ is a chain morphism; the right term is zero by exactness of $P$. Thus, $\im\left(\varphi_i-h_{i-1}\del_i^P\right)\subseteq\ker\del_i^Q=\im\del_{i+1}^Q$, so the following diagram makes sense.
	% https://q.uiver.app/?q=WzAsMyxbMCwxLCJRX3tpKzF9Il0sWzEsMCwiUF9pIl0sWzEsMSwiXFxpbVxcZGVsXlFfe2krMX0iXSxbMSwwLCJoX2kiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwyLCJcXGRlbF97aSsxfV5RIiwyXSxbMSwyLCJcXHZhcnBoaV9pLWhfe2ktMX1cXGRlbF9pXlAiXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		& {P_i} \\
		{Q_{i+1}} & {\im\del^Q_{i+1}}
		\arrow["{h_i}"', dashed, from=1-2, to=2-1]
		\arrow["{\del_{i+1}^Q}"', two heads, from=2-1, to=2-2]
		\arrow["{\varphi_i-h_{i-1}\del_i^P}", from=1-2, to=2-2]
	\end{tikzcd}\]
	In particular, the fact that $P_i$ is projective grants us a morphism $h_i$ such that
	\[\del_{i+1}^Qh_i=\varphi_i-h_{i-1}\del_i^P,\]
	which is what we wanted.
\end{proof}
We are now ready to prove \autoref{lem:uniqprojresolution}.
\begin{proof}[Proof of \autoref{lem:uniqprojresolution}]
	To start, we use \autoref{lem:inducechainmorphism} to construct chain morphisms $\alpha:P\to Q$ and $\beta:Q\to P$ such that $\alpha_{-1}=\beta_{-1}=\id_M$.

	By symmetry, it suffices to show that $\alpha\beta\sim\id_Q$. Well, $\alpha\beta:Q\to Q$ is a chain morphism such that
	\[(\alpha\beta)_{-1}=\alpha_{-1}\beta_{-1}=\id_M\id_M=\id_M,\]
	and $\id_Q:Q\to Q$ is also a chain morphism such that $(\id_Q)_{-1}=\id_M$. This finishes by \autoref{lem:uniqchainmorphism}.
\end{proof}

\subsection{The Horseshoe Lemma}
Arguably, the ``main point'' of homology is to introduce the amazing long exact sequence in \autoref{thm:les}. To apply this story to projective resolutions, we will need a way to create a short exact sequence of projective resolutions.
\begin{prop}[Horseshoe lemma] \label{prop:horseshoe}
	Fix a short exact sequence of $R$-modules named
	\[0\to M'\to M\to M''\to 0.\]
	Further, suppose we have augmented projections resolutions $P'=\overline{P'}\to M'$ and $P'':=\overline{P''}\to M''$ for $M'$ and $M''$, respectively. Then we can form an augmented projective resolution $P:=\overline P\to M$ for $M$ such that
	\[0\to P'\to P\to P''\to 0\]
	is a split short exact sequence of complexes.
\end{prop}
\begin{proof}
	This is a little technical. Let our short exact sequence of $R$-modules be
	\[0\to M'\stackrel\iota\to M\stackrel\pi\to M''\to 0,\]
	and name our projective resolutions $(P',\del')$ and $(P'',\del'')$ for $M'$ and $M''$. To ground ourselves, we'll say from the outset that
	\[P_i:=\begin{cases}
		M & i=-1, \\
		P_i'\oplus P_i'' & i\ne-1.
	\end{cases}\]
	Further, we set $\iota_i:P_i'\to P_i$ be $\iota$ at $i=-1$ and the canonical inclusion otherwise; similarly, set $\pi_i:P_i\to P_i''$ be $\pi$ at $i=-1$ and the canonical projection otherwise. Thus, $\im\iota_i=\ker\pi_i$ for all $i$, by construction. As such,
	\[0\to P'\to P\to P''\to 0\]
	will be a short exact sequence of complexes as soon as we exhibit the needed map $\del:P\to P$. We have two constraints.
	\begin{itemize}
		\item To make $(P,\del)$ a valid projective resolution, we require $\im\del_i=\ker\del_{i-1}$ for each $i$.
		\item To make $\iota$ and $\pi$ valid chain morphisms, we need $\del'_i\iota_{i-1}=\iota_i\del_i$ and $\del_i\pi_{i-1}=\pi_i\del''_i$ for each $i\le-1$.
	\end{itemize}
	Of course, we will set $\del_i=0$ for $i\le-1$ because $P_{i+1}=0$ here, which gives $\im\del_i=\ker\del_{i-1}$ as well as $\del'_i\iota_{i-1}=\iota_i\del_i$ and $\del_i\pi_{i-1}=\pi_i\del''_i$ for each $i\le-1$.

	From here, it should not be a surprise that we will inductively construct $\del_i$ for $i\ge0$. In particular, we want to exhibit $\del_i$ in the following diagram.
	% https://q.uiver.app/?q=WzAsMTAsWzIsMCwiUF97aS0xfSJdLFsyLDEsIlBfaSdcXG9wbHVzIFBfaScnIl0sWzEsMCwiUCdfe2ktMX0iXSxbMywwLCJQX3tpLTF9JyciXSxbMSwxLCJQX2knIl0sWzMsMSwiUF9pJyciXSxbMCwxLCIwIl0sWzAsMCwiMCJdLFs0LDAsIjAiXSxbNCwxLCIwIl0sWzcsMl0sWzIsMCwiXFxpb3RhX3tpLTF9Il0sWzAsMywiXFxwaV97aS0xfSJdLFszLDhdLFs2LDRdLFs0LDEsIlxcaW90YV9pIiwyXSxbMSw1LCJcXHBpX2kiLDJdLFs1LDldLFs0LDIsIlxcZGVsJ19pIl0sWzEsMCwiXFxkZWxfaSIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs1LDMsIlxcZGVsX3tpLTF9JyciLDJdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		0 & {P'_{i-1}} & {P_{i-1}} & {P_{i-1}''} & 0 \\
		0 & {P_i'} & {P_i'\oplus P_i''} & {P_i''} & 0
		\arrow[from=1-1, to=1-2]
		\arrow["{\iota_{i-1}}", from=1-2, to=1-3]
		\arrow["{\pi_{i-1}}", from=1-3, to=1-4]
		\arrow[from=1-4, to=1-5]
		\arrow[from=2-1, to=2-2]
		\arrow["{\iota_i}"', from=2-2, to=2-3]
		\arrow["{\pi_i}"', from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
		\arrow["{\del'_i}", from=2-2, to=1-2]
		\arrow["{\del_i}"', dashed, from=2-3, to=1-3]
		\arrow["{\del_{i}''}"', from=2-4, to=1-4]
	\end{tikzcd}\tag{1}\label{eq:inductivestep}\]
	Well, we have a map $f_i:P_i'\to P_{i-1}$ by $f_i:=\iota_{i-1}\del_i'$. To get a map $P_i''\to P_{i-1}$, we use the fact that $P_i''$ is projective: $\pi_{i-1}:P_{i-1}\onto P''_{i-1}$ is a surjection, so we can pull $\del_{i-1}'':P_{i-1}\to P''_{i-1}$ backwards to a map $f_i':P_i''\to P_{i-1}$ such that $\pi_{i-1}f_i'=\del_{i-1}''$. We acknowledge that we have some freedom in our choice of $f_i'$, which we will restrict later.
	
	From here, we set
	\[\del_i:=f_i\oplus f_i'.\]
	We now run our checks on $\del_i$. Note that $\iota_{i-1}\del'_i=f_i=\del_i\iota_i$. Further, note that $\pi_{i-1}f_i=\pi_{i-1}\iota_{i-1}\del_i'=0$ by the exactness of the top row, so
	\[\pi_{i-1}\del_i=\pi_{i-1}(f_i\oplus f_i')=(\pi_{i-1}f_i)\oplus(\pi_{i-1}f_i')=0\oplus\del''_{i-1}=\del''_{i-1}\pi_i.\]
	So we have made $\iota$ and $\pi$ into valid chain morphisms.
	
	It remains to show that $(P,\del)$ is a complex which is exact everywhere; i.e., we need $\im\del_i=\ker\del_{i-1}$. The trick is to claim that we can construct such a $\del_i$ with the additional constraint that
	\[0\to\ker\del_i'\stackrel{\iota_i}\to\ker\del_i\stackrel{\pi_i}\to\ker\del_i''\to0.\]
	We show this claim by induction.
	
	When $i=0$, we simply use the above construction for $\del_i$. Then \autoref{eq:inductivestep} is a morphism of short exact sequences, so \autoref{lem:snake} gives us the exact sequence
	\[0\to\ker\del_0'\to\ker\del_0\to\ker\del_0''\to\coker\del_0'\to\coker\del_0\to\coker\del_0''\to0.\]
	But now we see that $\del_0':P_0'\to M'$ and $\del_0'':P_0''\to M''$ are both surjective, so $\coker\del_0'=0$ and $\coker\del_0''=0$. Thus, the above sequence forces $\coker\del_0=0$, so $\im\del_0=M=\ker\del_{-1}$. Additionally, we do indeed get our short exact sequence
	\[0\to\ker\del_0'\to\ker\del_0\to\ker\del_0''\to0.\]
	Now, when $i>0$, induction grants us a short exact sequence
	\[0\to\ker\del_{i-1}'\stackrel{\iota_{i-1}}\to\ker\del_{i-1}\stackrel{\pi_{i-1}}\to\ker\del_{i-1}''\to0.\]
	By exactness of $P'$ and $P''$, we see that $\im\del_i'=\ker\del_{i-1}'$ and $\im\del_i''=\ker\del_{i-1}''$, so we can rewrite \autoref{eq:inductivestep} as follows.
	% https://q.uiver.app/?q=WzAsMTAsWzEsMCwiUF9pJyJdLFswLDAsIjAiXSxbMiwwLCJQX2knXFxvcGx1cyBQX2knJyJdLFszLDAsIlBfaScnIl0sWzQsMCwiMCJdLFswLDEsIjAiXSxbMSwxLCJcXGtlclxcZGVsX3tpLTF9JyJdLFsyLDEsIlxca2VyXFxkZWxfe2ktMX0nIl0sWzMsMSwiXFxrZXJcXGRlbF97aS0xfScnIl0sWzQsMSwiMCJdLFsxLDBdLFswLDIsIlxcaW90YV9pIl0sWzIsMywiXFxwaV9pIl0sWzMsNF0sWzUsNl0sWzYsNywiXFxpb3RhX3tpLTF9IiwyXSxbNyw4LCJcXHBpX3tpLTF9IiwyXSxbOCw5XSxbMCw2LCJcXGRlbF9pJyIsMl0sWzIsNywiXFxkZWxfaSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDgsIlxcZGVsX2knJyJdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		0 & {P_i'} & {P_i'\oplus P_i''} & {P_i''} & 0 \\
		0 & {\ker\del_{i-1}'} & {\ker\del_{i-1}'} & {\ker\del_{i-1}''} & 0
		\arrow[from=1-1, to=1-2]
		\arrow["{\iota_i}", from=1-2, to=1-3]
		\arrow["{\pi_i}", from=1-3, to=1-4]
		\arrow[from=1-4, to=1-5]
		\arrow[from=2-1, to=2-2]
		\arrow["{\iota_{i-1}}"', from=2-2, to=2-3]
		\arrow["{\pi_{i-1}}"', from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
		\arrow["{\del_i'}"', from=1-2, to=2-2]
		\arrow["{\del_i}", dashed, from=1-3, to=2-3]
		\arrow["{\del_i''}", from=1-4, to=2-4]
	\end{tikzcd}\tag{2}\label{eq:inductivestepagain}\]
	Notably, we have chosen to replace $P_{i-1}$ with $\ker\del_{i-1}$! So now, redoing the construction of $\del_i$ with $\ker\del_{i-1}$ as the codomain, we get a map $\del_i:P_i\to\ker\del_{i-1}$ such that the above diagram commutes. Running \autoref{lem:snake} on \autoref{eq:inductivestepagain}, we get the exact sequence
	\[0\to\ker\del_i'\to\ker\del_i\to\ker\del_i''\to\coker\del_i'\to\coker\del_i\to\coker\del_i''\to0.\]
	Once more, exactness of $P'$ and $P''$ promises $\coker\del_i'=\coker\del_i''=0$, so $\coker\del_i=0$ in \autoref{eq:inductivestepagain}, meaning that $\im\del_i=\ker\del_{i-1}$, as needed. Additionally, we do indeed get
	\[0\to\ker\del_i'\to\ker\del_i\to\ker\del_i''\to0,\]
	which finishes the induction.
\end{proof}

\subsection{Left-Derived Functors}
We are now ready to talk about left-derived functors. The functor $\op{Tor}$ will fall out of this theory, but we will continue with the generality for a little while longer. For left-derived functors, we need to start with an additive right-exact functor $\Phi$.
\begin{definition}[Additive]
	A functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ is \textit{additive} if and only if, for any $R$-modules $M$ and $N$, the induced map
	\[\Phi:\mathrm{Hom}_R(M,N)\to\mathrm{Hom}_R(\Phi M,\Phi N)\]
	is a homomorphism of abelian groups.
\end{definition}
\begin{definition}[Right exact]
	A functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ is \textit{right-exact} if and only if $\Phi$ sends right-exact sequences to right-exact sequences.
\end{definition}
\begin{example}
	In the discussion that follows, keeping $\Phi:=-\otimes_RM$ in mind is not a bad idea; this will be the only example that we care about because it will give $\op{Tor}$. To be explicit, we already know that $\Phi$ is right-exact, and it is additive by simply checking: $\varphi,\psi:A\to B$ give
	\[(\varphi\otimes M+\psi\otimes M)(a\otimes m)=\varphi(a)\otimes m+\psi(a)\otimes m=(\varphi+\psi)(a)\otimes m=((\varphi+\psi)\otimes M)(a\otimes m).\]
\end{example}
Here's a reason why we want the additive condition.
\begin{lemma} \label{lem:addpreservezero}
	Additive functors $\Phi$ preserve the zero object.
\end{lemma}
\begin{proof}
	Note that an additive functor $\Phi$ must preserve the zero morphism, but when $0$ is our zero object, this is our identity. So
	\[\Phi\id_0=\id_{\Phi0}\]
	must still be a zero morphism, so $\Phi0$ is the zero object.
\end{proof}
Here is a better reason.
\begin{lemma} \label{lem:addpreservesplits}
	Additive functors $\Phi$ preserves split short exact sequences.
\end{lemma}
\begin{proof}
	The idea is to turn being a split short exact sequence into some system of equations which $\Phi$ will then preserve. By the proof of \autoref{lem:splitgrabbag}, the short exact sequence
	\[0\to A\stackrel\iota\to B\stackrel\pi\to C\to0\]
	splitting implies that we have an isomorphism $\iota\oplus\varphi:A\oplus C\to B$ such that $\pi\varphi=\id_C$. In addition, we see that this gives an arrow $B\cong A\oplus C\to A$ which we name $\psi$ such that $\psi\iota=\id_A$. Notably, $\psi\varphi=0$ because
	\[\psi(\iota\oplus\varphi)(\iota\oplus\varphi)^{-1}\varphi(c)=\psi(\iota\oplus\varphi)(0,c)=0\]
	because $\psi(\iota\oplus\varphi)$ projects onto the $A$-coordiante. It follows
	\[\iota\psi+\varphi\pi=\id_B\]
	because multiplying by the invertible morphism $\iota\oplus\varphi$ on the right gives $(\iota\oplus0)+(0\oplus\varphi)=(\iota\oplus\varphi)$, which is true.
	
	Now, applying $\Phi$ everywhere, we get the sequence of maps
	\[0\to\Phi A\stackrel{\Phi\iota}\to\Phi B\stackrel{\Phi\pi}\to\Phi C\to0,\]
	which we would like to show is a split short exact sequence. We see $(\Phi\psi)(\Phi\iota)=\id_{\Phi A}$, so $\Phi\iota$ is injective. Also, $(\Phi\pi)(\Phi\varphi)=\id_{\Phi C}$, so $\Phi\pi$ is surjective. Further, we have
	\[(\Phi\iota)(\Phi\psi)+(\Phi\varphi)(\Phi\pi)=\id_{\Phi B}\tag{$*$}\label{eq:splitsseschainhomotopy}\]
	because $\Phi$ is additive (!).

	So to finish, we need to show that $\ker\Phi\pi=\im\Phi\iota$ from which $(\Phi\pi)(\Phi\varphi)=\id_{\Phi C}$ will show that our short exact sequence splits.
	\begin{itemize}
		\item If $b\in\ker\Phi\pi$, then
		\[(\Phi\iota)((\Phi\psi)b)=b\]
		by \autoref{eq:splitsseschainhomotopy}, so $b\in\im\Phi\iota$.
		\item We see $(\Phi\pi)(\Phi\iota)=\Phi(\pi\iota)=\Phi0=0$ because $\Phi$ is additive, so $\im\Phi\iota\subseteq\ker\Phi\pi$.
	\end{itemize}
	These checks finish.
\end{proof}
And here are our left-derived functors.
\begin{definition}[Left-derived functor] \label{def:leftderivfunctor}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ (where $R$ and $S$ are rings) and $i\in\NN$ an index. Then, for any $R$-module $M$, we build a projective resolution $P$ for $M$ by
	\[\cdots\to P_2\to P_1\to P_0\to M\to0.\]
	Applying $\Phi$ gives us another complex
	\[\cdots\to\Phi P_2\to\Phi P_1\to\Phi P_0\to\Phi M\to0.\]
	Then we define the \textit{left-derived functor} $L_i\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ by $L_i\Phi(M):=H_i(\Phi P)$.
\end{definition}
We quickly check that $\Phi P$ does indeed properly as a complex.
\begin{lemma} \label{lem:functorgivescomplexfunctor}
	Fix a functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$.
	\begin{itemize}
		\item If $(P,\del)$ is a complex, then $(\Phi P,\Phi\del)$ is also a complex.
		\item If $\alpha:\left(P,\del^P\right)\to\left(Q,\del^Q\right)$ is a chain morphism, then $\Phi\alpha:\left(\Phi P,\del^{\Phi P}\right)\to\left(\Phi Q,\del^{\Phi Q}\right)$ is also a chain morphism.
	\end{itemize}
\end{lemma}
\begin{proof}
	We do our checks separately.
	\begin{itemize}
		\item Expanding out, we see that $\Phi$ applied to the complex $P$ produces the complex
		\[\cdots\to\Phi P_2\stackrel{\Phi\del_2}\to\Phi P_1\stackrel{\Phi\del_1}\to\Phi P_0\stackrel{\Phi\del_0}\to\cdots.\]
		We can use this labeling to properly make $\Phi P$ into a graded module, but we won't bother because this is a formalization of the above sequence anyways. To check that this is a complex, we pick up any index $i\in\NN$ and note
		\[(\Phi\del_{i+1})(\Phi\del_i)=\Phi(\del_{i+1}\del_i)=\Phi0=0\]
		by functoriality of $\Phi$.
		\item On applying $\Phi$ to $\alpha$, here is the diagram we need to commute.
		% https://q.uiver.app/?q=WzAsMTAsWzEsMCwiXFxQaGkgUF97aS0xfSJdLFsyLDAsIlxcUGhpIFBfaSJdLFszLDAsIlxcUGhpIFBfe2krMX0iXSxbMCwwLCJcXGNkb3RzIl0sWzQsMCwiXFxjZG90cyJdLFswLDEsIlxcY2RvdHMiXSxbNCwxLCJcXGNkb3RzIl0sWzEsMSwiXFxQaGkgUV97aS0xfSJdLFsyLDEsIlxcUGhpIFFfaSJdLFszLDEsIlxcUGhpIFFfe2krMX0iXSxbMCw3LCJcXFBoaVxcYWxwaGFfe2ktMX0iLDJdLFszLDBdLFs1LDddLFsxLDgsIlxcUGhpXFxhbHBoYV9pIl0sWzIsOSwiXFxQaGlcXGFscGhhX3tpKzF9Il0sWzcsOCwiXFxQaGlcXGRlbF97aS0xfV5RIiwyXSxbOCw5LCJcXFBoaVxcZGVsXlFfe2krMX0iLDJdLFs5LDZdLFswLDEsIlxcUGhpXFxkZWxfe2ktMX1eUCJdLFsxLDIsIlxcUGhpXFxkZWxfaV5QIl0sWzIsNF1d&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
		\[\begin{tikzcd}
			\cdots & {\Phi P_{i-1}} & {\Phi P_i} & {\Phi P_{i+1}} & \cdots \\
			\cdots & {\Phi Q_{i-1}} & {\Phi Q_i} & {\Phi Q_{i+1}} & \cdots
			\arrow["{\Phi\alpha_{i-1}}"', from=1-2, to=2-2]
			\arrow[from=1-1, to=1-2]
			\arrow[from=2-1, to=2-2]
			\arrow["{\Phi\alpha_i}", from=1-3, to=2-3]
			\arrow["{\Phi\alpha_{i+1}}", from=1-4, to=2-4]
			\arrow["{\Phi\del_{i-1}^Q}"', from=2-2, to=2-3]
			\arrow["{\Phi\del^Q_{i+1}}"', from=2-3, to=2-4]
			\arrow[from=2-4, to=2-5]
			\arrow["{\Phi\del_{i-1}^P}", from=1-2, to=1-3]
			\arrow["{\Phi\del_i^P}", from=1-3, to=1-4]
			\arrow[from=1-4, to=1-5]
		\end{tikzcd}\]
		In particular, for $\Phi\alpha$ to be a chain morphism, we note that $\alpha\del^P=\del^Q\alpha$ because $\alpha$ is a chain morphism, so
		\[(\Phi\alpha)\del^{\Phi P}=(\Phi\alpha)\left(\Phi\del^P\right)=\Phi\left(\alpha\del^P\right)=\Phi\left(\del^Q\alpha\right)=\left(\Phi\del^Q\right)(\Phi\alpha)=\del^{\Phi Q}(\Phi\alpha)\]
		by repeatedly using the functoriality of $\Phi$. This finishes.
		\qedhere
	\end{itemize}
\end{proof}
\begin{remark}
	A few more checks would show that $\Phi$ induces a functor from the category of complexes over $R$ to the category of complexes over $S$.
\end{remark}

However, the bigger concern with \autoref{def:leftderivfunctor} is that it looks like it depends on our choice of projective resolution for $M$. Thankfully, \autoref{lem:uniqchainmorphism} assures us that it does not.
\begin{lemma}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$. Then the left-derived functor $L_i\Phi$ is well-defined, up to isomorphism. Namely, $L_i\Phi(M)$ does not depend on the chosen projective resolution of $M$.
\end{lemma}
\begin{proof}
	Pick up two augmented projective resolutions for $M$ denoted $P:=\overline P\to M$ and $Q:=\overline Q\to M$. The main point is to use \autoref{lem:uniqprojresolution} to induce isomorphisms of the homology modules of $\Phi P$ and $\Phi Q$. Writing this all out takes some words.
	
	By \autoref{lem:uniqprojresolution}, we are promised chain morphisms $\alpha:P\to Q$ and $\beta:Q\to P$ such that
	\[\beta\alpha\sim\id_P\qquad\text{and}\qquad\alpha\beta\sim\id_Q.\]
	Namely, there is a degree-$1$ morphisms $g:P\to P$ and $h:Q\to Q$ such that
	\[\alpha\alpha-\id_P=h\del^Q+\del^Qh\qquad\text{and}\qquad\alpha\beta-\id_Q=g\del^P+\del^Pg.\]
	Applying $\Phi$, functoriality and additivity tells us that
	\[(\Phi\beta)(\Phi\alpha)-\id_{\Phi P}=(\Phi h)\del^{\Phi P}+\del^{\Phi P}(\Phi h)\qquad\text{and}\qquad(\Phi\alpha)(\Phi\beta)-\id_{\Phi Q}=(\Phi g)\del^{\Phi Q}+\del^{\Phi Q}(\Phi g).\]
	In particular, the differentials of $\Phi P$ and $\Phi^Q$ are $\Phi\del^P$ and $\Phi\del^Q$, respectively, and $\Phi\alpha$ and $\Phi\beta$ are chain morphisms by \autoref{lem:functorgivescomplexfunctor}. It follows that
	\[(\Phi\beta)(\Phi\alpha)\sim\id_{\Phi P}\qquad\text{and}\qquad(\Phi\alpha)(\Phi\beta)\sim\id_{\Phi Q}.\]
	Now, \autoref{lem:gethomologymorphism} promises us induced morphisms $H_i(\Phi\alpha):(\Phi P)_i\to(\Phi Q)_i$ and $H_i(\Phi\beta):(\Phi Q)_i\to(\Phi P)_i$, from which \autoref{lem:homologyfunctor} gives
	\[H_i(\Phi\beta)H_i(\Phi\alpha)=H_i(\Phi(\beta\alpha))\stackrel*=H_i(\id_{\Phi Q})=\id_{H_i(\Phi Q)},\]
	where we have used \autoref{prop:homotopyequalizeshomology} in $\stackrel*=$. Similarly,
	\[H_i(\Phi\alpha)H_i(\Phi\beta)=H_i(\Phi(\alpha\beta))=H_i(\id_{\Phi P})=\id_{H_i(\Phi P)},\]
	where we have again used \autoref{prop:homotopyequalizeshomology} in $\stackrel*=$. Thus, $H_i(\Phi\alpha):H_i(\Phi P)\to H_i(\Phi Q)$ is an isomorphism with inverse $H_i(\Phi\beta)$.

	Now, $L_i\Phi(M)=H_i(\Phi P)$ at all indices except $i=0$ (recall that $P$ is the augmented projective resolution), so we so far know that $L_i\Phi(M)$ is well-defined away from $i=0$. To fix this, we pick up the following lemma.
	\begin{lemma} \label{lem:lzero}
		Fix $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ a right-exact functor. We have that $L_0\Phi(M)\cong\Phi M$.
	\end{lemma}
	\begin{proof}
		For the first time, we use the fact that $\Phi$ is right-exact. Give $M$ any projective resolution $(P,\del)$ so that our resolution starts as the exact sequence
		\[P_1\stackrel{\del_1}\to P_0\stackrel{\varepsilon}\to M\to0.\]
		Because $\Phi$ is right-exact, we get an exact sequence
		\[\Phi P_1\stackrel{\Phi\del_1}\to\Phi P_0\stackrel{\Phi\varepsilon}\to\Phi M\to0.\]
		Thus, $\Phi\varepsilon$ induces an isomorphism
		\[\Phi M\cong\frac{\Phi P_0}{\im\Phi\del_1}=\frac{\ker\Phi\del_0}{\im\Phi\del_1}=H_0(\Phi P)=L_0\Phi(M),\]
		which is what we wanted.
	\end{proof}
	\begin{remark}[Nir]
		The above lemma is why the definition of a projective resolution does not take $P_{-1}=M$ automatically.
	\end{remark}
	It follows that $L_0\Phi(M)$ is in fact well-defined as $\Phi M$. This finishes.
\end{proof}
\begin{notation}
	Because $L_i\Phi$ is only well-defined up to isomorphism, we will simply define $L_0\Phi(M):=\Phi M$, for psychological reasons.
\end{notation}

\subsection{Properties of Left-Derived Functors}
We take a moment to list some nice properties of left-derived functors. To start off these are actually functors.
\begin{lemma} \label{lem:leftderivfunctor}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ and an $R$-module homomorphism $\varphi:M\to N$. Given any index $i\in\NN$, we can exhibit an $S$-module morphism $L_i\Phi(\varphi):L_i\Phi(M)\to L_i(\Phi N)$ satisfying the following functoriality conditions.
	\begin{itemize}
		\item For $R$-modules $A,B,C$ with morphisms $\alpha:A\to B$ and $\beta:B\to C$, we have $L_i\Phi(\beta)L_i(\alpha)=L_i\Phi(\beta\alpha)$.
		\item For an $R$-module $M$, we have $L_i\Phi(\id_M)=\id_{L_i\Phi(M)}$.
	\end{itemize}
\end{lemma}
\begin{proof}
	We simply plug into \autoref{lem:homologyfunctor}. Fix an $R$-module homomorphism $\varphi:M\to N$, and we give $M$ and $N$ the projective resolutions $\left(P,\del^P\right)$ and $\left(Q,\del^Q\right)$, respectively. Note that \autoref{lem:inducechainmorphism} then grants us an extension of $\varphi:M\to N$ to a full chain morphism $\varphi:P\to Q$. Pushing through \autoref{lem:functorgivescomplexfunctor} grants us a chain morphism $\Phi\varphi:\Phi P\to\Phi Q$, from which \autoref{lem:gethomologymorphism} turns into a morphism
	\[H_i(\Phi\varphi):H_i(\Phi P)\to H_i(\Phi Q).\]
	As such, we set $L_i\Phi(\varphi):=H_i(\Phi\varphi)$.

	Checking through the above construction, we see that all steps are well-defined except for extending the morphism $\varphi:M\to N$ to a chain morphism $\varphi:P\to Q$. However, this is okay: if $\alpha,\beta:P\to Q$ are chain morphisms extending $\varphi$ so that $\alpha_{-1}=\beta_{-1}=\varphi$, \autoref{lem:uniqchainmorphism} implies
	\[\alpha\sim\beta.\]
	So \autoref{prop:homotopyequalizeshomology} tells us $H_i(\Phi\alpha)=H_i(\Phi\beta)$, so our induced morphism $L_i\Phi(\varphi)$ is well-defined.
	
	We now run our functoriality checks.
	\begin{itemize}
		\item We work in the context of the statement. As discussed above, extend $\alpha:A\to B$ and $\beta:B\to C$ to any chain morphism of projective resolutions. From \autoref{lem:homologyfunctor}, we see that
		\[L_i\Phi(\beta)L_i\Phi(\alpha)=H_i(\Phi\beta)H_i(\Phi\alpha)=H_i(\Phi\beta\circ\Phi\alpha)=H_i(\Phi(\beta\alpha))=L_i\Phi(\beta\alpha),\]
		where we have also used the functoriality of $\Phi$.
		\item Fix our module $M$ with projective resolution $(P,\del)$. Note that $\id_M$ can be extended to the chain morphism $\id_P:\to P$, from which \autoref{lem:homologyfunctor} tells us that
		\[L_i\Phi(\id_M)=H_i(\Phi\id_P)=H_i(\id_{\Phi P})=\id_{H_i(\Phi P)}=\id_{L_i\Phi(M)},\]
		where we have again used the functoriality of $\Phi$.
	\end{itemize}
	The above checks finish.
\end{proof}
\begin{example}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$. Then, given an $R$-module homomorphism $\varphi:M\to N$, we see
	\[L_0\Phi(\varphi)=H_0(\Phi\varphi),\]
	which is simply $\Phi\varphi$ after tracking $L_i\Phi(M)\cong M$ and $L_i\Phi(N)\cong N$ through with \autoref{lem:gethomologymorphism}.
\end{example}
\begin{remark}[Nir] \label{rem:lzerofunctorial}
	Now that we have a functor, we remark that \autoref{lem:lzero} is natural in $M$: if $\varphi:M\to N$ is an $R$-module homomorphism, then we claim that the following diagram commutes.
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJMXzBcXFBoaShNKSJdLFsxLDAsIkxfMFxcUGhpKE4pIl0sWzAsMSwiXFxQaGkgTSJdLFsxLDEsIlxcUGhpIE4iXSxbMCwxLCJMXzBcXFBoaShcXHZhcnBoaSkiXSxbMCwyLCIiLDIseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsxLDMsIiIsMCx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzIsMywiXFxQaGlcXHZhcnBoaSIsMl1d
	\[\begin{tikzcd}
		{L_0\Phi(M)} & {L_0\Phi(N)} \\
		{\Phi M} & {\Phi N}
		\arrow["{L_0\Phi(\varphi)}", from=1-1, to=1-2]
		\arrow[Rightarrow, no head, from=1-1, to=2-1]
		\arrow[Rightarrow, no head, from=1-2, to=2-2]
		\arrow["\Phi\varphi"', from=2-1, to=2-2]
	\end{tikzcd}\]
	Indeed, along the top we take $x\in L_0\Phi(M)$ to $H_0(\Phi\varphi)(x)=(\Phi\varphi)(x)$, which is the same as what we get along the bottom.
\end{remark}
Here is another computation.
\begin{lemma} \label{lem:projectiveacyclic}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$. Then, if $P$ is a projective $R$-module, then $L_i\Phi(R)=0$ for $i>0$.
\end{lemma}
\begin{proof}
	We build our projective resolution by hand. Note that the sequence
	\[0\to P\to P\to 0\]
	is exact, so we set
	\[P_i:=\begin{cases}
		P & i=0, \\
		0 & i\ne0,
	\end{cases}\]
	with $\del=0$. This makes $\del^2=0$, so $(P,\del)$ is a complex. Further, we set $\varepsilon=\id_P$ (note $P_0=P$), so the sequence
	\[\cdots\stackrel0\to P_2\stackrel0\to P_1\stackrel0\to P_0\stackrel\varepsilon=P\to0\]
	is exact. Indeed, we are exact at each $P_i=0$ for $i>0$ because both the kernel and images are $0$. We are exact at $P_0$ because the kernel of the map $\id_P:P_0\to P$ is $0$; we are exact at $P$ because the kernel of the map $P\to0$ is equal to $P$, which is the image of $\varepsilon=\id_P$. Thus, $P$ is indeed a projective resolution of $P$.

	Now, we apply $\Phi$, which gives the complex
	\[\cdots\to\Phi P_2\to\Phi P_1\to\Phi P_0\to 0.\]
	In particular, note that $\Phi0=0$ by \autoref{lem:addpreservezero}, so for $i>0$, we can compute
	\[H_i(P\otimes_RN)=\frac{\ker\del_i}{\im\del_{i+1}}=\frac0{\im\del_{i+1}}=0\]
	because $\ker\del_i\subseteq\Phi P_i=\Phi0=0$ for $i>0$. The result follows
\end{proof}
Lastly, here is the main result of left-derived functors.
\begin{prop} \label{prop:leftderivles}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$. Suppose
	\[0\to M'\stackrel\iota\to M\stackrel\pi\to M''\to 0\]
	an exact sequence of $R$-modules. Then there is a long exact sequence of left-derived functors, given by
	% https://q.uiver.app/?q=WzAsOCxbMCwwLCJcXGNkb3RzIl0sWzEsMCwiTF9pXFxQaGkoTScpIl0sWzIsMCwiTF9pXFxQaGkoTSkiXSxbMywwLCJMX2lcXFBoaShNJycpIl0sWzEsMSwiTF97aS0xfVxcUGhpKE0nKSJdLFsyLDEsIkxfe2ktMX1cXFBoaShNKSJdLFszLDEsIkxfe2ktMX1cXFBoaShNJycpIl0sWzQsMSwiXFxjZG90cyJdLFswLDFdLFsxLDIsIkxfaVxcUGhpKFxcaW90YSkiXSxbMiwzLCJMX2lcXFBoaShcXHBpKSJdLFszLDQsIlxcZGVsdGFfaSIsMV0sWzQsNSwiTF97aS0xfVxcUGhpKFxcaW90YSkiLDJdLFs1LDYsIkxfe2ktMX1cXFBoaShcXHBpKSJdLFs2LDddXQ==
	\[\begin{tikzcd}
		\cdots & {L_i\Phi(M')} & {L_i\Phi(M)} & {L_i\Phi(M'')} \\
		& {L_{i-1}\Phi(M')} & {L_{i-1}\Phi(M)} & {L_{i-1}\Phi(M'')} & \cdots
		\arrow[from=1-1, to=1-2]
		\arrow["{L_i\Phi(\iota)}", from=1-2, to=1-3]
		\arrow["{L_i\Phi(\pi)}", from=1-3, to=1-4]
		\arrow["{\delta_i}"{description}, from=1-4, to=2-2]
		\arrow["{L_{i-1}\Phi(\iota)}"', from=2-2, to=2-3]
		\arrow["{L_{i-1}\Phi(\pi)}"', from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
	\end{tikzcd}\]
\end{prop}
\begin{proof}
	Choose any augmented projective resolutions $P':=\overline{P'}\to M'$ and $P'':=\overline{P''}\to M''$ for $M'$ and $M''$. Then \autoref{prop:horseshoe} promises us a third augmented projective resolution $P:=\overline{P}\to M$ so that we have a short exact sequence
	\[0\to P'\to P\to P''\to 0\]
	of augmented projective resolutions. By deleting everything at index $-1$ (i.e., replacing this row with $0$s across), we obtain a split short exact sequence
	\[0\to\overline{P'}\to\overline P\to\overline{P''}\to0\]
	of projective resolutions. Now, because $\Phi$ is additive, this will induce a short exact sequence of complexes
	\[0\to\Phi\overline{P'}\to\Phi\overline P\to\Phi\overline{P''}\to0\]
	by \autoref{lem:addpreservesplits}. From here, \autoref{thm:les} grants us a long exact sequence as follows.
	% https://q.uiver.app/?q=WzAsOCxbMCwwLCJcXGNkb3RzIl0sWzEsMCwiSF9pKFxcUGhpIFAnKSJdLFsyLDAsIkhfaShcXFBoaSBQKSJdLFszLDAsIkhfaShcXFBoaSBQJycpIl0sWzEsMSwiSF9pKFxcUGhpIFAnKSJdLFsyLDEsIkhfaShcXFBoaSBQKSJdLFszLDEsIkhfaShcXFBoaSBQJycpIl0sWzQsMSwiXFxjZG90cyJdLFswLDFdLFsxLDIsIkhfaShcXFBoaVxcaW90YSkiXSxbMiwzLCJIX2koXFxQaGlcXHBpKSJdLFszLDQsIlxcZGVsdGFfaSIsMV0sWzQsNSwiSF97aS0xfShcXFBoaVxcaW90YSkiLDJdLFs1LDYsIkhfe2ktMX0oXFxQaGlcXHBpKSIsMl0sWzYsN11d
	\[\begin{tikzcd}
		\cdots & {H_i(\Phi P')} & {H_i(\Phi P)} & {H_i(\Phi P'')} \\
		& {H_i(\Phi P')} & {H_i(\Phi P)} & {H_i(\Phi P'')} & \cdots
		\arrow[from=1-1, to=1-2]
		\arrow["{H_i(\Phi\iota)}", from=1-2, to=1-3]
		\arrow["{H_i(\Phi\pi)}", from=1-3, to=1-4]
		\arrow["{\delta_i}"{description}, from=1-4, to=2-2]
		\arrow["{H_{i-1}(\Phi\iota)}"', from=2-2, to=2-3]
		\arrow["{H_{i-1}(\Phi\pi)}"', from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
	\end{tikzcd}\]
	Plugging into the definitions of the functor $L_i\Phi$ finishes.
\end{proof}
\begin{remark}
	The fact that we have extended our short exact sequence
	\[\cdots\to\Phi M'\to\Phi M\to\Phi M''\to M'\to M\to M''\to 0\]
	to the ``left'' is why these are called left-derived functors.
\end{remark}

\subsection{Uniqueness of Left-Derived Functors}
We close our discussion of left-derived functors with a uniqueness result, which we will only sketch. This was not covered in class. We start with a remark.
\begin{remark}
	In fact, the $\delta_i$ from \autoref{prop:leftderivles} are natural in the short exact sequence, in the sense that a morphism of short exact sequences labeled
	% https://q.uiver.app/?q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIk0nIl0sWzIsMCwiTSJdLFszLDAsIk0nJyJdLFs0LDAsIjAiXSxbMCwxLCIwIl0sWzEsMSwiTiciXSxbMiwxLCJOIl0sWzMsMSwiTicnIl0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFsyLDNdLFszLDRdLFs1LDZdLFs2LDddLFs3LDhdLFs4LDldLFsxLDYsIlxcdmFycGhpJyIsMl0sWzIsNywiXFx2YXJwaGkiXSxbMyw4LCJcXHZhcnBoaScnIl1d
	\[\begin{tikzcd}
		0 & {M'} & M & {M''} & 0 \\
		0 & {N'} & N & {N''} & 0
		\arrow[from=1-1, to=1-2]
		\arrow[from=1-2, to=1-3]
		\arrow[from=1-3, to=1-4]
		\arrow[from=1-4, to=1-5]
		\arrow[from=2-1, to=2-2]
		\arrow[from=2-2, to=2-3]
		\arrow[from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
		\arrow["{\varphi'}"', from=1-2, to=2-2]
		\arrow["\varphi", from=1-3, to=2-3]
		\arrow["{\varphi''}", from=1-4, to=2-4]
	\end{tikzcd}\]
	gives rise to a commutative diagram as follows.
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJMX2lcXFBoaShNJycpIl0sWzEsMCwiTF97aS0xfVxcUGhpKE0nKSJdLFswLDEsIkxfaVxcUGhpKE4nJykiXSxbMSwxLCJMX3tpLTF9XFxQaGkoTicnKSJdLFswLDEsIlxcZGVsdGFfaSJdLFsyLDMsIlxcZGVsdGFfaSIsMl0sWzAsMiwiTF9pXFxQaGkoXFx2YXJwaGknJykiLDJdLFsxLDMsIkxfe2ktMX1cXFBoaShcXHZhcnBoaScpIl1d
	\[\begin{tikzcd}
		{L_i\Phi(M'')} & {L_{i-1}\Phi(M')} \\
		{L_i\Phi(N'')} & {L_{i-1}\Phi(N'')}
		\arrow["{\delta_i}", from=1-1, to=1-2]
		\arrow["{\delta_i}"', from=2-1, to=2-2]
		\arrow["{L_i\Phi(\varphi'')}"', from=1-1, to=2-1]
		\arrow["{L_{i-1}\Phi(\varphi')}", from=1-2, to=2-2]
	\end{tikzcd}\]
	Checking this commutativity is a matter of unraveling all the definitions; we will not do it here.
\end{remark}
In fact, the above properties uniquely determine the functors $L_i\Phi$, in the following sense.
\begin{theorem} \label{thm:uniqleftderiv}
	Fix an additive right-exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$. Then, up to natural isomorphism, there is exactly one family of functors $\{L_i\Phi\}_{i\in\NN}$ taking $\mathrm{Mod}_R\to\mathrm{Mod}_S$ satisfying the following.
	\begin{listalph}
		\item We have $L_0\Phi$ is naturally isomorphic to $\Phi$.
		\item We have $L_i\Phi(F)=0$ for any free $R$-module $F$ and $i>0$.
		\item For any short exact sequence
		\[0\to M'\stackrel\iota\to M\stackrel\pi\to M''\]
		of $R$-modules, there is a long exact sequence
		\[\cdots\to L_i\Phi(M')\stackrel{L_i\Phi(\iota)}\to L_i\Phi(M)\stackrel{L_i\Phi(\pi)}\to L_i\Phi(M'')\stackrel{\delta_i}\to L_{i-1}\Phi(M')\stackrel{L_{i-1}\Phi(\iota)}\to\cdots\]
		such that the $\delta_i$ are natural in the short exact sequence.
	\end{listalph}
\end{theorem}
\begin{proof}
	We will be brief. We employ dimension-shifting, inducting on $i$. The fact that $L_0\Phi$ is unique follows from (a).

	Now take $i>0$ and suppose that we have uniquely determined the functor $L_{i-1}\Phi$ up to natural isomorphism. We now pick up any $R$-module $M$, and we show that $L_i\Phi$ is unique up to natural isomorphism. Well, by \autoref{lem:getenoughprojectives}, there is a free $R$-module $F$ and surjection $\pi:F\onto M$. Setting $K:=\ker\pi$, we have a short exact sequence
	\[0\to K\stackrel\iota\to F\stackrel\pi\to M\to 0.\]
	Using (c), we thus have the exact sequence
	\[L_i\Phi(F)\to L_i\Phi(M)\stackrel{\delta_i}\to L_{i-1}\Phi(K)\stackrel{L_{i-1}\Phi(\iota)}\to L_{i-1}\Phi(F).\]
	Because $i>0$, we see that $L_i\Phi(F)=0$ by (b), so $\delta_i$ is injective. In particular, $L_i\Phi(M)$ is isomorphic to the kernel of $L_{i-1}\Phi(\iota)$. This isomorphism is natural because the $\delta_i$ is natural and $L_{i-1}\Phi$ is determined up to natural isomorphism. We will not say more.
\end{proof}
\begin{remark}
	There is an analogous theory for right-derived functors for left-exact functors by simply flipping all the arrows. For example, instead of using projective resolutions, we use injective resolutions. The only technicality is showing that all modules can be embedded into an injective module, which is not easy. We will not say more.
\end{remark}

\subsection{The Functor \texorpdfstring{$\op{Tor}$}{Tor}}
After all of our hard work, we are able to define the functor $\op{Tor}$.
\begin{defihelper}[\texorpdfstring{$\op{Tor}$}{Tor}] \nirindex{Tor@$\op{Tor}$}
	Fix an $R$-module $N$. Then the functor $-\otimes_RN:\mathrm{Mod}_R\to\mathrm{Mod}_R$ is an additive right-exact functor, so we define $\op{Tor}_i^R(M,N):=L_i(-\otimes_RN)(M)$.
\end{defihelper}
In practice, what happens is that we take a projective resolution $P$ of $M$ written as
\[\cdots\stackrel{\del_2}\to P_1\stackrel{\del_1}\to P_0\stackrel{\del_0}\to 0.\]
Then we apply the functor $-\otimes_RN$ to get
\[\cdots\stackrel{\del_2\otimes N}\to P_1\otimes_RN\stackrel{\del_1\otimes N}\to P_0\otimes_RN\stackrel{\del_0\otimes N}\to 0,\]
and $\op{Tor}_i^R(M,N)$ will be the $i$th homology module of this complex.
\begin{example}
	\autoref{lem:lzero} implies that $\op{Tor}_0^R(M,N)=L_0(-\otimes_RN)(M)=M\otimes_RN$.
\end{example}
\begin{remark}
	We note that
	\[\op{Tor}_0^R(M,N)\cong M\otimes_RN\cong N\otimes_RN\cong\op{Tor}_0^R(N,M),\]
	which is symmetric. It is more generally true that $\op{Tor}_i^R(M,N)\simeq\op{Tor}_i^R(N,M)$ for any index $i\in\NN$, but we will not use this.
\end{remark}
The proof of the above symmetry requires more effort than I would like to exert, but we can give a small case, which is all we will need (and gives a taste of the general case).
\begin{lemma} \label{lem:tor1commute}
	Fix two $R$-modules $M$ and $N$. Then
	\[\op{Tor}_1^R(M,N)\cong\op{Tor}_1^R(N,M).\]
\end{lemma}
\begin{proof}
	We will be brief. Fix (augmented) projective resolutions for $M$ and $N$ named $\left(P,\del^P\right)$ and $\left(Q,\del^Q\right)$ with augmentation maps $P\stackrel{\varepsilon_M}M$ and $Q\stackrel{\varepsilon_N}N$, respectively. The point is to draw the following big diagram.
	% https://q.uiver.app/?q=WzAsMTQsWzIsMSwiUF8wXFxvdGltZXNfUk4iXSxbMiwwLCJQXzFcXG90aW1lc19STiJdLFsyLDIsIk1cXG90aW1lc19STiJdLFsyLDMsIjAiXSxbMywyLCIwIl0sWzMsMCwiMCJdLFszLDEsIjAiXSxbMSwwLCJQXzFcXG90aW1lc19SUV8wIl0sWzEsMSwiUF8wXFxvdGltZXNfUlFfMCJdLFsxLDIsIk1cXG90aW1lc19SUV8wIl0sWzEsMywiMCJdLFswLDIsIk1cXG90aW1lc19SUV8xIl0sWzAsMywiMCJdLFswLDEsIlBfMFxcb3RpbWVzX1JRXzEiXSxbMTMsMTEsIlxcdmFyZXBzaWxvbl9NXFxvdGltZXMgUV8xIiwxXSxbMTEsMTJdLFsxMSw5LCJNXFxvdGltZXNcXGRlbF5RXzEiLDFdLFs5LDEwXSxbOSwyLCJNXFxvdGltZXNcXHZhcmVwc2lsb25fTiIsMV0sWzIsM10sWzIsNF0sWzEzLDgsIlBfMFxcb3RpbWVzXFxkZWxeUV8xIiwxXSxbNyw4LCJcXGRlbF5QXzFcXG90aW1lcyBRXzAiLDFdLFs4LDksIlxcdmFyZXBzaWxvbl9NXFxvdGltZXMgUV8wIiwxXSxbOCwwLCJQXzBcXG90aW1lc1xcdmFyZXBzaWxvbl9OIiwxXSxbMCwyLCJcXHZhcmVwc2lsb25fTVxcb3RpbWVzIE4iLDFdLFswLDZdLFs3LDEsIlBfMVxcb3RpbWVzXFx2YXJlcHNpbG9uX04iLDFdLFsxLDAsIlxcZGVsXlBfMVxcb3RpbWVzIE4iLDFdLFsxLDVdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}[column sep={6em},row sep={2em}]
		& {P_1\otimes_RQ_0} & {P_1\otimes_RN} & 0 \\
		{P_0\otimes_RQ_1} & {P_0\otimes_RQ_0} & {P_0\otimes_RN} & 0 \\
		{M\otimes_RQ_1} & {M\otimes_RQ_0} & {M\otimes_RN} & 0 \\
		0 & 0 & 0
		\arrow["{\varepsilon_M\otimes Q_1}"{description}, from=2-1, to=3-1]
		\arrow[from=3-1, to=4-1]
		\arrow["{M\otimes\del^Q_1}", from=3-1, to=3-2]
		\arrow[from=3-2, to=4-2]
		\arrow["{M\otimes\varepsilon_N}", from=3-2, to=3-3]
		\arrow[from=3-3, to=4-3]
		\arrow[from=3-3, to=3-4]
		\arrow["{P_0\otimes\del^Q_1}", from=2-1, to=2-2]
		\arrow["{\del^P_1\otimes Q_0}"{description}, from=1-2, to=2-2]
		\arrow["{\varepsilon_M\otimes Q_0}"{description}, from=2-2, to=3-2]
		\arrow["{P_0\otimes\varepsilon_N}", from=2-2, to=2-3]
		\arrow["{\varepsilon_M\otimes N}"{description}, from=2-3, to=3-3]
		\arrow[from=2-3, to=2-4]
		\arrow["{P_1\otimes\varepsilon_N}", from=1-2, to=1-3]
		\arrow["{\del^P_1\otimes N}"{description}, from=1-3, to=2-3]
		\arrow[from=1-3, to=1-4]
	\end{tikzcd}\]
	The diagram commutes because $\otimes_R$ is functorial in its entries. Now,
	\[\op{Tor}_1^R(M,N)=\frac{\ker(P_0\otimes N\to M\otimes N)}{\im(P_1\otimes N\to P_0\otimes N)}\qquad\text{and}\qquad\op{Tor}_1^R(N,M)=\frac{\ker(M\otimes Q_0\to M\otimes N)}{\im(M\otimes Q_1\to M\otimes Q_0)}.\]
	As such, we can show that we have a morphism $\op{Tor}_1^R(M,N)\to\op{Tor}_1^R(N,M)$ as
	\[(P_0\otimes\varepsilon_N)(\varepsilon_M\otimes Q_0)^{-1}.\]
	This has an inverse morphism defined in the analogous way, so we have an isomorphism. This finishes.
\end{proof}
Let's continue collecting properties.
\begin{lemma}
	Fix an $R$-module $N$. Then $\op{Tor}_i^R(-,N)$ is a functor.
\end{lemma}
\begin{proof}
	We defined $\op{Tor}_i^R(-,N)=L_i(-\otimes_RN)(-)$, so we are done by \autoref{lem:leftderivfunctor}.
\end{proof}
Arguably, the following is the ``main result'' and the reason we've been keeping track of our long exact sequences.
\begin{theorem} \label{thm:torles}
	Fix an $R$-module $N$ If we have a short exact sequence
	\[0\to M'\stackrel\iota\to M\stackrel\pi\to M''\to 0,\]
	of $R$-modules, then we have a long exact sequence of $\op{Tor}$, as follows.
	% https://q.uiver.app/?q=WzAsOCxbMCwwLCJcXGNkb3RzIl0sWzEsMCwiXFxvcHtUb3J9X2leUihNJyxOKSJdLFsyLDAsIlxcb3B7VG9yfV9pXlIoTSxOKSJdLFszLDAsIlxcb3B7VG9yfV9pXlIoTScnLE4pIl0sWzEsMSwiXFxvcHtUb3J9X3tpLTF9XlIoTScsTikiXSxbMiwxLCJcXG9we1Rvcn1fe2ktMX1eUihNLE4pIl0sWzMsMSwiXFxvcHtUb3J9X3tpLTF9XlIoTScnLE4pIl0sWzQsMSwiXFxjZG90cyJdLFswLDFdLFsxLDIsIlxcb3B7VG9yfV9pXlIoXFxpb3RhLE4pIl0sWzIsMywiXFxvcHtUb3J9X2leUihcXHBpLE4pIl0sWzMsNCwiXFxkZWx0YV9pIiwxXSxbNCw1LCJcXG9we1Rvcn1fe2ktMX1eUihcXGlvdGEsTikiLDJdLFs1LDYsIlxcb3B7VG9yfV97aS0xfV5SKFxccGksTikiLDJdLFs2LDddXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		\cdots & {\op{Tor}_i^R(M',N)} & {\op{Tor}_i^R(M,N)} & {\op{Tor}_i^R(M'',N)} \\
		& {\op{Tor}_{i-1}^R(M',N)} & {\op{Tor}_{i-1}^R(M,N)} & {\op{Tor}_{i-1}^R(M'',N)} & \cdots
		\arrow[from=1-1, to=1-2]
		\arrow["{\op{Tor}_i^R(\iota,N)}", from=1-2, to=1-3]
		\arrow["{\op{Tor}_i^R(\pi,N)}", from=1-3, to=1-4]
		\arrow["{\delta_i}"{description}, from=1-4, to=2-2]
		\arrow["{\op{Tor}_{i-1}^R(\iota,N)}"', from=2-2, to=2-3]
		\arrow["{\op{Tor}_{i-1}^R(\pi,N)}"', from=2-3, to=2-4]
		\arrow[from=2-4, to=2-5]
	\end{tikzcd}\]
\end{theorem}
\begin{proof}
	By definition $\op{Tor}_i^R(-,N):=L_i(-\otimes_RN)(-)$, so this is an application of \autoref{prop:leftderivles}.
\end{proof}
Here are some more basic computations.
\begin{lemma} \label{lem:torprojective}
	If $P$ is a projective $R$-module, then $\op{Tor}_i^R(P,N)\cong0$ for all $i>0$.
\end{lemma}
\begin{proof}
	As usual, this follows from plugging in $L_i(-\otimes_RN)(-)$ into \autoref{lem:projectiveacyclic}.
\end{proof}
\begin{remark}
	In fact, if $F$ is a flat module, then $\op{Tor}_i^R(M,F)\cong0\cong\op{Tor}_i^R(F,M)$ for all $i>0$. We will show this shortly.
\end{remark}
\begin{remark}
	In fact, the above properties more or less characterize $\op{Tor}$, as usual by plugging into the associated result for left-derived functors, namely \autoref{thm:uniqleftderiv}.
\end{remark}

\subsection{Properties of \texorpdfstring{$\op{Tor}$}{Tor}}
We continue our fact-collection beyond what immediately falls out of the theory of left-derived functors. For example, $\op{Tor}$ is reasonably small.
\begin{lemma}
	Fix a Noetherian ring $R$ and finitely generated $R$-modules $M$ and $N$. Then, for any index $i\in\NN$, the module $\op{Tor}_i^R(M,N)$ is finitely generated.
\end{lemma}
\begin{proof}
	The point is to use \autoref{rem:fingenprojresolution}. Before continuing, we pick up the following lemma.
	\begin{lemma}
		Suppose that $A$ and $B$ are finitely generated $R$-modules. Then $A\otimes_RN$ is also a finitely generated $R$-module.
	\end{lemma}
	\begin{proof}
		By hypothesis, we are granted $m,n\in\NN$ and surjections $\varphi:R^m\onto A$ and $\psi:R^n\onto N$. Because tensoring is right-exact and in particular preserves surjections, we see that $\psi:R^n\onto N$ induces a surjection
		\[M\otimes_RR^n\onto M\otimes_R N\]
		by applying $M\otimes_R-$. Further, $\varphi:R^m\onto M$ induces a surjection
		\[R^m\otimes_RR^n\onto M\otimes_RR^n\]
		by applying $-\otimes_RR^n$. But now, we see that
		\[R^m\otimes_RR^n\cong\left(R\otimes_RR^n\right)^m\cong\left((R\otimes_RR)^n\right)^m\cong R^{nm}\]
		is a free $R$-module of finite rank which can surject onto $M\otimes_RR^n$ and then onto $M\otimes_RN$.
	\end{proof}
	Now, \autoref{rem:fingenprojresolution} promises us a free and therefore projective resolution for $M$ notated
	\[\cdots\to P_2\to P_1\to P_0\to0\]
	such that all the $P_\bullet$ are finitely generated. Applying $-\otimes_RN$ gives us the complex
	\[\cdots\stackrel{\del_3\otimes N}\to P_2\otimes_RN\stackrel{\del_2\otimes N}\to P_1\otimes_RN\stackrel{\del_1\otimes N}\to P_0\otimes_RN\stackrel{\del_0\otimes N}\to0,\]
	where each term is finitely generated by the above lemma. Thus, for our fixed index $i$, we see that $\ker(\del_i\otimes N)$ is finitely generated (for example, use the fact that finitely generated modules over a Noetherian), so
	\[\op{Tor}_i^R(M,N)=\ker(\del_i\otimes N)/\im(\del_{i+1}\otimes N)\]
	is finitely generated as well, so we are done.
\end{proof}
We also have a notion of base change, for flat algebras.
\begin{lemma}
	Fix a flat $R$-algebra $S$ as well as $R$-modules $M$ and $N$. Then
	\[S\otimes_R\op{Tor}_i^R(M,N)\cong\op{Tor}_i^S(S\otimes_RM,S\otimes_RN).\]
\end{lemma}
\begin{proof}
	The point is to build our projective resolution for $S\otimes_RM$ by hand. We need $S$ to be flat in order to preserve homology and exactness. To be explicit, we use \autoref{lem:enoughprojectives} to give $M$ a free resolution so that the sequence
	\[\cdots\to F_2\stackrel{\del_2}\to F_1\stackrel{\del_1}\to F_0\stackrel\varepsilon\to M\to 0\]
	is an exact sequence. The key trick is that applying $S\otimes_R-$ to this sequence gives the complex
	\[\cdots\to S\otimes_RF_2\stackrel{S\otimes\del_2}\to S\otimes_RF_1\stackrel{S\otimes\del_1}\to S\otimes_RF_0\stackrel\varepsilon\to S\otimes_RM\to0.\tag{$*$}\label{eq:freeresfortensor}\]
	Note that this complex is exact everywhere; more generally, we have the following lemma.
	\begin{lemma} \label{lem:preservehomology}
		Fix a complex $(A,\del)$ of $R$-modules and $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$ an exact functor. Then $H_i(\Phi A)\cong\Phi H_i(A)$.
	\end{lemma}
	\begin{proof}
		Because $\Phi$ is exact, we note that $\Phi$ preserves kernels and cokernels: a morphism $\varphi:A\to B$ gives the exact sequence
		\[0\to\ker\varphi\to A\stackrel\varphi\to B,\]
		which upon applying $\Phi$ to will show that $\Phi\ker\varphi\subseteq\Phi A$ is the kernel of the morphism $\Phi\varphi$. Similarly, we have the short exact sequence
		\[A\stackrel\varphi\to B\to\coker\varphi\to0,\]
		so applying $\Phi$ will give the short exact sequence
		\[\Phi A\stackrel{\Phi\varphi}\to\Phi B\to\Phi\coker\varphi\to0,\]
		from which $\Phi\coker\varphi=\coker\Phi\varphi$.\footnote{We are being intentionally sloppy about these objects being literally equal instead of naturally isomorphic or something because I don't want to write out the naturality squares we have to check.}

		To finish, we note that $H_i(A)$ is the kernel of the map
		\[\del_i:\coker\del_{i+1}\to A_{i-1}.\]
		Thus, $\Phi H_i(A)$ is the kernel of the map
		\[\Phi\del_i:\Phi\coker\del_{i+1}\to\Phi A_{i-1},\]
		but because we know $\Phi\coker\del_{i+1}=\coker\Phi\del_{i+1}$, we see that this kernel is also $H_i(\Phi A)$.
	\end{proof}
	\begin{lem}
		Fix an exact complex of $R$-modules $(A,\del)$. Then, given an exact functor $\Phi:\mathrm{Mod}_R\to\mathrm{Mod}_S$, the complex
		\[\cdots\to \Phi A_2\to \Phi A_1\to \Phi A_0\to\cdots\]
		is an exact complex of $S$-modules.
	\end{lem}
	\begin{proof}
		That we have a complex of $S$-modueles is because $\Phi$ is a functor $\mathrm{Mod}_R\to\mathrm{Mod}_S$. Then we simply note that the above lemma tells us that
		\[H_i(\Phi A)=\Phi H_i(A)=\Phi0=0,\]
		where the last equality is by \autoref{lem:addpreservezero}. Thus, $\Phi A$ is exact everywhere, finishing.
	\end{proof}
	Thus, \autoref{eq:freeresfortensor} shows that
	\[\cdots\to S\otimes_RF_2\stackrel{S\otimes\del_2}\to S\otimes_RF_1\stackrel{S\otimes\del_1}\to S\otimes_RF_0\stackrel{S\otimes\varepsilon}\to S\otimes_RM\to0\]
	is a(n augmented) resolution for $S\otimes_RM$. In fact, because $S\otimes_RR^{\oplus X}\cong(S\otimes_R)^{\oplus X}\cong S^{\oplus X}$ is a free $S$-module for any free $R$-module $R^{\oplus X}$, we conclude that we in fact have a free resolution for $S\otimes_RM$.

	For our homology computation, we will also want to create the module $S\otimes_R\op{Tor}_i^R(M,N)$ as a homology module. Well, $S\otimes_R-$ is an exact functor, so we note that
	\[S\otimes_RH_i(F_\bullet\otimes_RN)\cong H_i(S\otimes_R(F_\bullet\otimes_RN)).\]
	However, by \autoref{prop:tensordistrib}, we see that $S\otimes_R(F_\bullet\otimes_RN)\cong(S\otimes_RF_\bullet)\otimes_S(S\otimes_RN)$, and in fact this isomorphism is functorial (which we can track through via \autoref{rem:associatefunctorial}), so it follows
	\[H_i(S\otimes_R(F_\bullet\otimes_RN))\cong H_i((S\otimes_RF_\bullet)\otimes_S(S\otimes_RN)).\]
	So to finish, we note that this last homology comes from the complex that we get after applying $-\otimes_S(S\otimes_RN)$ to the projective resolution for $S\otimes_RM$. In particular, it is $\op{Tor}_i^S(S\otimes_RM,S\otimes_RN)$, so we are done.
\end{proof}
We close with an example computation for $\op{Tor}$.
\begin{exe}
	Fix $a\in R$ an element which is not a zero-divisor. Further, fix $M$ an $R$-module. Then we compute $\op{Tor}_i^R(R/(a),M)$ as
	\[\op{Tor}_i^R(R/(a),M)\cong\begin{cases}
		M/aM & i=0, \\
		\{m\in M:am=0\} & i=1, \\
		0 & i\ge2.
	\end{cases}\]
\end{exe}
\begin{proof}
	The main point is to construct a projective resolution for $R/(a)$. Namely, we claim that the sequence
	\[\cdots\to 0\to 0\to R\stackrel a\to R\to R/(a)\to 0\]
	is exact and therefore provides an augmented resolution for $R/(a)$. We have the following checks.
	\begin{itemize}
		\item We are exact at all $0$s for free.
		\item Exactness at the first $R$ follows because the map $R\stackrel a\to R$ is injective. This is because $a$ is not a zero-divisor: if $x\in R$ is in the kernel, then $ax=0$, so $x=0$. Thus, the kernel is indeed trivial.
		\item Exactness at the second $R$ is because $x\in R$ goes to $0$ under $R\onto R/(a)$ if and only if $x\in(a)$ if and only if there exists $y\in R$ such that $x=ay$.
		\item Lastly, we are exact at $R/(a)$ because the map $R\onto R/(a)$ is surjective.
	\end{itemize}
	Now, tensoring our projective resolution $M$, we get the complex
	\[\cdots\to 0\to 0\to R\otimes_RM\stackrel a\to R\otimes_RM\to 0.\]
	Tracking the isomorphism $R\otimes_RM\cong M$ through, we see that $R\otimes_RM\stackrel a\to R\otimes_RM$ becomes $m\mapsto1\otimes m\mapsto a\otimes m\mapsto am$, which is $M\stackrel a\to M$. So our complex is
	\[\cdots\to 0\to 0\to M\stackrel a\to M\to 0.\]
	We now run our homology computation. For $i>2$, we see that we have $\op{Tor}_i^R(M,N)=0$ immediately. It remains to compute $i=0$ and $i=1$.
	\begin{itemize}
		\item We see $\op{Tor}_0^R(R/(a),M)$ is the kernel of $M\to0$ (which is all of $M$) modded out by the image of $M\stackrel a\to M$ (which is $aM$). So we have $M/aM$ here.
		\item We see $\op{Tor}_1^R(R/(a),M)$ is the kernel of $M\stackrel a\to M$ modded out by the image of $0\to M$ (which is $0$). So we have $\{m\in M:am=0\}$ in this case.
	\end{itemize}
	The above computation finishes.
\end{proof}
\begin{remark}[Nir]
	The fact that $\op{Tor}_1^R(R/(a),M)=\{m\in M:am=0\}$ is the $a$-torsion of $M$ explains the name $\op{Tor}$: we are detecting torsion.
\end{remark}

\subsection{Flatness via \texorpdfstring{$\op{Tor}$}{Tor}}
Here is our main result for today.
\begin{theorem} \label{thm:flatisacyclic}
	Fix an $R$-module $M$. The following are equivalent.
	\begin{listalph}
		\item $M$ is flat.
		\item $\op{Tor}_1^R(N,M)=0$ for any $R$-module $N$.
		\item $\op{Tor}_i^R(N,M)=0$ for any $R$-module $N$ and index $i>0$.
	\end{listalph}
\end{theorem}
\begin{proof}
	We show our implications one at a time; we start by showing that (a) and (b) are equivalent.
	\begin{itemize}
		\item We show that (a) implies (b). Fix any $R$-module $N$. Then \autoref{lem:getenoughprojectives} gives us some free module $F$ with a projection $\pi:F\onto N$, and we build the short exact sequence
		\[0\to K\stackrel\iota\to F\stackrel\pi\to N\to 0\]
		where $K:=\ker\pi$. Applying \autoref{thm:torles}, we get the exact sequence
		\[\op{Tor}_1^R(F,M)\to\op{Tor}_1^R(N,M)\to\op{Tor}_0^R(K,M)\to\op{Tor}_0^R(F,M).\]
		However, $\op{Tor}_1^R(F,M)=0$ by \autoref{lem:torprojective}, so upon plugging into \autoref{rem:lzerofunctorial}, we can set up the following diagram.
		% https://q.uiver.app/?q=WzAsOCxbMCwwLCIwIl0sWzEsMCwiXFxvcHtUb3J9XzFeUihOLE0pIl0sWzIsMCwiXFxvcHtUb3J9XzBeUihLLE0pIl0sWzMsMCwiXFxvcHtUb3J9XzBeUihGLE0pIl0sWzAsMSwiMCJdLFsxLDEsIlxca2VyKFxcaW90YVxcb3RpbWVzIE0pIl0sWzIsMSwiS1xcb3RpbWVzX1JNIl0sWzMsMSwiRlxcb3RpbWVzX1JNIl0sWzYsNywiXFxpb3RhXFxvdGltZXNfUk0iLDJdLFsyLDNdLFsyLDYsIiIsMSx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzMsNywiIiwxLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMCwxXSxbMSwyXSxbNCw1XSxbNSw2XSxbMSw1LCIiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
		\[\begin{tikzcd}
			0 & {\op{Tor}_1^R(N,M)} & {\op{Tor}_0^R(K,M)} & {\op{Tor}_0^R(F,M)} \\
			0 & {\ker(\iota\otimes M)} & {K\otimes_RM} & {F\otimes_RM}
			\arrow["{\iota\otimes M}"', from=2-3, to=2-4]
			\arrow[from=1-3, to=1-4]
			\arrow[Rightarrow, no head, from=1-3, to=2-3]
			\arrow[Rightarrow, no head, from=1-4, to=2-4]
			\arrow[from=1-1, to=1-2]
			\arrow[from=1-2, to=1-3]
			\arrow[from=2-1, to=2-2]
			\arrow[from=2-2, to=2-3]
			\arrow[dashed, from=1-2, to=2-2]
		\end{tikzcd}\]
		Here, the top row is exact by our discussion of the $\op{Tor}$ exact sequence, and the bottom row is exact by how kernels work. The right square commutes by \autoref{rem:lzerofunctorial}, so we have an induced isomorphism $\op{Tor}_1^R(N,M)\cong\ker(\iota\otimes M)$. So to finish, we note that $M$ is flat, so $\iota\otimes M$ is injective, so $\op{Tor}_1^R(N,M)\cong\ker(\iota\otimes M)=0$.
		\item We show that (b) implies (a). Suppose that we have a short exact sequence
		\[0\to N'\stackrel\iota\to N\stackrel\pi\to N''\to 0.\]
		Using \autoref{thm:torles}, this gives an exact sequence
		\[\op{Tor}_1^R(N'',M)\to\op{Tor}_0^R(N',M)\to\op{Tor}_0^R(N,M)\to\op{Tor}(N'',M)\to 0.\]
		But by hypothesis, $\op{Tor}_1^R(N'',M)=0$, so plugging into \autoref{rem:lzerofunctorial} gives us the short exact sequence
		\[0\to N'\otimes_RM\stackrel{\iota\otimes M}\to N\otimes_RM\stackrel{\pi\otimes M}\to N''\otimes_RM\to0,\]
		which is what we wanted.
	\end{itemize}
	Lastly, we deal with (c).
	\begin{itemize}
		\item Note that (c) implies (b) by setting $i=1$.
		\item We show that (a) implies (c). For this, we build a projective resolution for $N$ as
		\[\cdots\to P_2\to P_1\to P_0\to 0.\]
		Because $M$ is flat, we know that $-\otimes_RM$ is an exact functor, so \autoref{lem:preservehomology} promises us that
		\[\cdots\to P_2\otimes_RM\to P_1\otimes_RM\to P_0\otimes_RM\to 0\]
		will have the same homology modules. That is, we see that
		\[\op{Tor}_i^R(N,M)=H_i(P\otimes_RM)=H_i(P)\otimes_RM,\]
		so in particular $i>0$ will have $H_i(P)\otimes_MR=0\otimes_RM=0$. This finishes.
	\end{itemize}
	The above implications finish the proof.
\end{proof}
We can even go in the other direction of having vanishing $\op{Tor}$.
\begin{theorem}
	Fix an $R$-module $M$. The following are equivalent.
	\begin{listalph}
		\item $M$ is flat.
		\item $\op{Tor}_1^R(M,N)=0$ for any $R$-module $N$.
		\item $\op{Tor}_i^R(M,N)=0$ for any $R$-module $N$ and index $i>0$.
	\end{listalph}
\end{theorem}
\begin{proof}
	By \autoref{thm:flatisacyclic}, we see that (a) is equivalent to $\op{Tor}_1^R(N,M)=0$ for any $R$-module $N$, but by \autoref{lem:tor1commute}, $\op{Tor}_1^R(M,N)\cong\op{Tor}_1^R(N,M)$ for any $R$-module $N$, so (a) is in fact equivalent to (b).

	It remains to deal with (c). Of course, (c) implies (b) by setting $i=1$, so the hard part is in getting a reverse implication to (c). We claim that (a) implies (c). For this, we have the following lemma.
	\begin{lemma} \label{lem:flatses}
		Fix a short exact sequence
		\[0\to K\to F\to M\to 0\]
		of $R$-modules such that both $F$ and $M$ are flat. Then $K$ is also flat.
	\end{lemma}
	\begin{proof}
		Label our short exact sequence as
		\[0\to K\stackrel\iota\to F\stackrel\pi\to M\to 0.\]
		By \autoref{rem:easierflat}, it suffices to pick up an embedding $\varphi:A\into B$ and show that $\varphi\otimes K:A\otimes_RK\to B\otimes_RK$ is also injective. For this, we draw the following diagram.
		% https://q.uiver.app/?q=WzAsNCxbMCwwLCJBXFxvdGltZXNfUksiXSxbMCwxLCJCXFxvdGltZXNfUksiXSxbMSwwLCJBXFxvdGltZXNfUkYiXSxbMSwxLCJCXFxvdGltZXNfUkYiXSxbMCwxLCJcXHZhcnBoaVxcb3RpbWVzIEsiLDFdLFsyLDMsIlxcdmFycGhpXFxvdGltZXMgRiIsMV0sWzAsMiwiQVxcb3RpbWVzXFxpb3RhIl0sWzEsMywiQlxcb3RpbWVzXFxpb3RhIiwyXV0=
		\[\begin{tikzcd}
			{A\otimes_RK} & {A\otimes_RF} \\
			{B\otimes_RK} & {B\otimes_RF}
			\arrow["{\varphi\otimes K}"{description}, from=1-1, to=2-1]
			\arrow["{\varphi\otimes F}"{description}, from=1-2, to=2-2]
			\arrow["A\otimes\iota", from=1-1, to=1-2]
			\arrow["B\otimes\iota"', from=2-1, to=2-2]
		\end{tikzcd}\]
		Quickly, the diagram commutes: along the top we take $a\otimes k$ to $a\otimes\iota k$ to $\varphi a\otimes\iota k$; along the bottom we take $a\otimes k$ to $\varphi a\otimes k$ to $\varphi a\otimes\iota k$, which is the same.

		We need to show that the left arrow is injective; we will show this by showing that all the other arrows are injective.
		\begin{itemize}
			\item Note that $\varphi\otimes F$ is injective because $F$ is flat.
			\item For the horizontal arrows, we let $X\in\{A,B\}$ and note that \autoref{thm:torles} gives us an exact sequence
			\[\op{Tor}_1^R(M,X)\to\op{Tor}_0^R(K,X)\to\op{Tor}_0^R(F,X).\]
			We already know that $M$ being flat forces $\op{Tor}_1^R(M,X)=0$, so the map $\op{Tor}_0^R(K,X)\to\op{Tor}_0^R(F,X)$ is injective. Further, by \autoref{rem:lzerofunctorial}, we see that this map is exactly $X\otimes\iota:X\otimes_RK\to X\otimes_RF$ (after noting that $\otimes$ commutes), which is now also injective.
		\end{itemize}
		Thus, we see that all the arrows in our diagram are injective except for $\varphi\otimes K$. To conclude that $\varphi\otimes K$ is injective, we note that any element of its kernel will also live in the kernel of the diagonal map
		\[(B\otimes\iota)(\varphi\otimes K)=\varphi\otimes\iota=(\varphi\otimes K)(A\otimes\iota),\]
		but the right-hand map is the composite of injective maps and is therefore injective. Thus, the kernel of $\varphi\otimes K$ is trivial.
	\end{proof}
	We will now show that (a) implies (c) by dimension-shifting. In particular, we claim that all free modules $M$ have $\op{Tor}_i^R(M,N)=0$ for any $R$-module $N$ and index $i\ge1$ by induction on $i$; for $i=1$, this is the implication of (a) implies (b).
	
	For the inductive step, we fix $i>1$ and note that \autoref{lem:getenoughprojectives} gives us a free module $F$ with a projection $\pi:F\onto M$. Setting $K:=\ker\pi$, we have a short exact sequence
	\[0\to K\to F\stackrel\pi\to M\to 0.\]
	Now, $M$ is flat by hypothesis, and $F$ is flat because it is free (e.g., \autoref{ex:freeisflat}), so $K$ is flat by \autoref{lem:flatses}. In particular, the inductive hypothesis tells us that $\op{Tor}_{i-1}^R(K,N)=0$, so we use \autoref{thm:torles} to get an exact sequence
	\[\op{Tor}_i^R(F,N)\to\op{Tor}_i^R(M,N)\to\op{Tor}_{i-1}^R(K,N).\]
	We just remarked that $\op{Tor}_{i-1}^R(K,N)=0$, and $\op{Tor}_i^R(F,N)=0$ because $F$ is free, using \autoref{lem:torprojective}. Thus, exactness forces $\op{Tor}_i^R(M,N)=0$. This finishes.
\end{proof}
Here is an example of testing $\op{Tor}_1$.
\begin{lemma} \label{lem:quickflatcomputation}
	Fix a ring $R$ a ring, an ideal $I\subseteq R$, and an $R$-module $M$. We show that $\op{Tor}_1^R(R/I,M)$ vanishes if and only if the (natural) map $I\otimes_RM\to M$ is injective.
\end{lemma}
\begin{proof}
	The point is to begin with the short exact sequence
	\[0\to I\stackrel\iota\to R\to R/I\to 0.\]
	Writing the long exact sequence for $\op{Tor}^R_\bullet(M,-)$ (via \autoref{thm:torles}), we get
	\[\underbrace{\op{Tor}_1^R(R,M)}_0\to\op{Tor}_1^R(R/I,M)\to\underbrace{\op{Tor}_0^R(I,M)}_{I\otimes_RM}\to\underbrace{\op{Tor}_0^R(R,M)}_{R\otimes_RM}.\]
	By \autoref{lem:torprojective}, we see that $\op{Tor}_1^R(R,M)=0$. Then using \autoref{rem:lzerofunctorial}, we can build the following diagram.
	% https://q.uiver.app/?q=WzAsOCxbMCwwLCIwIl0sWzEsMCwiXFxvcHtUb3J9XzFeUihSL0ksTSkiXSxbMiwwLCJcXG9we1Rvcn1fMF5SKEksTSkiXSxbMywwLCJcXG9we1Rvcn1fMF5SKFIsTSkiXSxbMCwxLCIwIl0sWzIsMSwiSVxcb3RpbWVzX1JNIl0sWzMsMSwiUlxcb3RpbWVzX1JNIl0sWzEsMSwiXFxrZXIoXFxpb3RhXFxvdGltZXMgTSkiXSxbMiw1LCIiLDAseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFszLDYsIiIsMCx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzUsNiwiXFxpb3RhXFxvdGltZXMgTSIsMl0sWzIsM10sWzEsMl0sWzAsMV0sWzQsN10sWzcsNV0sWzEsNywiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2FdFoiler%2Fnotes%2Fmaster%2Fnir.tex
	\[\begin{tikzcd}
		0 & {\op{Tor}_1^R(R/I,M)} & {\op{Tor}_0^R(I,M)} & {\op{Tor}_0^R(R,M)} \\
		0 & {\ker(\iota\otimes M)} & {I\otimes_RM} & {R\otimes_RM}
		\arrow[Rightarrow, no head, from=1-3, to=2-3]
		\arrow[Rightarrow, no head, from=1-4, to=2-4]
		\arrow["{\iota\otimes M}"', from=2-3, to=2-4]
		\arrow[from=1-3, to=1-4]
		\arrow[from=1-2, to=1-3]
		\arrow[from=1-1, to=1-2]
		\arrow[from=2-1, to=2-2]
		\arrow[from=2-2, to=2-3]
		\arrow[dashed, from=1-2, to=2-2]
	\end{tikzcd}\]
	We know that the right square commutes by \autoref{rem:lzerofunctorial}, and the rows are exact as discussed. It follows that we have an induced isomorphism $\op{Tor}_1^R(R/I,M)\cong\ker(\iota\otimes M)$. Further, because $R\otimes_RM\cong M$, we can append this isomorphism (which is notably injective) to $\iota\otimes M$ without changing the kernel, so in fact $\op{Tor}_1^R(R/I,M)$ is isomorphic to the kernel of the natural map
	\[I\otimes_RM\to M.\]
	Thus, $\op{Tor}_1^R(R/I,M)=0$ if and only if the map $I\otimes_RM\to M$ is injective.
\end{proof}
To use this, we have the following result.
\begin{restatable}{theorem}{flatcondition} \label{thm:flatcondition}
	An $R$-module $M$ is flat if and only if $\op{Tor}_1^R(R/I,M)=0$ for all finitely generated ideals $I\subseteq R$. Equivalently, $\op{Tor}_1^R(R/I,M)=0$ if and only if the natural map $I\otimes_RM\to M$ is injective.
\end{restatable}
\begin{proof}
	We will prove this next class.
	% In one step, we note that checking finitely generated ideals $I$ gives all ideals $I$ because we are really checking that the map
	% \[I\otimes M\to M\]
	% has trivial kernel. Well, if we find some $\sum x\otimes m$ which goes to $0$, then this really only needs finitely many generators to be witnessed because the tensor product permits only finitely many sums.
	% So now we know that $\op{Tor}_1^R(R/I,M)=0$ for all ideals $I$. It remains to show that $\op{Tor}_1^R(M,N)=0$. Well, to show that $M$ is flat, we need to show that embeddings $N'\into N$ induce embeddings $M\otimes_RN'\to M\otimes_RN$. But if not, there is an element of the kernel, which allows us to reduce $N'$ to a cyclic module and $N$ to a finitely generated module. Then we can build a cyclic filtration
	% \[N'\subseteq N_1\subseteq\cdots\subseteq N_k=N\]
	% and build $\op{Tor}_1^R(M,N_\bullet)$ manually.
\end{proof}