% !TEX root = ../notes.tex

We continue following the Eisenbud machine.

\subsection{Affine Space}
To begin our discussion, we start with some geometry.
\begin{definition}[Affine space]
	Given a field $k$ and positive integer $n$, we define $n$-dimensional \textit{affine space} over $k$ to be $\AA^d(k):=k^n.$
\end{definition}
Now, given affine space $\AA^n(k)$, we are interested in studying subsets which are solutions to some set of polynomial equations
\[f_1,\ldots,f_n\in k[x_1,\ldots,x_d].\]
This gives rise to the following definition.
\begin{definition}[Algebraic]
	A subset $X\subseteq\AA^n(k)$ is (affine) \textit{algebraic} if and only if it is the set of solutions to some system of polynomials equations $f_1,\ldots,f_n\in k[x_1,\ldots,x_d]$.
\end{definition}
\begin{example}
	The hyperbola
	\[\left\{(x,y)\in\RR^2:x^2-y^2-1=0\right\}\]
	is an algebraic set. Geometrically, it looks like the following.
	\begin{center}
		\begin{asy}
			import graph;
			unitsize(0.7cm);
			draw((-3.5,0)--(3.5,0)); draw((0,-3.5)--(0,3.5));
			pair L(real y)
			{
				return (-sqrt(1+y*y), y);
			}
			pair R(real y)
			{
				return (+sqrt(1+y*y), y);
			}
			draw(graph(L, -2.8, 2.8), arrow=Arrows());
			draw(graph(R, -2.8, 2.8), arrow=Arrows());
		\end{asy}
	\end{center}
\end{example}
\begin{example} \label{ex:notalgclosed}
	The set $\emp\subseteq\AA^1(\RR)$ is algebraic becasue it is the set of solutions to the equation $x^2+1=0$ in $\RR$.
\end{example}
The above example is a little disheartening because it feels like $x^2+1$ really ought to have a solution, namely $i\in\CC$. More explicitly, there are no obvious algebraic obstructions that make $x^2+1$ not have a solution. So with this in mind, we make the following convention.
\begin{convention}
	In the following discussion on the Nullstellensatz, $k$ will always be an algebraically closed field.
\end{convention}

\subsection{Nullstellensatz}
The Nullstellensatz is very important.
\begin{remark}
	Because the Nullstellensatz is important, its name is in German (which was the language of Hilbert).
\end{remark}

Now, the story so far is that we can take a set of polynomials and make algebraic sets as their solution set. We can in fact go in the opposite direction.
\begin{definition}[\texorpdfstring{$I(X)$}{I(X)}]
	If $X\subseteq\AA^n(k)$ is an (affine) algebraic set, we define
	\[I(X):=\{f\in k[x_1,\ldots,x_n]:f(X)=0\}.\]
\end{definition}
It is not hard to check that $I(X)\subseteq k[x_1,\ldots,x_n]$ is in fact an ideal. Namely, if $f,g\in I(X)$ and $r,s\in k[x_1,\ldots,x_n]$, then we need to know $rf+sg\in I(X)$ as well. Well, for any $x\in X$, we see
\[(rf+sg)(x)=rf(x)+sg(x)=0,\]
so $rf+sg\in I(X)$ indeed.

One might hope that all ideals would be able to take the form $I(X)$, but this is not the case. For example, if $f^m(X)=0$, then $f(X)=0$ because $k$ is a field. Thus, $I$ will satisfy the property that $f^m\in I$ implies $f\in I$. To keep track of this obstruction, we have the following definition.
\begin{definition}[Radical]
	Fix $R$ a ring. Given an $R$-ideal $I$, we define the \textit{radical of $I$} to be
	\[\op{rad}I:=\left\{x\in R:x^n\in I\text{ for some }n\ge1\right\}\supseteq I.\]
	If $I=\op{rad}I$, then we call $I$ a \textit{radical ideal}.
\end{definition}
To make sense, this definition requires a few sanity checks.
\begin{itemize}
	\item We check $\rad I$ is in fact an ideal. Well, given $f,g\in\rad I$, there exists positive integers $m$ and $n$ such that $f^m,g^n\in I$. Then, for any $r,s\in R$, we see
	\[(rf+sg)^{m+n}=\sum_{k=0}^{m+n}\left[\binom{m+n}kr^ks^{m+n-k}\cdot f^kg^{m+n-k}\right].\]
	However, for any $k$, we see that either $k\ge m$ or $m+n-k\ge n$, so all terms of this sum contain an $f^m$ or $g^n$ factor, so the sum is in $I$. So indeed, $rf+sg\in\rad I$.
	\item We check that $\rad I$ is a radical ideal. Well, if $f^n\in\rad I$ for some positive integer $n$, then $f^{mn}=\left(f^n\right)^m\in I$ for some positive integer $m$, from which $f\in\rad I$ follows.
\end{itemize}
It is not too hard to generate examples where the radical is strictly larger than the original ideal.
\begin{example}
	Fix $R:=\ZZ[\sqrt2]$ and $I=(2)=2\ZZ[\sqrt2]=\{2a+2b\sqrt2:a,b\in\ZZ\}$. Then $\left(\sqrt2\right)^2=2\in I$ while $\sqrt2\notin I$, so $I\subsetneq\rad I$.
\end{example}
Here is an alternative characterization of being radical.
\begin{lemma}
	Fix $R$ a ring. Then an ideal $I\subseteq R$ is radical if and only if $R/I$ is reduced.
\end{lemma}
\begin{proof}
	This proof is akin to the one showing $I\subseteq R$ is prime if and only if $R/I$ is an integral domain.

	Anyways, $I$ is radical if and only if $x^n\in I$ for $x\in R$ and $n\ge1$ implies $x\in I$. Translating this condition into $R/I$, we are saying that $[x]_I^n\in[0]_I$ for $[x]_I\in R/I$ and $n\ge1$ implies that $[x]_I=[0]_I$. This is exactly the condition for $R/I$ to be radical.
\end{proof}
With all of the machinery we have in place, we can now state the idea of Hilbert's Nullstellensatz.
\begin{theorem}[Nullstellensatz, I]
	Fix $k$ an algebraically closed field. Then there is a bijection between radical ideals of $k[x_1,\ldots,x_n]$ and (affine) algebraic sets $\AA^n(k)$.
\end{theorem}
So far we have defined a map from algebraic sets to radical ideals by $X\mapsto I(X)$. The reverse map is as follows.
\begin{definition}[\texorpdfstring{$Z(I)$}{Z(I)}]
	Given a subset $S\subseteq k[x_1,\ldots,x_n]$, we define the \textbf{zero set} of $S$ by
	\[Z(S):=\{x\in\AA^n(k):f(x)=0\text{ for all }f\in I\}.\]
\end{definition}
Note that replacing $S$ with the ideal it generates $(S)$ makes no difference to $Z(S)$ (i.e., linear combinations of the constraints do not make the problem harder), so we will may focus on the case where $S$ is an ideal.

With these maps in hand, we can restate the Nullstellensatz.
\begin{theorem}[Nullstellensatz, II]
	Fix $k$ an algebraically closed field. Then for ideals $I\subseteq k[x_1,\ldots,x_n]$, we have
	\[I(Z(I))=\op{rad}I.\]
	In particular, if $I$ is radical, then $I(Z(I))=I$.
\end{theorem}
\begin{remark}
	Yes, it is important that $k$ is algebraically closed here. Essentially this comes from \autoref{ex:notalgclosed}: the ideal $\left(x^2+1\right)$ is not of the form $Z(X)$ for any subset $X\subseteq\AA^1(\RR)$ because $x^2+1$ has no roots and would need $X=\emp$, but $Z(\emp)=\RR[x]$.
\end{remark}
\begin{example}
	We have that $I(Z(R))=R$ because $Z(R)=\emp$ (no points satisfy $1=0$) and $I(\emp)=R$ (all functions vanish on $\emp$).
\end{example}

\subsection{More on Affine Space}
Let's talk about $\AA^n(k)$ a bit more. We mentioned that this should be a geometric object, so let's give it a topology.
\begin{definition}[Zariski topology, I]
	Given affine space $\AA^n(k)$, we define the \textit{Zariski topology} as having closed sets which are the algebraic sets.
\end{definition}
\begin{remark}[Nir]
	Here is one reason why we might do this: without immediate access to better functions (the field $k$ might have no easy geometry, like $k=\FF_p(t)$) it makes sense to at least require polynomial functions to be continuous and $k$ to be Hausdorff. In particular, given a polynomial $f$, we see that
	\[Z(f)=f^{-1}(\{0\})\]
	should be closed. In fact, for any subset $S\subseteq k[x_1,\ldots,x_n]$ of polynomials
	\[Z(S)=\bigcap_{f\in S}Z(f)\]
	will also have to be closed. In particular, all algebraic sets are closed. One can then check that polynomials do remain continuous in this topology also, as promised.
\end{remark}
We have the following checks to make sure that the algebraic sets do actually form a topology (of closed sets).
\begin{itemize}
	\item The empty set is closed: $\emp$ is the set of solutions to the equation $1=0$.
	\item The full space is closed: $\AA^n(k)$ is the set of solutions to the equation $0=0$.
	\item Arbitrary intersection of closed sets is closed: given algebraic sets $X(S)$ for given subsets $S\subseteq\mathcal S$ of $k[x_1,\ldots,x_n]$, we note
	\[\bigcap_{S\in\mathcal S}X(S)=X\left(\bigcup_{S\in\mathcal S}I\right),\]
	so the union is in fact an algebraic set.
	\item Finite unions of closed sets are closed: given algebraic sets $X(S_1),\ldots,X(S_n)$, we note
	\[\bigcup_{i=1}^nX(SI_i)=X\left(\prod_{i=1}^n(S_i)\right),\]
	where $(S_i)$ is the ideal generated by $S_i$. In particular, $\prod_i(S_i)$ is generated by elements $s_1\cdot\ldots\cdot s_n$ such that $s_i\in S_i$ for each $i$, so any point in any of the $X(S_i)$ will show up in the given algebraic set.
\end{itemize}
We can also understand algebraic sets $X\subseteq\AA^n(k)$ by their ring of functions. Again, the only functions we have easy access to are polynomials, so we take the following definition.
\begin{definition}[Coordinate ring]
	Given an algebraic set $X\subseteq\AA^n(k)$, we define the \textit{coordinate ring} on $X$ as
	\[A(X):=k[x_1,\ldots,x_n]/I(X).\]
	In other words, we are looking at polynomials on $\AA^n(k)$ and identifying them whenever they are equal on $X$.
\end{definition}
Note that, because $I(X)$ is a radical ideal, the ring $A(X)$ will be reduced.

\subsection{Corollaries of the Nullstellensatz}
Let's return to talking about talking about the Nullstellensatz. To convince us that the Nullstellensatz is important, here are some nice corollaries.

\subsubsection{Criteria for Polynomial System Solutions}
The following is the feature of this subsubsection.
\begin{corollary}
	A system of polynomial equations
	\[\begin{cases}
		f_1(x_1,\ldots,x_n) = 0, \\
		\qquad\quad~\vdots \\
		f_r(x_1,\ldots,x_n) = 0,
	\end{cases}\]
	has no solutions if and only if there exists $p_1,\ldots,p_r\in k[x_1,\ldots,x_n]$ such that
	\[\sum_{i=1}^rp_if_i=1.\]
\end{corollary}
\begin{proof}
	In the reverse direction, we proceed by contraposition: if there is a solution $x\in\AA^n(k)$ such that $f_i(x)=0$ for each $f_i$, then any set of polynomials $p_1,\ldots,p_n\in k[x_1,\ldots,x_n]$ will give
	\[\sum_{i=1}^rp_i(x)f_i(x)=0\ne1,\]
	so it follows $\sum_{o=1}^np_if_i\ne1$. Observe that we did not use the Nullstellensatz here.

	The forwards direction is harder. The main point is that we are given $Z((f_1,\ldots,f_r))=\emp$, so
	\[\rad(f_1,\ldots,f_r)=I(Z((f_1,\ldots,f_n)))=I(\emp)=R,\]
	so $1\in\rad(f_1,\ldots,f_r)$. Then it follows $1=1^n\in(f_1,\ldots,f_r)$ for some positive integer $n$, so there exists $p_1,\ldots,p_r\in k[x_1,\ldots,x_n]$ such that
	\[\sum_{i=1}^rp_if_i=1.\]
	This is what we wanted.
\end{proof}

\subsubsection{Classification of Maximal Ideals}
To set up the next corollary, we note that any point $(a_1,\ldots,a_n)\in\AA^n$ makes a closed set corresponding to the ideal
\[I(a):=(x_1-a_1,\ldots,x_n-a_n).\]
In fact,\todo{record this proof from Nullstellensatz} points turn out to be in bijection with maximal ideals in $\AA^n(k)$, and the same will be true for any algebraic set $X$ by looking at the ring $A(X)$, which is a quoteint of $A(\AA^n(k))$. This is nice because instead of having to look at the geometry of $X$, we can instead focus on the algebra of $A(X)$.

\subsection{The Spectrum of a Ring}
For our last corollary, we consider maps $\varphi:X\to Y$. Well, in affine space, we only have access to polynomial functions, so our only morphisms will be some (direct) product of polynomials. But then we observe that precomposition gives a function
\[\varphi:A(X)\rightarrow A(Y).\]
We would like to view this more geometrically, so we might want to pull back the ``point'' $\mf m\subseteq A(X)$ to $A(Y)$ by pre-imaging along $\varphi$. However, there is a problem here: $\varphi^{-1}(\mf m)$ might not be maximal.

A key observation, then, is that prime ideals are preserved by pre-imaging. So we have the following definition.
\begin{definition}[Spectrum of a ring]
	Given a ring $R$, we define \textit{spectrum of $R$} by
	\[\op{spec}R:=\{\mf p\subseteq R:\mf p\text{ is a prime ideal}\}.\]
\end{definition}
In fact, $\op{spec}R$ also has a Zariski topology as follows.
\begin{definition}[Zariski topology, II]
	Given a ring $R$, we define the \textit{Zariski topology} to have closed sets
	\[X(I):=\{\mf p\in\op{spec}R:I\subseteq\mf p\}\]
	for $R$-ideals $I$.
\end{definition}
This topology has some bad properties.
\begin{itemize}
	\item The Zariski topology is usally not Hausdorff. Namely, it tends to be cofinite.
	\item $\AA^n(k)$ is compact under its Zariski topology.\todo{I missed this proof in class}

	The main point is an open cover looks something like
	\[\sum_{\alpha\in\lambda}I_\alpha=R,\]
	for ideals $I_\alpha$. But by tracking where $1$ lives, we may take a finite subcover here.
	\item Similarly, the ring $R$ is compact under its Zariski topology:
\end{itemize}

\subsection{Projective Space}
To define projective varities, we need to define projective space first.
\begin{definition}[Projective space]
	Fix $k$ a field and $n$ a positive integer. Then we define $n$-dimensional \textit{projective space} $\PP^n(k)$ to be the one-dimensional subspaces of $k^{n+1}$.
\end{definition}
Concretely, we will think about lines in homogeneous coordinates, in the form
\[(a_0:a_1:\ldots:a_n)\in\PP^n(k),\]
where multiplication by a constant $c\in k^\times$ gives the same line and hence the same point. Additionally, we will ban the point $(0:0:\ldots:0)$ from projective space because it is not associated to any line.

Note that we have a sort of embedding $\AA^n(k)\into\PP^n(k)$ by
\[(x_1,x_2,\ldots,x_n)\mapsto(x_1:x_2:\ldots:x_n:1).\]
Geometrically, we can imagine the plane $z=1$ (which is isomorphic to $\AA^2(k)$) in $k^3$: any point on $z=1$ will define a unique line. However, this is not all of the points, for there are still lots of points of the form $(x:y:0)$, which are ``points at infinity.'' Nevertheless, we can collect the remaining points into $\PP^{n-1}$, so we see
\[\PP^n(k)``=''\AA^n(k)\sqcup\PP^{n-1}(k).\]
\begin{remark}
	The above decomposition is not canonical: one has to choose which points to get to be infinity.
\end{remark}

Anyways, we interested in studying the algebraic sets of projective space, but because of the constant factors allowed to wiggle, we see that we really should only be looking at homogeneous equations. So we have the following definition.
\begin{definition}[Projective variety]
	A subset $X\subseteq\PP^n(k)$ is a \textit{projective variety} if and only if it is the solution set to some set of homogeneous polynomials equations.
\end{definition}
\begin{example}
	If we wanted to study $xy-1=0$ in $\AA^2(k)$, to move this into projective space we want to look at the solution set to all of $xy-z^2=0$ in $\PP^2(k)$, and then we can look at the embedded affine space by the $z=1$ idea above.
\end{example}

\subsection{Graded Rings}
We have the following definition.
\begin{definition}[Graded ring]
	A ring $R$ is \textit{graded} by the abelian groups $R_0,R_1,\ldots$ if and only if
	\[R\cong\bigoplus_{d=0}^\infty R_d\]
	as abelian groups and $R_iR_j\subseteq R_{i+j}$ for any $i,j\in\NN$.
\end{definition}
\begin{remark}[Nir]
	In fact, $R_0$ turns out to be a subring of $R_0$. We can check this directly, as follows.
	\begin{itemize}
		\item Certainly $0\in R_0$ and $R_0+R_0\subseteq R_0$ because $R_0\subseteq R$ is an additive subgroup.
		\item If $1_R\in R_i$, then $R_i\subseteq R_iR_i\subseteq R_{2i}$, so $i=0$ or $R_i=R_{2i}=\{0\}$ by disjointness. So either $1\in R_0$ or $1\in R_0=\{0\}$ forces $R=\{0\}$, so $1\in R_0$ anyways.
		\item We see $R_0R_0\subseteq R_0$, so $R_0$ is closed under multiplication.
	\end{itemize}
	Alternatively, we could set $I:=\{0\}\oplus R_1\oplus R_2\cdots$, remark that $I$ is an ideal, and then we see $R_0\cong R/I$.
\end{remark}
\begin{example}
	The ring $R=k[x_1,\ldots,x_n]$ is ``graded by degree'' by setting $R_d$ to be the space of all homogeneous $n$-variable polynomials of degree $d$ (unioned with $\{0\}$).
\end{example}
With graded rings, it is natural to ask what other ring-theoretic constructions we can grade.
\begin{definition}[Graded ideal]
	Fix $R$ a graded ring. We say that an ideal $I$ is \textit{graded} if and only if
	\[I\cong\bigoplus_{d=0}^\infty(R_d\cap I),\]
	where the isomorphism is the natural one (i.e., $(x_0,x_1,\ldots)\mapsto x_0+x_1+\cdots$).
\end{definition}
\begin{example}
	Given the graded ring $R=R_0\oplus R_1\oplus R_2\oplus\cdots$, the ideal
	\[I:=R_1\oplus R_2\oplus R_3\oplus\cdots\]
	is called the \textit{irrelevant ideal}; it is graded because look at it. To check $I$ is an ideal, it is closed under addition by construction; it is closed under multiplication by $R$ because $R_iR_j\subseteq R_{i+j}$ for $i\ge1$ implies $i+j\ge1$.
\end{example}
\begin{remark}
	The above ideal is called irrelevant because, in the case where $R=k[x_0,\ldots,x_n]$,
	\[Z(I)=\left\{(a_0:\ldots:a_n)\in\PP^n(k):f(a_0,\ldots,a_n)\text{ for each homogeneous }f\in I\right\}=\emp.\]
	Indeed, any element of $Z(I)$ would have to satisfy $x_i=0$ for each $x_i$, which is illegal in projective space.
\end{remark}
The point of the definition of a graded ideal is that, when $I\subseteq R$ is a graded ideal,
\[\frac RI\cong\bigoplus_{d=0}^\infty\frac{R_d}{R_d\cap I}\]
will also be a graded ring, with the given grading. This isomorphism comes from combining the isomorphism $R\cong\bigoplus_dR_d$ and $I\cong\bigoplus_d(R_d\cap I)$.

Here is another ring-theoretic construction which we can grade.
\begin{definition}[Graded module]
	Fix $R=R_0\oplus R_1\oplus\cdots$ a graded ring. Then an $R$-module $M$ is \textit{graded} if and only if we can write
	\[M\cong\oplus_{d\in\ZZ}M_d\]
	such that $R_iM_j\subseteq M_{i+j}$ for any $i\in\NN$ and $j\in\ZZ$.
\end{definition}

As a quick application, here is one reason to care about graded rings: they play nice with the Noetherian condition.
\begin{proposition}
	A graded ring $R=R_0\oplus R_1\oplus\cdots$ is Noetherian if and only if $R_0$ is Noetherian and $R$ is a finitely generated $R_0$-algebra.
\end{proposition}
\begin{proof}
	The backwards direction is \autoref{prop:fgalgebraisnoetherian}. For the forwards direction, take $R=R_0\oplus R_1\oplus\cdots$ a Noetherian, graded ring. We note that quotienting $R$ by the irrelevant ideal reveals that $R_0$ is a quotient of $R$, so $R_0$ is a Noetherian ring.

	It remains to show that $R$ is a finitely generated $R_0$-algebra. The idea is to imitate the Hilbert's finiteness theorem. Before doing anything, we adopt the convention that, for an arbitrary element
	\[f=f_0+f_1+\cdots\in R,\]
	we let $\deg f$ equal the largest $d$ for which $f_d\ne0$.
	
	We now proceed with the proof. Because $R$ is Noetherian, the irrelevant ideal
	\[I:=R_1\oplus R_2\oplus\cdots\]
	is finitely generated over $R$, so fix $I:=(f_1,\ldots,f_N)$. We claim that
	\[R\stackrel?=R_0[f_1,\ldots,f_N].\]
	For $\supseteq$, there is nothing to say. For $\subseteq$, pick up some $f\in R$, and we show that $f\in R_0[f_1,\ldots,f_N]$. By decomposing $f$ into its grading $f=f_0+f_1+\cdots$, we may assume that $f$ lives in one of the $R_d$.

	So now we induct on $d$. For $d=0$, we have $f\in R_0\subseteq R_0[f_1,\ldots,f_N]$ and are done immediately. So take $d>0$. Then $f\in I=(f_1,\ldots,f_N)$, so we may write
	\[f=\sum_{i=1}^Ng_if_i\]
	for some $g_1,\ldots,g_N\in R$. By decomposing the $g_\bullet$ into their gradings, we see that we may assume that only the $\deg f-\deg f_i$ component is nonzero because all other components will cancel anyways.
	
	In particular, $g_i$ is homogeneous with degree $\deg f-\deg f_i$, so $g_i\in R_i$ with $i<d$. So by our induction, $g_i\in R_0[f_1,\ldots,f_N]$, and $f\in R_0[f_1,\ldots,f_N]$ by the decomposition of $f$ in $I$. This finishes the proof.
\end{proof}

\subsection{The Hilbert Function}
Continuing the above discussion, let $R=R_0\oplus R_1\oplus\cdots$ be a graded ring. 
As usual, the ring that we care the most about is $R=k[x_0,\ldots,x_n]$, graded by degree. In this case, take $M$ to be a a finitely-generated graded $R$-module, and it follows that
\[\dim_kM_d<\infty\]
for each $d\in\ZZ$. This is true because $R$ is Noetherian, so $M$ is Noetherin, so $\bigoplus_{d_0\ge d}M_{d_0}$ is a finitely generated, so $M_d$ is finitely generated over $k$.

This gives us the following definition.
\begin{definition}[Hilbert function]
	Fix everything as above. Then we define the \textit{Hilbert function} of $M$ as
	\[H_M(d):=\dim_kM_d.\]
\end{definition}
\begin{example}
	Take $M=R$. We can check that, for $d\ge0$,
	\[H_m(d)=\binom{d+n}{n}.\]
	To see this, we note that $M_d=R_d$ is generated by degree-$d$ monomials in $n$ letters, which are in one-to-one correspondence to their exponents. So we are counting nonnegative integer solutions to
	\[a_0+\cdots+a_n=0,\]
	which is a combinatorics problem.
\end{example}
The above example found that $H_m(d)$ is a polynomial in $d$ of degree $r$. This happens in general.
\begin{theorem}
	Let $M$ be a finitely generated graded module over the ring $R:=k[x_0,\ldots,x_n]$, where $R$ has been graded by degree. Then there exists a polynomial $P_M(d)$ of degree $n-1$ which matches $H_M(d)$ for sufficiently large $d$.
\end{theorem}
\begin{proof}
	The proof is by induction on $n$, where we will apply dimension-shifting of the grading for the inductive step. Our base case is $n=-1$, which makes $M$ into a $k$-vector space, which means $H_M(d)$.

	We will need to dimension-shift our grading in the proof that follows, so we have the following definition.
	\begin{definition}[Twist]
		Given a graded $R$-module $M$, we define the $d$th \textit{twist} $M(d)$ of $M$ to be the same module but with grading given by
		\[M(d)_i:=M_{d+i}.\]
	\end{definition}
	Note that $H_{M(d)}(s)=H_M(s+d)$ by this shifting.

	Now, for the inductive step, the main point is to kill the $x_n$ coordinate in creative ways. Namely, $M/x_nM$ will be finitely generated by $k[x_0,\ldots,x_{n-1}]$ (the letter $x_n$ does not help), so it is ripe for our induction, so we start with exact sequence
	\[M\to M/x_rM\to 0.\]
	Now, to take this backwards, we would like to prepend this by $M\stackrel{x_r}\to$, but this is not legal because this map will change the grading, so instead we have to write down
	\[M(-1)\stackrel{x_r}\to M\to M/x_rM\to 0.\]
	And to finish our short exact sequence, we let $K$ be the kernel of the multiplication by $x_r$---which is also finitely generated over $k[x_0,\ldots,x_{n-1}]$ because the $x_n$ letter does not help us---and we get to write
	\[0\to K(-1)\to M(-1)\stackrel{x_r}\to M\to M/x_rM\to 0.\]
	Taking the Hilbert function everywhere, size points on the short exact sequence imply that
	\[H_{K(-1)}(d)-H_{M(-1)}(d)+H_M(d)-H_{M/x_rM}(d)=0.\]
	We can rewrite this as
	\[H_M(d)-H_M(d-1)=H_{M/x_rM}(d)-H_K(d-1),\]
	so we see that the first finite difference of $H_M$ agrees with $H_{M/x_rM}(d)-H_K(d-1)$, and the latter agrees with a polynomial of degree at most $n-1$ for sufficiently large $d$ by inductive hypothesis. So theory of finite differences tells us that $H_M(d)$ will be a polynomial of degree at most $n$.
\end{proof}
\begin{remark}
	Geometrically, most of the time $M$ will end up being the coordinate ring of a projective variety, in which case the degree of the above Hilbert ``polynomial'' is the ``degree'' of the projective variety. So heuristically, most of the time the degree of the Hilbert polynomial will not achieve its maximum.
\end{remark}
Let's do some examples.
\begin{exe}
	Take $M:=k[x,y,z]/\left(x^2,y^2,z^2\right)$. We compute the Hilbert function for $M$.
\end{exe}
\begin{proof}
	We have the following.
	\begin{itemize}
		\item We see $M_0$ is simply $k$, so it has dimension $1$.
		\item We see $M_1$ is generated by $x,y,z$, so it has dimension $3$.
		\item We see $M_2$ is generated by $xy,yz,zx,x^2,y^2$, so it has dimension $5$.
		\item For the general case, we note that there is a short exact sequence
		\[0\to R_{d-2}\stackrel{x^2+y^2+z^2}\to R_d\to R_d\to0.\]
		So we see that $\dim M_d=\dim R_d-\dim R_{d-2}=\binom{n+2}2-\binom n2=2n+1$.
	\end{itemize}
	Geometrically, we can see that this is a projective quadratic by the leading coefficient.\todo{check Eisenbud}
\end{proof}
\begin{exe}[Eisenbud 1.19]
	Define $M:=k[x,y,z]/\left(xz-y^2,yx-z^2,xw-yz\right)$. We compute the Hilbert function for $M$.
\end{exe}
\begin{proof}
	For brevity, we set $I:=\left(xz-y^2,yx-z^2,xw-yz\right)$. The key observation is that it happens that\todo{} $I$ is a free $k[x,w]$-module with basis $\{1,y,z\}$.

	Thus, we can view $M$ as a $T:=k[x,w]$-module, and checking the basis, we get that $M=T\oplus T(-1)\oplus T(-1)$ corresponding to our basis elements $\{1,y,z\}$, so it follows that the Hilbert function is $H_M(n)=3n+1$.
\end{proof}
We will start with localization next class.