% !TEX root = ../notes.tex

Chris is giving the lecture today. Reportedly, it might be rough around the edges, but I have full faith in its coherence.

\subsection{Review}
Let's quickly talk about two fun types of categories.
\begin{definition}[Slice categories]
	Fix a category $\mathcal C$ and an object $c\in\mathcal C$.
	\begin{itemize}
		\item We define the \textit{slice category} $\mathcal c/\mathcal C$ to have objects which are morphisms $f:c\to x$ for objects $x\in\mathcal C$. The morphisms from $f:c\to x$ to $g:c\to y$ is a morphism $h:x\to y$ such that $f=gh$. Namely, we require the following triangle to commute.
		% https://q.uiver.app/?q=WzAsMyxbMSwwLCJjIl0sWzAsMSwieCJdLFsyLDEsInkiXSxbMCwxLCJmIiwyXSxbMSwyLCJoIiwyXSxbMCwyLCJnIl1d
		\[\begin{tikzcd}
			& c \\
			x && y
			\arrow["f"', from=1-2, to=2-1]
			\arrow["h"', from=2-1, to=2-3]
			\arrow["g", from=1-2, to=2-3]
		\end{tikzcd}\]
		\item Dual to this is the \textit{slice category} $\mathcal C/c$ where we reverse all the arrows. For example, our objects are morphisms $f:x\to c$, and morphisms from $f:x\to c$ to $g:y\to c$ are morphisms $f:x\to y$ such that $g=hf$.
	\end{itemize}
\end{definition}
There are also groupoids, which we ahvae defined previously.

\subsection{Subcategories}
We have the following definition.
\begin{definition}[Subcategory]
	A \textit{subcategory} of a category $\mathcal C$ is a category $\mathcal D$ whose objects and morphisms come from $\mathcal C$ and that the composition law is inherited. Explicitly, we require $\mathcal D$ to have the identity morphisms and be closed under composition of $\mathcal C$ (i.e., if $f:x\to y$ and $g:y\to z$ are morphisms in $\mathcal D$, then $gf$ is also a morphism in $\mathcal D$.)
\end{definition}
We are going to want ways to generate subcategories. Here is one way.
\begin{definition}[Full subcategory]
	Fix a category $\mathcal C$. Then we define the \textit{full subcategory} $\mathcal D$ of $\mathcal C$ to be defined by choosing some objects $\op{Ob}\mathcal D\subseteq\op{Ob}\mathcal C$ and then choosing morphisms by taking all of them. Explicitly, for $x,y\in\op{Ob}\mathcal D$, we have
	\[\op{Mor}_\mathcal D(x,y)=\op{Mor}_\mathcal C(x,y).\]
\end{definition}
\begin{example}
	The category of abelian groups is a full subcategory of the category of groups. Namely, the category of abelian groups is made of the objects which are abelian groups and all arrows are simply all group homomorphisms, so no morphisms have been lost in this restriction.
\end{example}
\begin{example}
	The category of finite sets is a full subcategory in the category of sets.
\end{example}
\begin{example}
	Given a category $\mathcal C$, one can take the \textit{maximal groupoid} of $\mathcal C$ to be the category whose objects are the objects of $\mathcal C$ and whose morphisms are the isomorphisms of $\mathcal C$. So as long as $\mathcal C$ has morphisms which are not isomorphisms, then the maximal groupoid will not be full.
\end{example}
\begin{example}
	The category $\mathrm{Rng}$ is a subcategory of $\mathrm{Ring}$, but it is not full. For example, in $\mathrm{Ring}$, the map $\ZZ\stackrel{\times2}\ZZ$ is not a morphism even though it is a morphism in $\mathrm{Rng}$.
\end{example}
One has to be a bit careful with this, however.
\begin{nex}
	The category $\mathrm{Grp}$ is not a subcategory of $\mathrm{Set}$ because one can endow the same set with different group structures.
\end{nex}

\subsection{Duality}
Here is our main character.
\begin{definition}[Opposite category]
	Given a category $\mathcal C$, we define the \textit{opposite category} $\mathcal C^{\mathrm{op}}$ to have objects which are objects of $\mathcal C$ and morphisms $f^{\mathrm{op}}:y\to x$ of $\mathcal C^{\mathrm{op}}$ are in one-to-one correspondence with morphisms $f:x\to y$ of $\mathcal C$. Lastly, composition is defined by, for $f^\mathrm{op}:y\to x$ and $g^{\mathrm{op}}:z\to y$, we have
	\[f^\mathrm{op}g^\mathrm{op}=(gf)^\mathrm{op}.\]
\end{definition}
In pictures, the composition law reversed the diagram $x\stackrel f\to y\stackrel g\to z$ to
\[x\stackrel{f^\mathrm{op}}\leftarrow y\stackrel{g^\mathrm{op}}\leftarrow z.\]
Let's see some examples.
\begin{example}
	Given a partial order $(\mathcal P,\le)$, the opposite category is by (partial) ordering $\mathcal P$ simply by flipping the partial order: $b\le_\mathrm{op}a$ if and only if $a\le b$. Namely, the opposite category of a partial order remains a partial order.
\end{example}
\begin{example}
	Fix a group $G$ and form its category $\mathrm BG$. Now, when we reverse the arrows $(\mathrm BG)^{\mathrm{op}}$, we get a category corresponding to the group law $G^\mathrm{op}$ with group law defined by
	\[h^\mathrm{op}g^\mathrm{op}=gh.\]
	Namely, the opposite category of a group is still a group.
\end{example}
\begin{example}
	Algebraic geometry says that $\mathrm{CRing}^\mathrm{op}$ is equivalent to the category of affine schemes $\mathrm{AffSch}$. The point here is that the opposite category is potentially very different from the original category. (Mnemonically, the opposite of algebra is geometry.)
\end{example}
Now, here is the idea of duality.
\begin{idea}
	Theorem statements that hold for categories will need to be true for their opposite category as well.
\end{idea}
As an example, let's work with monomorphisms and epimorphisms. For example, $f:y\to z$ is monic if and only if the commutativity of the diagram
% https://q.uiver.app/?q=WzAsMyxbMCwwLCJ4Il0sWzEsMCwieSJdLFsyLDAsInoiXSxbMCwxLCJnIiwwLHsib2Zmc2V0IjotMX1dLFswLDEsImgiLDIseyJvZmZzZXQiOjF9XSxbMSwyLCJmIiwyXV0=
\[\begin{tikzcd}
	x & y & z
	\arrow["g", shift left=1, from=1-1, to=1-2]
	\arrow["h"', shift right=1, from=1-1, to=1-2]
	\arrow["f"', from=1-2, to=1-3]
\end{tikzcd}\]
forces $g=h$. Similarly, $f:x\to y$ is epic if and only if the commutativity of the diagram
% https://q.uiver.app/?q=WzAsMyxbMSwwLCJ5Il0sWzIsMCwieiJdLFswLDAsIngiXSxbMCwxLCJnIiwwLHsib2Zmc2V0IjotMX1dLFswLDEsImgiLDIseyJvZmZzZXQiOjF9XSxbMiwwLCJmIiwyXV0=
\[\begin{tikzcd}
	x & y & z
	\arrow["g", shift left=1, from=1-2, to=1-3]
	\arrow["h"', shift right=1, from=1-2, to=1-3]
	\arrow["f"', from=1-1, to=1-2]
\end{tikzcd}\]
forces $g=h$. But notice that flipping the epic diagram notes that epic condition is equivalent to the commutativity of the diagram
% https://q.uiver.app/?q=WzAsMyxbMCwwLCJ4Il0sWzEsMCwieSJdLFsyLDAsIngiXSxbMCwxLCJnXlxcbWF0aHJte29wfSIsMCx7Im9mZnNldCI6LTF9XSxbMCwxLCJoXlxcbWF0aHJte29wfSIsMix7Im9mZnNldCI6MX1dLFsxLDIsImZeXFxtYXRocm17b3B9IiwyXV0=
\[\begin{tikzcd}
	x & y & x
	\arrow["{g^\mathrm{op}}", shift left=1, from=1-1, to=1-2]
	\arrow["{h^\mathrm{op}}"', shift right=1, from=1-1, to=1-2]
	\arrow["{f^\mathrm{op}}"', from=1-2, to=1-3]
\end{tikzcd}\]
forces $g=h$, which is the same thing as $g^\mathrm{op}=h^\mathrm{op}$. Thus, we have the following lemma.
\begin{lemma}
	Fix a category $\mathcal C$. Then a morphism $f$ is monic if and only if $f^\mathrm{op}$ is epic in $\mathcal C$.
\end{lemma}
\begin{proof}
	This comes from the discussion above.
\end{proof}
The point is that we can prove theorems about monic and epic maps simultaneously by working with (say) monomorphisms general categories and then dualizing to get the statement about epimorphisms.

Let's see this strategy in action. We have the following definition.
\begin{definition}[Section, retraction]
	Suppose that $s:x\to y$ and $r:y\to x$ are morphisms such that $rs=\id_x$; i.e., the composition
	\[x\stackrel s\to y\stackrel r\to x\]
	is $\id_x$. Then we say that $s$ is a \textit{section} of $r$, and $r$ is a \textit{retraction} of $s$.
\end{definition}
Think about these as having a one-sided inverse. We have the following lemma.
\begin{lemma}
	A morphism $s$ in $\mathcal C$ is a section of some morphism if and only if $s^\mathrm{op}$ is a retraction in $\mathcal C$.
\end{lemma}
\begin{proof}
	Fix $s:x\to y$. The condition that there exists $r$ so that $rs=\id_x$ is equivalent to there exists $r^\mathrm{op}$ such that $s^\mathrm{op}r^\mathrm{op}=\id_x^\mathrm{op}$, which translates into the lemma.
\end{proof}
And now let's actually see a proof.
\begin{proposition}
	A morphism $s$ in $\mathcal C$ is a section of some morphism implies that $s$ is a monomorphism.
\end{proposition}
\begin{proof}
	Suppose that $s:x\to y$ is a section for the morphism $r:y\to x$ so that $rs=\id_x$. Now, suppose that $sg=sh$ so that we want to show $g=h$. But we see that
	\[g=\id_xg=(rs)g=r(sg)=r(sh)=(rs)h=\id_xh=h,\]
	so we are done.
\end{proof}
So here is our dual statement, which we get for free.
\begin{proposition}
	A morphism $r$ in $\mathcal C$ is a retraction of some morphism inplies that $r$ is an epimorphism.
\end{proposition}
\begin{proof}
	We note that $r$ is a retraction in $\mathcal C$ implies that $r^\mathrm{op}$ is a section in $\mathcal C^\mathrm{op}$, so by the above, $r^\mathrm{op}$ is a monomorphism in $\mathcal C^\mathrm{op}$. Thus it follows that $r$ is an epimorphism in $\mathcal C$.
\end{proof}
We've been saying ``section of'' and ``retraction of'' a lot, so we optimize out these words in the following definition.
\begin{definition}[Split mono-, split epi-morphism]
	We say that a morphism $f$ of $\mathcal C$ is a \textit{split monomorphism} if and only if it is a section of some morphism. Similarly, we say that $f$ is a \textit{split epimorphism} if and only if it is the retraction of some morphism.
\end{definition}
So the above statements show that split monomorphisms are in fact monomorphisms, and split epimorphisms are in fact epimorphisms.

\subsection{Yoneda Lite}
So far we have said that monic is similar to injective and epic is similar to surjective. We would like to make these sorts of correspondences a little more concrete, so we add more abstraction.
\begin{definition}[Post- and pre-composition]
	Fix a morphism $f:x\to y$ of $\mathcal C$. Then, given an object $c\in\mathcal C$, we define the maps $f_*:\op{Mor}(c,x)\to\op{Mor}(c,y)$ and $f^*(y,c)\to\op{Mor}(x,c)$ by
	\[f_*(g):=fg\qquad\text{and}f^*(g):=gf.\]
	The map $f_*$ is called \textit{post-composition} because we apply $f$ after; the map $f^*$ is called \textit{pre-composition} because we apply it after.
\end{definition}

Visually, $f_*$ takes

Note that $f_*$ and $f^*$ are nice because they are all real functions of sets (for locally small categories) with which we can use to understand $f$. Here are some equivalent conditions.
\begin{proposition}
	Fix $f$ a morphism of the category $\mathcal C$. Then the following are true.
	\begin{listalph}
		\item $f$ is an isomorphism if and only if $f_*$ is bijective if and only if $f^*$ is bijective.
		\item $f$ is monic if and only if $f_*$ is injective.
		\item $f$ is epic if and only if $f^*$ is injective (!).
		\item $f$ is split monic if and only if $f^*$ is surjective.
		\item $f$ is split epic if and only if $f_*$ is surjective.
	\end{listalph}
\end{proposition}
\begin{proof}
	We omit most of these; let's show (b). We have two directions. Suppose that $f$ is monic. Then fix an object $c$, and we show that the map
	\[f_*:\op{Mor}(c,x)\to\op{Mor}(c,y)\]
	by $f_*(g):=fg$ is injective. But indeed, $f_*(g)=f_*(h)$ implies $fg=fh$ implies $g=h$ by monic, so injectivity follows.

	Conversely, suppose $f_*$ is monic. Then suppose that $fg=fh$ for some morphisms $g,h:c\to x$, and we show that $g=h$. But $f_*$ is injective! So
	\[f_*(g)=fg=fh=f_*(h)\]
	forces $g=h$, and we are done.
\end{proof}